{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n}\n\nexport default function Modal({ isOpen, onClose, title, children, size = 'md' }: ModalProps) {\n  const closeButtonRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n      \n      // Handle ESC key\n      const handleEscape = (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          onClose();\n        }\n      };\n      document.addEventListener('keydown', handleEscape);\n      \n      return () => {\n        document.body.style.overflow = 'unset';\n        document.removeEventListener('keydown', handleEscape);\n      };\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const sizeClasses = {\n    sm: 'max-w-md',\n    md: 'max-w-lg',\n    lg: 'max-w-2xl',\n    xl: 'max-w-4xl',\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 overflow-y-auto\" \n      role=\"dialog\" \n      aria-modal=\"true\"\n      aria-labelledby=\"modal-title\"\n    >\n      <div className=\"flex min-h-screen items-center justify-center p-4\">\n        {/* Backdrop */}\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\n          onClick={onClose}\n          aria-hidden=\"true\"\n        />\n\n        {/* Modal */}\n        <div\n          className={`relative bg-white rounded-lg shadow-xl ${sizeClasses[size]} w-full transform transition-all`}\n        >\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n            <h3 id=\"modal-title\" className=\"text-xl font-semibold text-gray-900\">{title}</h3>\n            <button\n              ref={closeButtonRef}\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 rounded\"\n              aria-label=\"Close modal\"\n            >\n              <svg\n                className=\"w-6 h-6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M6 18L18 6M6 6l12 12\"\n                />\n              </svg>\n            </button>\n          </div>\n\n          {/* Body */}\n          <div className=\"p-6\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAYe,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAc;;IACzF,MAAM,iBAAiB,IAAA,sRAAM,EAAoB;IAEjD,IAAA,yRAAS;2BAAC;YACR,IAAI,QAAQ;gBACV,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBAE/B,iBAAiB;gBACjB,MAAM;oDAAe,CAAC;wBACpB,IAAI,EAAE,GAAG,KAAK,UAAU;4BACtB;wBACF;oBACF;;gBACA,SAAS,gBAAgB,CAAC,WAAW;gBAErC;uCAAO;wBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;wBAC/B,SAAS,mBAAmB,CAAC,WAAW;oBAC1C;;YACF,OAAO;gBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC;QACF;0BAAG;QAAC;QAAQ;KAAQ;IAEpB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,4SAAC;QACC,WAAU;QACV,MAAK;QACL,cAAW;QACX,mBAAgB;kBAEhB,cAAA,4SAAC;YAAI,WAAU;;8BAEb,4SAAC;oBACC,WAAU;oBACV,SAAS;oBACT,eAAY;;;;;;8BAId,4SAAC;oBACC,WAAW,CAAC,uCAAuC,EAAE,WAAW,CAAC,KAAK,CAAC,gCAAgC,CAAC;;sCAGxG,4SAAC;4BAAI,WAAU;;8CACb,4SAAC;oCAAG,IAAG;oCAAc,WAAU;8CAAuC;;;;;;8CACtE,4SAAC;oCACC,KAAK;oCACL,SAAS;oCACT,WAAU;oCACV,cAAW;8CAEX,cAAA,4SAAC;wCACC,WAAU;wCACV,MAAK;wCACL,QAAO;wCACP,SAAQ;wCACR,eAAY;kDAEZ,cAAA,4SAAC;4CACC,eAAc;4CACd,gBAAe;4CACf,aAAa;4CACb,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAOV,4SAAC;4BAAI,WAAU;sCAAO;;;;;;;;;;;;;;;;;;;;;;;AAKhC;GApFwB;KAAA"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/PreviewModal.tsx"],"sourcesContent":["import { Content } from '@/lib/types';\nimport Modal from './Modal';\n\ninterface PreviewModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  content: Content | null;\n}\n\nexport default function PreviewModal({ isOpen, onClose, content }: PreviewModalProps) {\n  if (!content) return null;\n\n  const renderPreview = () => {\n    switch (content.type) {\n      case 'image':\n        return (\n          <img \n            src={content.url} \n            alt={content.name}\n            className=\"max-w-full max-h-[80vh] object-contain cursor-zoom-in\"\n            onClick={(e) => {\n              // Click to toggle zoom\n              e.currentTarget.classList.toggle('scale-150');\n            }}\n          />\n        );\n      \n      case 'video':\n        return (\n          <video \n            src={content.url} \n            controls \n            className=\"w-full max-h-[80vh]\"\n            preload=\"metadata\"\n          />\n        );\n      \n      case 'pdf':\n        return (\n          <iframe \n            src={content.url}\n            className=\"w-full h-[80vh]\"\n            sandbox=\"allow-scripts allow-same-origin\"\n            title={`PDF: ${content.name}`}\n          />\n        );\n      \n      case 'url':\n        return (\n          <div className=\"text-center p-8\">\n            <p className=\"text-gray-600 mb-4\">External content:</p>\n            <a \n              href={content.url} \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"text-blue-600 hover:underline break-all\"\n            >\n              {content.url}\n            </a>\n          </div>\n        );\n      \n      default:\n        return <p className=\"text-gray-500 p-8\">Preview not available for this content type</p>;\n    }\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title={content.name}>\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        {renderPreview()}\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAQe,SAAS,aAAa,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAqB;IAClF,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,gBAAgB;QACpB,OAAQ,QAAQ,IAAI;YAClB,KAAK;gBACH,qBACE,4SAAC;oBACC,KAAK,QAAQ,GAAG;oBAChB,KAAK,QAAQ,IAAI;oBACjB,WAAU;oBACV,SAAS,CAAC;wBACR,uBAAuB;wBACvB,EAAE,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC;oBACnC;;;;;;YAIN,KAAK;gBACH,qBACE,4SAAC;oBACC,KAAK,QAAQ,GAAG;oBAChB,QAAQ;oBACR,WAAU;oBACV,SAAQ;;;;;;YAId,KAAK;gBACH,qBACE,4SAAC;oBACC,KAAK,QAAQ,GAAG;oBAChB,WAAU;oBACV,SAAQ;oBACR,OAAO,CAAC,KAAK,EAAE,QAAQ,IAAI,EAAE;;;;;;YAInC,KAAK;gBACH,qBACE,4SAAC;oBAAI,WAAU;;sCACb,4SAAC;4BAAE,WAAU;sCAAqB;;;;;;sCAClC,4SAAC;4BACC,MAAM,QAAQ,GAAG;4BACjB,QAAO;4BACP,KAAI;4BACJ,WAAU;sCAET,QAAQ,GAAG;;;;;;;;;;;;YAKpB;gBACE,qBAAO,4SAAC;oBAAE,WAAU;8BAAoB;;;;;;QAC5C;IACF;IAEA,qBACE,4SAAC,gJAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,OAAO,QAAQ,IAAI;kBAC1D,cAAA,4SAAC;YAAI,WAAU;sBACZ;;;;;;;;;;;AAIT;KAjEwB"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/ConfirmDialog.tsx"],"sourcesContent":["'use client';\n\nimport { Icon } from '@/theme/icons';\n\ninterface ConfirmDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  type?: 'danger' | 'warning' | 'info';\n}\n\nexport default function ConfirmDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = 'Confirm',\n  cancelText = 'Cancel',\n  type = 'danger',\n}: ConfirmDialogProps) {\n  if (!isOpen) return null;\n\n  const buttonColors = {\n    danger: 'bg-error-600 dark:bg-error-500 hover:bg-error-700 dark:hover:bg-error-600',\n    warning: 'bg-warning-600 dark:bg-warning-500 hover:bg-warning-700 dark:hover:bg-warning-600',\n    info: 'bg-info-600 dark:bg-info-500 hover:bg-info-700 dark:hover:bg-info-600',\n  };\n\n  const iconColors = {\n    danger: 'text-error-600 dark:text-error-500',\n    warning: 'text-warning-600 dark:text-warning-500',\n    info: 'text-info-600 dark:text-info-500',\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n      <div className=\"flex min-h-screen items-center justify-center p-4\">\n        {/* Backdrop */}\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\n          onClick={onClose}\n        />\n\n        {/* Dialog */}\n        <div className=\"relative bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full transform transition-all\">\n          <div className=\"p-6\">\n            <div className=\"flex items-center gap-4\">\n              <div className={`flex-shrink-0 ${iconColors[type]}`}>\n                {type === 'danger' && <Icon name=\"error\" size=\"2xl\" />}\n                {type === 'warning' && <Icon name=\"warning\" size=\"2xl\" />}\n                {type === 'info' && <Icon name=\"info\" size=\"2xl\" />}\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-2\">{title}</h3>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">{message}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 dark:bg-gray-800 px-6 py-4 flex justify-end gap-3 rounded-b-lg\">\n            <button\n              onClick={onClose}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition\"\n            >\n              {cancelText}\n            </button>\n            <button\n              onClick={() => {\n                onConfirm();\n                onClose();\n              }}\n              className={`px-4 py-2 text-sm font-medium text-white rounded-md transition ${buttonColors[type]}`}\n            >\n              {confirmText}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAee,SAAS,cAAc,EACpC,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,SAAS,EACvB,aAAa,QAAQ,EACrB,OAAO,QAAQ,EACI;IACnB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe;QACnB,QAAQ;QACR,SAAS;QACT,MAAM;IACR;IAEA,MAAM,aAAa;QACjB,QAAQ;QACR,SAAS;QACT,MAAM;IACR;IAEA,qBACE,4SAAC;QAAI,WAAU;kBACb,cAAA,4SAAC;YAAI,WAAU;;8BAEb,4SAAC;oBACC,WAAU;oBACV,SAAS;;;;;;8BAIX,4SAAC;oBAAI,WAAU;;sCACb,4SAAC;4BAAI,WAAU;sCACb,cAAA,4SAAC;gCAAI,WAAU;;kDACb,4SAAC;wCAAI,WAAW,CAAC,cAAc,EAAE,UAAU,CAAC,KAAK,EAAE;;4CAChD,SAAS,0BAAY,4SAAC,wIAAI;gDAAC,MAAK;gDAAQ,MAAK;;;;;;4CAC7C,SAAS,2BAAa,4SAAC,wIAAI;gDAAC,MAAK;gDAAU,MAAK;;;;;;4CAChD,SAAS,wBAAU,4SAAC,wIAAI;gDAAC,MAAK;gDAAO,MAAK;;;;;;;;;;;;kDAE7C,4SAAC;wCAAI,WAAU;;0DACb,4SAAC;gDAAG,WAAU;0DAA8D;;;;;;0DAC5E,4SAAC;gDAAE,WAAU;0DAA4C;;;;;;;;;;;;;;;;;;;;;;;sCAK/D,4SAAC;4BAAI,WAAU;;8CACb,4SAAC;oCACC,SAAS;oCACT,WAAU;8CAET;;;;;;8CAEH,4SAAC;oCACC,SAAS;wCACP;wCACA;oCACF;oCACA,WAAW,CAAC,+DAA+D,EAAE,YAAY,CAAC,KAAK,EAAE;8CAEhG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOf;KAtEwB"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/LoadingSpinner.tsx"],"sourcesContent":["export default function LoadingSpinner({ size = 'md' }: { size?: 'sm' | 'md' | 'lg' }) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  return (\n    <div className=\"flex items-center justify-center\" role=\"status\" aria-live=\"polite\" aria-label=\"Loading\">\n      <div\n        className={`${sizeClasses[size]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`}\n        aria-hidden=\"true\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,eAAe,EAAE,OAAO,IAAI,EAAiC;IACnF,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,4SAAC;QAAI,WAAU;QAAmC,MAAK;QAAS,aAAU;QAAS,cAAW;kBAC5F,cAAA,4SAAC;YACC,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,qEAAqE,CAAC;YACtG,eAAY;;;;;;;;;;;AAIpB;KAfwB"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/EmptyState.tsx"],"sourcesContent":["'use client';\n\nimport { Icon } from '@/theme/icons';\nimport type { IconName } from '@/theme/icons';\n\ninterface EmptyStateProps {\n  icon: IconName;\n  title: string;\n  description: string;\n  action?: {\n    label: string;\n    onClick: () => void;\n  };\n  variant?: 'default' | 'minimal';\n}\n\nexport default function EmptyState({\n  icon,\n  title,\n  description,\n  action,\n  variant = 'default',\n}: EmptyStateProps) {\n  if (variant === 'minimal') {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-12 px-4\">\n        <Icon name={icon} size=\"2xl\" className=\"text-gray-300 mb-4\" />\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{title}</h3>\n        <p className=\"text-sm text-gray-500 text-center max-w-sm\">{description}</p>\n        {action && (\n          <button\n            onClick={action.onClick}\n            className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\n          >\n            {action.label}\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-100\">\n      <div className=\"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm\">\n        <Icon name={icon} size=\"2xl\" className=\"text-blue-600\" />\n      </div>\n      <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{title}</h3>\n      <p className=\"text-gray-600 text-center max-w-sm mb-6\">{description}</p>\n      {action && (\n        <button\n          onClick={action.onClick}\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium\"\n        >\n          {action.label}\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAgBe,SAAS,WAAW,EACjC,IAAI,EACJ,KAAK,EACL,WAAW,EACX,MAAM,EACN,UAAU,SAAS,EACH;IAChB,IAAI,YAAY,WAAW;QACzB,qBACE,4SAAC;YAAI,WAAU;;8BACb,4SAAC,wIAAI;oBAAC,MAAM;oBAAM,MAAK;oBAAM,WAAU;;;;;;8BACvC,4SAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAC1D,4SAAC;oBAAE,WAAU;8BAA8C;;;;;;gBAC1D,wBACC,4SAAC;oBACC,SAAS,OAAO,OAAO;oBACvB,WAAU;8BAET,OAAO,KAAK;;;;;;;;;;;;IAKvB;IAEA,qBACE,4SAAC;QAAI,WAAU;;0BACb,4SAAC;gBAAI,WAAU;0BACb,cAAA,4SAAC,wIAAI;oBAAC,MAAM;oBAAM,MAAK;oBAAM,WAAU;;;;;;;;;;;0BAEzC,4SAAC;gBAAG,WAAU;0BAA4C;;;;;;0BAC1D,4SAAC;gBAAE,WAAU;0BAA2C;;;;;;YACvD,wBACC,4SAAC;gBACC,SAAS,OAAO,OAAO;gBACvB,WAAU;0BAET,OAAO,KAAK;;;;;;;;;;;;AAKvB;KA1CwB"}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/SearchFilter.tsx"],"sourcesContent":["'use client';\n\nimport { Icon } from '@/theme/icons';\n\ninterface SearchFilterProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  className?: string;\n}\n\nexport default function SearchFilter({\n  value,\n  onChange,\n  placeholder = 'Search...',\n  className = '',\n}: SearchFilterProps) {\n  return (\n    <div className={`bg-white dark:bg-gray-900 rounded-lg shadow p-4 ${className}`}>\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={placeholder}\n          className=\"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n          autoComplete=\"off\"\n        />\n        <svg\n          className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n          />\n        </svg>\n        {value && (\n          <button\n            onClick={() => onChange('')}\n            className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\n            aria-label=\"Clear search\"\n          >\n            <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAWe,SAAS,aAAa,EACnC,KAAK,EACL,QAAQ,EACR,cAAc,WAAW,EACzB,YAAY,EAAE,EACI;IAClB,qBACE,4SAAC;QAAI,WAAW,CAAC,gDAAgD,EAAE,WAAW;kBAC5E,cAAA,4SAAC;YAAI,WAAU;;8BACb,4SAAC;oBACC,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,aAAa;oBACb,WAAU;oBACV,cAAa;;;;;;8BAEf,4SAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,4SAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;gBAGL,uBACC,4SAAC;oBACC,SAAS,IAAM,SAAS;oBACxB,WAAU;oBACV,cAAW;8BAEX,cAAA,4SAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,4SAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlB;KAjDwB"}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/ContentTagger.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Icon } from '@/theme/icons';\n\nexport interface ContentTag {\n  id: string;\n  name: string;\n  color: string;\n}\n\ninterface ContentTaggerProps {\n  tags: ContentTag[];\n  selectedTags: string[];\n  onChange: (tagIds: string[]) => void;\n  onCreateTag?: (name: string, color: string) => void;\n  className?: string;\n}\n\nconst TAG_COLORS = [\n  { name: 'blue', bg: 'bg-blue-100 dark:bg-blue-900', text: 'text-blue-800 dark:text-blue-200', border: 'border-blue-300 dark:border-blue-700' },\n  { name: 'red', bg: 'bg-red-100 dark:bg-red-900', text: 'text-red-800 dark:text-red-200', border: 'border-red-300 dark:border-red-700' },\n  { name: 'green', bg: 'bg-green-100 dark:bg-green-900', text: 'text-green-800 dark:text-green-200', border: 'border-green-300 dark:border-green-700' },\n  { name: 'purple', bg: 'bg-purple-100 dark:bg-purple-900', text: 'text-purple-800 dark:text-purple-200', border: 'border-purple-300 dark:border-purple-700' },\n  { name: 'yellow', bg: 'bg-yellow-100 dark:bg-yellow-900', text: 'text-yellow-800 dark:text-yellow-200', border: 'border-yellow-300 dark:border-yellow-700' },\n  { name: 'pink', bg: 'bg-pink-100 dark:bg-pink-900', text: 'text-pink-800 dark:text-pink-200', border: 'border-pink-300 dark:border-pink-700' },\n];\n\nexport default function ContentTagger({\n  tags,\n  selectedTags,\n  onChange,\n  onCreateTag,\n  className = '',\n}: ContentTaggerProps) {\n  const [isCreating, setIsCreating] = useState(false);\n  const [newTagName, setNewTagName] = useState('');\n  const [selectedColor, setSelectedColor] = useState(TAG_COLORS[0].name);\n\n  const handleToggleTag = (tagId: string) => {\n    if (selectedTags.includes(tagId)) {\n      onChange(selectedTags.filter(id => id !== tagId));\n    } else {\n      onChange([...selectedTags, tagId]);\n    }\n  };\n\n  const handleCreateTag = () => {\n    if (newTagName.trim() && onCreateTag) {\n      onCreateTag(newTagName, selectedColor);\n      setNewTagName('');\n      setSelectedColor(TAG_COLORS[0].name);\n      setIsCreating(false);\n    }\n  };\n\n  const getColorClasses = (color: string) => {\n    return TAG_COLORS.find(c => c.name === color) || TAG_COLORS[0];\n  };\n\n  return (\n    <div className={`space-y-3 ${className}`}>\n      {/* Tag Display */}\n      {tags.length > 0 && (\n        <div className=\"flex flex-wrap gap-2\">\n          {tags.map(tag => {\n            const isSelected = selectedTags.includes(tag.id);\n            const colorClasses = getColorClasses(tag.color);\n\n            return (\n              <button\n                key={tag.id}\n                onClick={() => handleToggleTag(tag.id)}\n                className={`px-3 py-1.5 rounded-full text-xs font-semibold transition-all ${\n                  isSelected\n                    ? `${colorClasses.bg} ${colorClasses.text} ring-2 ring-offset-1 dark:ring-offset-gray-900 ring-gray-400`\n                    : `${colorClasses.bg} ${colorClasses.text} opacity-60 hover:opacity-100`\n                }`}\n              >\n                {tag.name}\n              </button>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Create New Tag */}\n      {onCreateTag && (\n        <>\n          {!isCreating ? (\n            <button\n              onClick={() => setIsCreating(true)}\n              className=\"px-3 py-1.5 rounded-full text-xs font-medium border-2 border-dashed border-gray-300 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-blue-400 dark:hover:border-blue-600 hover:text-blue-600 dark:hover:text-blue-400 transition\"\n            >\n              + Add Tag\n            </button>\n          ) : (\n            <div className=\"border border-gray-300 dark:border-gray-700 rounded-lg p-3 space-y-2\">\n              <input\n                type=\"text\"\n                value={newTagName}\n                onChange={e => setNewTagName(e.target.value)}\n                placeholder=\"Tag name (e.g., Holiday, Promotion, Q4)\"\n                className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-700 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500\"\n                autoFocus\n              />\n\n              {/* Color Picker */}\n              <div className=\"flex gap-2\">\n                {TAG_COLORS.map(color => (\n                  <button\n                    key={color.name}\n                    onClick={() => setSelectedColor(color.name)}\n                    className={`w-6 h-6 rounded-full border-2 transition ${\n                      selectedColor === color.name\n                        ? 'border-gray-900 dark:border-white'\n                        : 'border-transparent'\n                    } ${color.bg}`}\n                    title={color.name}\n                  />\n                ))}\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={handleCreateTag}\n                  disabled={!newTagName.trim()}\n                  className=\"flex-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 transition\"\n                >\n                  Create\n                </button>\n                <button\n                  onClick={() => {\n                    setIsCreating(false);\n                    setNewTagName('');\n                    setSelectedColor(TAG_COLORS[0].name);\n                  }}\n                  className=\"flex-1 px-3 py-1.5 text-sm bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-50 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {/* Selected Tags Count */}\n      {selectedTags.length > 0 && (\n        <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n          {selectedTags.length} tag{selectedTags.length !== 1 ? 's' : ''} selected\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 902, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/Toast.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Icon } from '@/theme/icons';\nimport type { IconName } from '@/theme/icons';\n\nexport type ToastType = 'success' | 'error' | 'info' | 'warning';\n\ninterface ToastProps {\n  message: string;\n  type: ToastType;\n  onClose: () => void;\n  duration?: number;\n}\n\nexport default function Toast({ message, type, onClose, duration = 5000 }: ToastProps) {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsVisible(false);\n      setTimeout(onClose, 300);\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  const colors = {\n    success: 'bg-success-500 text-white',\n    error: 'bg-error-500 text-white',\n    info: 'bg-info-500 text-white',\n    warning: 'bg-warning-500 text-white',\n  };\n\n  const icons: Record<ToastType, IconName> = {\n    success: 'success',\n    error: 'delete',\n    info: 'info',\n    warning: 'warning',\n  };\n\n  return (\n    <div\n      role=\"alert\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n      className={`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${\n        colors[type]\n      } transform transition-all duration-300 ${\n        isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'\n      }`}\n    >\n      <Icon name={icons[type]} size=\"md\" className=\"text-white\" />\n      <span className=\"font-medium\">{message}</span>\n      <button\n        onClick={() => {\n          setIsVisible(false);\n          setTimeout(onClose, 300);\n        }}\n        className=\"ml-4 hover:opacity-75 transition\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path\n            fillRule=\"evenodd\"\n            d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAee,SAAS,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,IAAI,EAAc;;IACnF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wRAAQ,EAAC;IAE3C,IAAA,yRAAS;2BAAC;YACR,MAAM,QAAQ;yCAAW;oBACvB,aAAa;oBACb,WAAW,SAAS;gBACtB;wCAAG;YAEH;mCAAO,IAAM,aAAa;;QAC5B;0BAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,SAAS;QACb,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,MAAM,QAAqC;QACzC,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,qBACE,4SAAC;QACC,MAAK;QACL,aAAU;QACV,eAAY;QACZ,WAAW,CAAC,2FAA2F,EACrG,MAAM,CAAC,KAAK,CACb,uCAAuC,EACtC,YAAY,8BAA8B,8BAC1C;;0BAEF,4SAAC,wIAAI;gBAAC,MAAM,KAAK,CAAC,KAAK;gBAAE,MAAK;gBAAK,WAAU;;;;;;0BAC7C,4SAAC;gBAAK,WAAU;0BAAe;;;;;;0BAC/B,4SAAC;gBACC,SAAS;oBACP,aAAa;oBACb,WAAW,SAAS;gBACtB;gBACA,WAAU;0BAEV,cAAA,4SAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAe,SAAQ;8BACnD,cAAA,4SAAC;wBACC,UAAS;wBACT,GAAE;wBACF,UAAS;;;;;;;;;;;;;;;;;;;;;;AAMrB;GAxDwB;KAAA"}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useToast.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport Toast, { ToastType } from '@/components/Toast';\n\ninterface ToastItem {\n  id: string;\n  message: string;\n  type: ToastType;\n}\n\nexport function useToast() {\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\n\n  // Define removeToast first\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  const showToast = useCallback((message: string, type: ToastType = 'info', duration = 5000) => {\n    const id = Math.random().toString(36).substring(7);\n    setToasts((prev) => [...prev, { id, message, type }]);\n    \n    // Auto-remove after duration\n    if (duration > 0) {\n      setTimeout(() => {\n        removeToast(id);\n      }, duration);\n    }\n  }, [removeToast]);\n\n  const ToastContainer = useCallback(\n    () => (\n      <>\n        {toasts.map((toast) => (\n          <Toast\n            key={toast.id}\n            message={toast.message}\n            type={toast.type}\n            onClose={() => removeToast(toast.id)}\n          />\n        ))}\n      </>\n    ),\n    [toasts, removeToast]\n  );\n\n  return {\n    showToast,\n    success: (message: string) => showToast(message, 'success'),\n    error: (message: string) => showToast(message, 'error'),\n    info: (message: string) => showToast(message, 'info'),\n    warning: (message: string) => showToast(message, 'warning'),\n    ToastContainer,\n  };\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAWO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wRAAQ,EAAc,EAAE;IAEpD,2BAA2B;IAC3B,MAAM,cAAc,IAAA,2RAAW;6CAAC,CAAC;YAC/B;qDAAU,CAAC,OAAS,KAAK,MAAM;6DAAC,CAAC,QAAU,MAAM,EAAE,KAAK;;;QAC1D;4CAAG,EAAE;IAEL,MAAM,YAAY,IAAA,2RAAW;2CAAC,CAAC,SAAiB,OAAkB,MAAM,EAAE,WAAW,IAAI;YACvF,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC;YAChD;mDAAU,CAAC,OAAS;2BAAI;wBAAM;4BAAE;4BAAI;4BAAS;wBAAK;qBAAE;;YAEpD,6BAA6B;YAC7B,IAAI,WAAW,GAAG;gBAChB;uDAAW;wBACT,YAAY;oBACd;sDAAG;YACL;QACF;0CAAG;QAAC;KAAY;IAEhB,MAAM,iBAAiB,IAAA,2RAAW;gDAChC,kBACE;0BACG,OAAO,GAAG;4DAAC,CAAC,sBACX,4SAAC,gJAAK;4BAEJ,SAAS,MAAM,OAAO;4BACtB,MAAM,MAAM,IAAI;4BAChB,OAAO;wEAAE,IAAM,YAAY,MAAM,EAAE;;2BAH9B,MAAM,EAAE;;;;;;;+CAQrB;QAAC;QAAQ;KAAY;IAGvB,OAAO;QACL;QACA,SAAS,CAAC,UAAoB,UAAU,SAAS;QACjD,OAAO,CAAC,UAAoB,UAAU,SAAS;QAC/C,MAAM,CAAC,UAAoB,UAAU,SAAS;QAC9C,SAAS,CAAC,UAAoB,UAAU,SAAS;QACjD;IACF;AACF;GA5CgB"}},
    {"offset": {"line": 1102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useDebounce.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n/**\n * Debounce hook - delays updating value until user stops typing\n * @param value - The value to debounce\n * @param delay - Delay in milliseconds (default: 300ms)\n * @returns Debounced value\n */\nexport function useDebounce<T>(value: T, delay: number = 300): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    // Set timeout to update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cleanup timeout if value changes before delay completes\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAQO,SAAS,YAAe,KAAQ,EAAE,QAAgB,GAAG;;IAC1D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wRAAQ,EAAI;IAExD,IAAA,yRAAS;iCAAC;YACR,oDAAoD;YACpD,MAAM,UAAU;iDAAW;oBACzB,kBAAkB;gBACpB;gDAAG;YAEH,0DAA0D;YAC1D;yCAAO;oBACL,aAAa;gBACf;;QACF;gCAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT;GAhBgB"}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useTheme.ts"],"sourcesContent":["'use client';\n\nexport { useTheme } from '@/components/providers/ThemeProvider';\n"],"names":[],"mappings":";AAEA;AAFA"}},
    {"offset": {"line": 1152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useAnalyticsData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { apiClient } from '@/lib/api';\n\ntype DateRange = 'week' | 'month' | 'year';\n\n/**\n * Device Metrics Hook - Real API Integration\n * Fetches device uptime/status metrics over time\n */\nexport function useDeviceMetrics(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Map date range to days\n        const daysMap: Record<DateRange, number> = {\n          week: 7,\n          month: 30,\n          year: 365,\n        };\n        const days = daysMap[dateRange];\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getDeviceMetrics?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          // Fall through to mock data if API not available\n          console.log('Analytics API not available, using mock data');\n        }\n\n        // Generate mock data if API unavailable\n        const mockData = Array.from({ length: days }, (_, i) => ({\n          date: new Date(Date.now() - (days - 1 - i) * 24 * 60 * 60 * 1000).toLocaleDateString(\n            'en-US',\n            { month: 'short', day: 'numeric' }\n          ),\n          mobile: 85 + Math.random() * 10,\n          tablet: 92 + Math.random() * 8,\n          desktop: 98 + Math.random() * 2,\n        }));\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device metrics');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Content Performance Hook - Real API Integration\n */\nexport function useContentPerformance(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getContentPerformance?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Content performance API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = [\n          { title: 'Welcome Video', views: 1240, engagement: 87, shares: 45 },\n          { title: 'Product Demo', views: 980, engagement: 76, shares: 32 },\n          { title: 'Tutorial Series', views: 2100, engagement: 92, shares: 58 },\n          { title: 'Company Overview', views: 650, engagement: 64, shares: 18 },\n          { title: 'Customer Testimonials', views: 1580, engagement: 89, shares: 42 },\n          { title: 'FAQ Section', views: 420, engagement: 45, shares: 12 },\n        ];\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch content performance');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Usage Trends Hook - Real API Integration\n */\nexport function useUsageTrends(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        const daysMap: Record<DateRange, number> = {\n          week: 7,\n          month: 30,\n          year: 365,\n        };\n        const days = daysMap[dateRange];\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getUsageTrends?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Usage trends API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = Array.from({ length: days }, (_, i) => ({\n          date: new Date(Date.now() - (days - 1 - i) * 24 * 60 * 60 * 1000).toLocaleDateString(\n            'en-US',\n            { month: 'short', day: 'numeric' }\n          ),\n          video: 2400 + Math.random() * 800,\n          image: 1200 + Math.random() * 400,\n          text: 600 + Math.random() * 300,\n          interactive: 800 + Math.random() * 400,\n        }));\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch usage trends');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Device Distribution Hook - Real API Integration\n */\nexport function useDeviceDistribution() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getDeviceDistribution?.();\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Device distribution API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = [\n          { name: 'Smartphones', value: 35, color: '#3B82F6' },\n          { name: 'Tablets', value: 25, color: '#8B5CF6' },\n          { name: 'Desktop Displays', value: 28, color: '#EC4899' },\n          { name: 'Smart TVs', value: 8, color: '#F59E0B' },\n          { name: 'Interactive Kiosks', value: 4, color: '#10B981' },\n        ];\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device distribution');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Bandwidth Usage Hook - Real API Integration\n */\nexport function useBandwidthUsage(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        const daysMap: Record<DateRange, number> = {\n          week: 7,\n          month: 30,\n          year: 365,\n        };\n        const days = daysMap[dateRange];\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getBandwidthUsage?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Bandwidth usage API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = Array.from({ length: days }, (_, i) => ({\n          date: new Date(Date.now() - (days - 1 - i) * 24 * 60 * 60 * 1000).toLocaleDateString(\n            'en-US',\n            { month: 'short', day: 'numeric' }\n          ),\n          current: 2400 + Math.random() * 1000,\n          average: 2200,\n          peak: 3200,\n        }));\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch bandwidth usage');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Playlist Performance Hook - Real API Integration\n */\nexport function usePlaylistPerformance(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getPlaylistPerformance?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Playlist performance API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = [\n          { name: 'Morning Promotions', plays: 234, engagement: 87, uniqueDevices: 12 },\n          { name: 'Lunch Specials', plays: 189, engagement: 92, uniqueDevices: 10 },\n          { name: 'Evening Content', plays: 156, engagement: 78, uniqueDevices: 8 },\n          { name: 'Educational Videos', plays: 298, engagement: 85, uniqueDevices: 15 },\n          { name: 'Emergency Alerts', plays: 45, engagement: 95, uniqueDevices: 5 },\n        ];\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch playlist performance');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useChartData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\n/**\n * Device Metrics Hook\n * Returns device uptime/status over time\n */\nexport function useDeviceMetrics() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        // In production, fetch from real API\n        // For now, generate mock data\n        const mockData = Array.from({ length: 30 }, (_, i) => ({\n          date: new Date(Date.now() - (29 - i) * 24 * 60 * 60 * 1000)\n            .toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n          mobile: 85 + Math.random() * 10,\n          tablet: 92 + Math.random() * 8,\n          desktop: 98 + Math.random() * 2,\n        }));\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device metrics');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Content Performance Hook\n * Returns content views and engagement metrics\n */\nexport function useContentPerformance() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = [\n          { title: 'Welcome Video', views: 1240, engagement: 87, shares: 45 },\n          { title: 'Product Demo', views: 980, engagement: 76, shares: 32 },\n          { title: 'Tutorial Series', views: 2100, engagement: 92, shares: 58 },\n          { title: 'Company Overview', views: 650, engagement: 64, shares: 18 },\n          { title: 'Customer Testimonials', views: 1580, engagement: 89, shares: 42 },\n          { title: 'FAQ Section', views: 420, engagement: 45, shares: 12 },\n        ];\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch content performance');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Usage Trends Hook\n * Returns overall usage patterns by content type\n */\nexport function useUsageTrends() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = Array.from({ length: 30 }, (_, i) => ({\n          date: new Date(Date.now() - (29 - i) * 24 * 60 * 60 * 1000)\n            .toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n          video: 2400 + Math.random() * 800,\n          image: 1200 + Math.random() * 400,\n          text: 600 + Math.random() * 300,\n          interactive: 800 + Math.random() * 400,\n        }));\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch usage trends');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Device Distribution Hook\n * Returns device type breakdown\n */\nexport function useDeviceDistribution() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = [\n          { name: 'Mobile Displays', value: 35, count: 128 },\n          { name: 'Tablets', value: 25, count: 92 },\n          { name: 'Desktop Screens', value: 20, count: 73 },\n          { name: 'Smart TVs', value: 15, count: 55 },\n          { name: 'Kiosks', value: 5, count: 18 },\n        ];\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device distribution');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Bandwidth Usage Hook\n * Returns network usage over time\n */\nexport function useBandwidthUsage() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = Array.from({ length: 24 }, (_, i) => {\n          const hour = String(i).padStart(2, '0');\n          return {\n            time: `${hour}:00`,\n            current: 45 + Math.random() * 50,\n            average: 42,\n            peak: 85,\n          };\n        });\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch bandwidth usage');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Playlist Performance Hook\n * Returns top playlists by engagement\n */\nexport function usePlaylistPerformance() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = [\n          { name: 'Morning Briefing', views: 3200, avgWatchTime: 12, completion: 78 },\n          { name: 'Product Launch', views: 2800, avgWatchTime: 15, completion: 85 },\n          { name: 'Weekly Updates', views: 2400, avgWatchTime: 10, completion: 72 },\n          { name: 'Training Series', views: 1900, avgWatchTime: 25, completion: 65 },\n          { name: 'Event Coverage', views: 1200, avgWatchTime: 8, completion: 55 },\n        ];\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch playlist performance');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1947, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useRealtimeEvents.ts"],"sourcesContent":["// Real-time Event Handlers for Vizora\n// Manages Socket.io events with advanced state synchronization, optimistic updates, and error recovery\n\nimport { useEffect, useCallback, useRef, useState } from 'react';\nimport { useSocket } from './useSocket';\nimport type { Display, Content, Playlist, Schedule } from '../types';\n\n// Event types\nexport type DeviceStatusUpdate = {\n  deviceId: string;\n  status: 'online' | 'offline';\n  lastSeen: string;\n  currentPlaylistId?: string;\n};\n\nexport type PlaylistUpdate = {\n  playlistId: string;\n  action: 'created' | 'updated' | 'deleted' | 'items_reordered';\n  payload: Partial<Playlist>;\n};\n\nexport type HealthAlert = {\n  deviceId: string;\n  alertType: 'high_cpu' | 'high_memory' | 'disk_full' | 'offline' | 'error';\n  severity: 'critical' | 'warning' | 'info';\n  message: string;\n  timestamp: string;\n};\n\nexport type ScheduleExecution = {\n  scheduleId: string;\n  displayId: string;\n  playlistId: string;\n  action: 'started' | 'completed' | 'failed';\n  timestamp: string;\n  error?: string;\n};\n\n// Sync Queue for offline support\ninterface SyncQueueItem {\n  id: string;\n  event: string;\n  data: any;\n  timestamp: number;\n  retryCount: number;\n}\n\n// State synchronization with conflict resolution\ninterface SyncState {\n  lastSyncTime: number;\n  pendingChanges: Map<string, any>;\n  conflictedChanges: Map<string, any>;\n}\n\nexport interface UseRealtimeEventsOptions {\n  enabled?: boolean;\n  onDeviceStatusChange?: (update: DeviceStatusUpdate) => void;\n  onPlaylistChange?: (update: PlaylistUpdate) => void;\n  onHealthAlert?: (alert: HealthAlert) => void;\n  onScheduleExecution?: (execution: ScheduleExecution) => void;\n  onConnectionChange?: (isConnected: boolean) => void;\n  onSyncStateChange?: (state: SyncState) => void;\n  offlineQueueSize?: number;\n  retryAttempts?: number;\n}\n\nexport function useRealtimeEvents(options: UseRealtimeEventsOptions = {}) {\n  const {\n    enabled = true,\n    onDeviceStatusChange,\n    onPlaylistChange,\n    onHealthAlert,\n    onScheduleExecution,\n    onConnectionChange,\n    onSyncStateChange,\n    offlineQueueSize = 50,\n    retryAttempts = 3,\n  } = options;\n\n  const { socket, isConnected, on } = useSocket();\n  const [isOffline, setIsOffline] = useState(false);\n  const [syncState, setSyncState] = useState<SyncState>({\n    lastSyncTime: Date.now(),\n    pendingChanges: new Map(),\n    conflictedChanges: new Map(),\n  });\n\n  // Offline sync queue\n  const syncQueueRef = useRef<SyncQueueItem[]>([]);\n  const offlineQueueRef = useRef<SyncQueueItem[]>([]);\n\n  // Emit event with optimistic update support\n  const emitEvent = useCallback(\n    (event: string, data: any, options?: { optimistic?: boolean; onRollback?: () => void }) => {\n      if (!socket) return;\n\n      const eventId = `${event}_${Date.now()}_${Math.random()}`;\n\n      // Add to pending changes if optimistic\n      if (options?.optimistic) {\n        setSyncState((prev) => ({\n          ...prev,\n          pendingChanges: new Map(prev.pendingChanges).set(eventId, { event, data }),\n        }));\n      }\n\n      // Emit through socket or add to offline queue\n      if (isConnected && socket) {\n        socket.emit(event, { ...data, eventId });\n      } else {\n        // Add to offline queue\n        const queueItem: SyncQueueItem = {\n          id: eventId,\n          event,\n          data: { ...data, eventId },\n          timestamp: Date.now(),\n          retryCount: 0,\n        };\n\n        offlineQueueRef.current.push(queueItem);\n\n        // Respect queue size limit\n        if (offlineQueueRef.current.length > offlineQueueSize) {\n          offlineQueueRef.current.shift();\n        }\n\n        console.log('[RealtimeEvents] Event queued offline:', event, queueItem);\n      }\n    },\n    [socket, isConnected, offlineQueueSize]\n  );\n\n  // Conflict resolution for state synchronization\n  const resolveConflict = useCallback(\n    (localChange: any, remoteChange: any): any => {\n      // Strategy: Remote wins (server is source of truth)\n      // But merge if they affect different fields\n      if (\n        typeof localChange === 'object' &&\n        typeof remoteChange === 'object' &&\n        !Array.isArray(localChange)\n      ) {\n        return {\n          ...localChange,\n          ...remoteChange,\n          // Keep local timestamp for optimistic updates\n          _localTimestamp: localChange._localTimestamp,\n          _remoteTimestamp: remoteChange._remoteTimestamp,\n        };\n      }\n      return remoteChange;\n    },\n    []\n  );\n\n  // Sync offline queue when reconnected\n  const syncOfflineQueue = useCallback(async () => {\n    if (!isConnected || !socket) return;\n\n    const itemsToSync = [...offlineQueueRef.current];\n    console.log('[RealtimeEvents] Syncing offline queue, items:', itemsToSync.length);\n\n    for (const item of itemsToSync) {\n      if (item.retryCount >= retryAttempts) {\n        console.warn('[RealtimeEvents] Max retries exceeded for:', item.event, item.id);\n        // Move to conflicted changes for manual resolution\n        setSyncState((prev) => ({\n          ...prev,\n          conflictedChanges: new Map(prev.conflictedChanges).set(item.id, item),\n        }));\n        continue;\n      }\n\n      try {\n        socket.emit(item.event, item.data);\n        item.retryCount++;\n\n        // Remove from queue after successful emit\n        offlineQueueRef.current = offlineQueueRef.current.filter((qi) => qi.id !== item.id);\n        console.log('[RealtimeEvents] Successfully synced:', item.event);\n      } catch (error) {\n        console.error('[RealtimeEvents] Failed to sync event:', error);\n        item.retryCount++;\n      }\n    }\n\n    // Update sync state\n    setSyncState((prev) => ({\n      ...prev,\n      lastSyncTime: Date.now(),\n    }));\n  }, [isConnected, socket, retryAttempts]);\n\n  // Device status update handler\n  const handleDeviceStatusUpdate = useCallback(\n    (update: DeviceStatusUpdate) => {\n      console.log('[RealtimeEvents] Device status update:', update);\n      onDeviceStatusChange?.(update);\n\n      // Remove from pending changes if this was an optimistic update\n      setSyncState((prev) => ({\n        ...prev,\n        pendingChanges: new Map(\n          [...prev.pendingChanges].filter(([_, val]) => val.deviceId !== update.deviceId)\n        ),\n      }));\n    },\n    [onDeviceStatusChange]\n  );\n\n  // Playlist update handler with conflict resolution\n  const handlePlaylistUpdate = useCallback(\n    (update: PlaylistUpdate) => {\n      console.log('[RealtimeEvents] Playlist update:', update);\n      onPlaylistChange?.(update);\n\n      // Check for conflicts with pending changes\n      setSyncState((prev) => {\n        const conflicted = [...prev.pendingChanges.entries()].filter(\n          ([_, val]) => val.playlistId === update.playlistId\n        );\n\n        if (conflicted.length > 0) {\n          const resolved = resolveConflict(conflicted[0][1], update.payload);\n          return {\n            ...prev,\n            pendingChanges: new Map(\n              [...prev.pendingChanges].filter(([id]) => !conflicted.some(([cId]) => cId === id))\n            ),\n          };\n        }\n\n        return prev;\n      });\n    },\n    [onPlaylistChange, resolveConflict]\n  );\n\n  // Health alert handler\n  const handleHealthAlert = useCallback(\n    (alert: HealthAlert) => {\n      console.log('[RealtimeEvents] Health alert:', alert);\n      onHealthAlert?.(alert);\n    },\n    [onHealthAlert]\n  );\n\n  // Schedule execution handler\n  const handleScheduleExecution = useCallback(\n    (execution: ScheduleExecution) => {\n      console.log('[RealtimeEvents] Schedule execution:', execution);\n      onScheduleExecution?.(execution);\n    },\n    [onScheduleExecution]\n  );\n\n  // Setup Socket.io event listeners\n  useEffect(() => {\n    if (!enabled || !socket) return;\n\n    // Device status updates\n    const unsubDeviceStatus = on('device:status-update', handleDeviceStatusUpdate);\n\n    // Playlist changes\n    const unsubPlaylist = on('playlist:updated', handlePlaylistUpdate);\n\n    // Health alerts\n    const unsubHealth = on('health:alert', handleHealthAlert);\n\n    // Schedule execution\n    const unsubSchedule = on('schedule:executed', handleScheduleExecution);\n\n    // Connection state change\n    const unsubConnect = on('connect', () => {\n      setIsOffline(false);\n      onConnectionChange?.(true);\n      console.log('[RealtimeEvents] Connected, syncing offline queue...');\n      syncOfflineQueue();\n    });\n\n    const unsubDisconnect = on('disconnect', () => {\n      setIsOffline(true);\n      onConnectionChange?.(false);\n      console.log('[RealtimeEvents] Disconnected, offline mode enabled');\n    });\n\n    // Sync state update callback\n    if (onSyncStateChange) {\n      onSyncStateChange(syncState);\n    }\n\n    return () => {\n      unsubDeviceStatus?.();\n      unsubPlaylist?.();\n      unsubHealth?.();\n      unsubSchedule?.();\n      unsubConnect?.();\n      unsubDisconnect?.();\n    };\n  }, [\n    enabled,\n    socket,\n    on,\n    handleDeviceStatusUpdate,\n    handlePlaylistUpdate,\n    handleHealthAlert,\n    handleScheduleExecution,\n    onConnectionChange,\n    onSyncStateChange,\n    syncState,\n    syncOfflineQueue,\n  ]);\n\n  // Monitor offline/online status\n  useEffect(() => {\n    const handleOnline = () => {\n      console.log('[RealtimeEvents] Browser online, attempting to sync...');\n      setIsOffline(false);\n      if (isConnected) {\n        syncOfflineQueue();\n      }\n    };\n\n    const handleOffline = () => {\n      console.log('[RealtimeEvents] Browser offline, queuing events...');\n      setIsOffline(true);\n    };\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, [isConnected, syncOfflineQueue]);\n\n  // Public API\n  return {\n    // State\n    isConnected,\n    isOffline,\n    syncState,\n    offlineQueueLength: offlineQueueRef.current.length,\n\n    // Methods\n    emitDeviceUpdate: (data: DeviceStatusUpdate) => {\n      emitEvent('device:update', data, { optimistic: true });\n    },\n    emitPlaylistUpdate: (data: PlaylistUpdate) => {\n      emitEvent('playlist:update', data, { optimistic: true });\n    },\n    emitScheduleUpdate: (data: ScheduleExecution) => {\n      emitEvent('schedule:update', data, { optimistic: true });\n    },\n    emitCustomEvent: (event: string, data: any, options?: { optimistic?: boolean }) => {\n      emitEvent(event, data, options);\n    },\n\n    // Sync management\n    syncOfflineQueue,\n    clearOfflineQueue: () => {\n      console.log('[RealtimeEvents] Clearing offline queue');\n      offlineQueueRef.current = [];\n    },\n    getOfflineQueue: () => [...offlineQueueRef.current],\n    getConflictedChanges: () => new Map(syncState.conflictedChanges),\n    resolveConflict,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2292, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useOptimisticState.ts"],"sourcesContent":["// Optimistic State Management with Rollback Support\n// Handles optimistic UI updates with automatic rollback on failure\n\nimport { useState, useCallback, useRef } from 'react';\n\nexport interface OptimisticUpdate<T> {\n  id: string;\n  previousState: T;\n  optimisticState: T;\n  timestamp: number;\n  metadata?: Record<string, any>;\n}\n\nexport interface UseOptimisticStateOptions {\n  onRollback?: (update: OptimisticUpdate<any>) => void;\n  onCommit?: (update: OptimisticUpdate<any>) => void;\n  enableLogging?: boolean;\n}\n\nexport function useOptimisticState<T>(\n  initialState: T,\n  options: UseOptimisticStateOptions = {}\n) {\n  const { onRollback, onCommit, enableLogging = true } = options;\n\n  const [state, setState] = useState<T>(initialState);\n  const [pendingUpdates, setPendingUpdates] = useState<Map<string, OptimisticUpdate<T>>>(\n    new Map()\n  );\n  const updateQueueRef = useRef<OptimisticUpdate<T>[]>([]);\n\n  // Apply optimistic update\n  const updateOptimistic = useCallback(\n    (id: string, updater: (prev: T) => T, metadata?: Record<string, any>) => {\n      setState((prevState) => {\n        const optimisticState = updater(prevState);\n\n        // Track the update\n        const update: OptimisticUpdate<T> = {\n          id,\n          previousState: prevState,\n          optimisticState,\n          timestamp: Date.now(),\n          metadata,\n        };\n\n        setPendingUpdates((prev) => new Map(prev).set(id, update));\n        updateQueueRef.current.push(update);\n\n        if (enableLogging) {\n          console.log('[OptimisticState] Applied optimistic update:', id, {\n            previous: prevState,\n            optimistic: optimisticState,\n          });\n        }\n\n        return optimisticState;\n      });\n    },\n    [enableLogging]\n  );\n\n  // Commit optimistic update (confirm with server)\n  const commitOptimistic = useCallback((id: string) => {\n    setPendingUpdates((prev) => {\n      const updated = new Map(prev);\n      const update = updated.get(id);\n\n      if (update) {\n        if (enableLogging) {\n          console.log('[OptimisticState] Committed update:', id);\n        }\n        onCommit?.(update);\n        updated.delete(id);\n      }\n\n      return updated;\n    });\n  }, [enableLogging, onCommit]);\n\n  // Rollback optimistic update on failure\n  const rollbackOptimistic = useCallback(\n    (id: string, fallbackState?: T) => {\n      setPendingUpdates((prev) => {\n        const updated = new Map(prev);\n        const update = updated.get(id);\n\n        if (update) {\n          setState(fallbackState ?? update.previousState);\n\n          if (enableLogging) {\n            console.log('[OptimisticState] Rolled back update:', id, {\n              previousState: update.previousState,\n            });\n          }\n\n          onRollback?.(update);\n          updated.delete(id);\n        }\n\n        return updated;\n      });\n    },\n    [enableLogging, onRollback]\n  );\n\n  // Rollback all pending updates\n  const rollbackAll = useCallback(() => {\n    setPendingUpdates((prev) => {\n      if (prev.size === 0) return prev;\n\n      // Get the first update to find the original state\n      const updates = Array.from(prev.values());\n      const originalState = updates[0]?.previousState;\n\n      if (originalState) {\n        setState(originalState);\n\n        if (enableLogging) {\n          console.log('[OptimisticState] Rolled back all updates:', prev.size);\n        }\n\n        updates.forEach((update) => onRollback?.(update));\n      }\n\n      return new Map();\n    });\n  }, [enableLogging, onRollback]);\n\n  // Batch optimistic updates\n  const batchUpdate = useCallback(\n    (updates: Array<{ id: string; updater: (prev: T) => T; metadata?: Record<string, any> }>) => {\n      setState((prevState) => {\n        let currentState = prevState;\n\n        updates.forEach(({ id, updater, metadata }) => {\n          currentState = updater(currentState);\n\n          const update: OptimisticUpdate<T> = {\n            id,\n            previousState: prevState,\n            optimisticState: currentState,\n            timestamp: Date.now(),\n            metadata,\n          };\n\n          setPendingUpdates((prev) => new Map(prev).set(id, update));\n          updateQueueRef.current.push(update);\n\n          if (enableLogging) {\n            console.log('[OptimisticState] Batched update:', id);\n          }\n        });\n\n        return currentState;\n      });\n    },\n    [enableLogging]\n  );\n\n  return {\n    state,\n    pendingUpdates,\n    updateOptimistic,\n    commitOptimistic,\n    rollbackOptimistic,\n    rollbackAll,\n    batchUpdate,\n    getPendingCount: () => pendingUpdates.size,\n    hasPendingUpdates: () => pendingUpdates.size > 0,\n    getUpdateQueue: () => [...updateQueueRef.current],\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2466, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useErrorRecovery.ts"],"sourcesContent":["// Advanced Error Recovery and Retry Logic\n// Handles exponential backoff, circuit breaker pattern, and intelligent retries\n\nimport { useCallback, useRef, useState } from 'react';\n\nexport type ErrorSeverity = 'critical' | 'warning' | 'info';\n\nexport interface RetryConfig {\n  maxAttempts: number;\n  initialDelay: number; // milliseconds\n  maxDelay: number; // milliseconds\n  backoffMultiplier: number; // exponential backoff factor\n  jitter: boolean; // add randomness to prevent thundering herd\n}\n\nexport interface CircuitBreakerConfig {\n  failureThreshold: number; // number of failures before opening circuit\n  successThreshold: number; // number of successes to close circuit\n  timeout: number; // milliseconds before attempting to half-open\n}\n\nexport interface ErrorInfo {\n  id: string;\n  error: Error | string;\n  severity: ErrorSeverity;\n  timestamp: number;\n  retryCount: number;\n  lastRetryTime?: number;\n  nextRetryTime?: number;\n  context?: Record<string, any>;\n}\n\nexport interface UseErrorRecoveryOptions {\n  onError?: (errorInfo: ErrorInfo) => void;\n  onRetry?: (errorInfo: ErrorInfo) => void;\n  onCircuitBreakerChange?: (isOpen: boolean) => void;\n  retryConfig?: Partial<RetryConfig>;\n  circuitBreakerConfig?: Partial<CircuitBreakerConfig>;\n  enableLogging?: boolean;\n}\n\n// Circuit Breaker States\ntype CircuitState = 'CLOSED' | 'OPEN' | 'HALF_OPEN';\n\ninterface CircuitBreaker {\n  state: CircuitState;\n  failureCount: number;\n  successCount: number;\n  lastFailureTime?: number;\n  lastStateChangeTime: number;\n}\n\nexport function useErrorRecovery(options: UseErrorRecoveryOptions = {}) {\n  const {\n    onError,\n    onRetry,\n    onCircuitBreakerChange,\n    retryConfig: customRetryConfig,\n    circuitBreakerConfig: customCircuitBreakerConfig,\n    enableLogging = true,\n  } = options;\n\n  // Default configs\n  const retryConfig: RetryConfig = {\n    maxAttempts: 3,\n    initialDelay: 1000,\n    maxDelay: 30000,\n    backoffMultiplier: 2,\n    jitter: true,\n    ...customRetryConfig,\n  };\n\n  const circuitBreakerConfig: CircuitBreakerConfig = {\n    failureThreshold: 5,\n    successThreshold: 2,\n    timeout: 60000,\n    ...customCircuitBreakerConfig,\n  };\n\n  // State\n  const [errors, setErrors] = useState<Map<string, ErrorInfo>>(new Map());\n  const [circuitBreaker, setCircuitBreaker] = useState<CircuitBreaker>({\n    state: 'CLOSED',\n    failureCount: 0,\n    successCount: 0,\n    lastStateChangeTime: Date.now(),\n  });\n\n  const retriesRef = useRef<Map<string, { count: number; timeout?: NodeJS.Timeout }>>(\n    new Map()\n  );\n\n  // Calculate retry delay with exponential backoff\n  const calculateDelay = useCallback(\n    (retryCount: number): number => {\n      const exponentialDelay = retryConfig.initialDelay * Math.pow(retryConfig.backoffMultiplier, retryCount);\n      const capped = Math.min(exponentialDelay, retryConfig.maxDelay);\n      const withJitter = retryConfig.jitter ? capped * (0.5 + Math.random()) : capped;\n\n      return Math.floor(withJitter);\n    },\n    [retryConfig]\n  );\n\n  // Update circuit breaker state\n  const updateCircuitBreakerState = useCallback(\n    (isSuccess: boolean) => {\n      setCircuitBreaker((prev) => {\n        let newState = prev.state;\n        let newFailureCount = prev.failureCount;\n        let newSuccessCount = prev.successCount;\n\n        if (isSuccess) {\n          newFailureCount = 0;\n          newSuccessCount = prev.successCount + 1;\n\n          if (prev.state === 'HALF_OPEN' && newSuccessCount >= circuitBreakerConfig.successThreshold) {\n            newState = 'CLOSED';\n            newSuccessCount = 0;\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Circuit breaker CLOSED after successful recovery');\n            }\n            onCircuitBreakerChange?.(false);\n          }\n        } else {\n          newSuccessCount = 0;\n          newFailureCount = prev.failureCount + 1;\n\n          if (newFailureCount >= circuitBreakerConfig.failureThreshold && prev.state === 'CLOSED') {\n            newState = 'OPEN';\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Circuit breaker OPENED due to repeated failures');\n            }\n            onCircuitBreakerChange?.(true);\n          }\n        }\n\n        return {\n          ...prev,\n          state: newState,\n          failureCount: newFailureCount,\n          successCount: newSuccessCount,\n          lastFailureTime: isSuccess ? prev.lastFailureTime : Date.now(),\n          lastStateChangeTime: newState !== prev.state ? Date.now() : prev.lastStateChangeTime,\n        };\n      });\n    },\n    [circuitBreakerConfig, enableLogging, onCircuitBreakerChange]\n  );\n\n  // Check if circuit breaker should transition from OPEN to HALF_OPEN\n  const checkCircuitBreakerTimeout = useCallback(() => {\n    setCircuitBreaker((prev) => {\n      if (prev.state === 'OPEN') {\n        const timeSinceStateChange = Date.now() - prev.lastStateChangeTime;\n        if (timeSinceStateChange >= circuitBreakerConfig.timeout) {\n          if (enableLogging) {\n            console.log('[ErrorRecovery] Circuit breaker transitioning to HALF_OPEN');\n          }\n          return {\n            ...prev,\n            state: 'HALF_OPEN',\n            successCount: 0,\n            failureCount: 0,\n            lastStateChangeTime: Date.now(),\n          };\n        }\n      }\n      return prev;\n    });\n  }, [circuitBreakerConfig.timeout, enableLogging]);\n\n  // Record error\n  const recordError = useCallback(\n    (id: string, error: Error | string, severity: ErrorSeverity = 'warning', context?: Record<string, any>) => {\n      const errorInfo: ErrorInfo = {\n        id,\n        error,\n        severity,\n        timestamp: Date.now(),\n        retryCount: 0,\n        context,\n      };\n\n      setErrors((prev) => new Map(prev).set(id, errorInfo));\n      updateCircuitBreakerState(false);\n      onError?.(errorInfo);\n\n      if (enableLogging) {\n        console.error('[ErrorRecovery] Error recorded:', {\n          id,\n          error: error instanceof Error ? error.message : error,\n          severity,\n        });\n      }\n    },\n    [updateCircuitBreakerState, onError, enableLogging]\n  );\n\n  // Retry with exponential backoff\n  const retry = useCallback(\n    (\n      id: string,\n      operation: () => Promise<any>,\n      onSuccess?: (result: any) => void,\n      onFailure?: (error: Error) => void\n    ) => {\n      checkCircuitBreakerTimeout();\n\n      // Reject if circuit breaker is open\n      if (circuitBreaker.state === 'OPEN') {\n        const error = new Error('Circuit breaker is OPEN - too many failures');\n        recordError(id, error, 'critical');\n        onFailure?.(error as Error);\n        return Promise.reject(error);\n      }\n\n      const executeRetry = (retryCount = 0) => {\n        if (retryCount >= retryConfig.maxAttempts) {\n          const error = new Error(`Max retry attempts (${retryConfig.maxAttempts}) exceeded for ${id}`);\n          recordError(id, error, 'critical', { retryCount });\n          onFailure?.(error as Error);\n          return Promise.reject(error);\n        }\n\n        return operation()\n          .then((result) => {\n            // Clear retry state\n            retriesRef.current.delete(id);\n            setErrors((prev) => {\n              const updated = new Map(prev);\n              updated.delete(id);\n              return updated;\n            });\n\n            // Update circuit breaker on success\n            updateCircuitBreakerState(true);\n            onSuccess?.(result);\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Operation succeeded:', { id, retryCount });\n            }\n\n            return result;\n          })\n          .catch((error) => {\n            const delay = calculateDelay(retryCount);\n            const nextRetryTime = Date.now() + delay;\n\n            setErrors((prev) => {\n              const updated = new Map(prev);\n              const errorInfo = updated.get(id) ?? {\n                id,\n                error,\n                severity: 'warning' as const,\n                timestamp: Date.now(),\n                retryCount: 0,\n              };\n              errorInfo.retryCount = retryCount + 1;\n              errorInfo.lastRetryTime = Date.now();\n              errorInfo.nextRetryTime = nextRetryTime;\n              updated.set(id, errorInfo as ErrorInfo);\n              return updated;\n            });\n\n            onRetry?.({\n              id,\n              error,\n              severity: 'warning',\n              timestamp: Date.now(),\n              retryCount: retryCount + 1,\n              lastRetryTime: Date.now(),\n              nextRetryTime,\n            });\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Retrying after', delay, 'ms:', {\n                id,\n                attempt: retryCount + 1,\n                maxAttempts: retryConfig.maxAttempts,\n              });\n            }\n\n            return new Promise((resolve, reject) => {\n              const timeout = setTimeout(\n                () => executeRetry(retryCount + 1).then(resolve).catch(reject),\n                delay\n              );\n\n              // Store timeout for cleanup\n              const retryState = retriesRef.current.get(id) ?? { count: 0 };\n              retryState.timeout = timeout;\n              retriesRef.current.set(id, retryState);\n            });\n          });\n      };\n\n      return executeRetry();\n    },\n    [\n      retryConfig,\n      circuitBreaker,\n      calculateDelay,\n      recordError,\n      updateCircuitBreakerState,\n      checkCircuitBreakerTimeout,\n      enableLogging,\n    ]\n  );\n\n  // Clear error\n  const clearError = useCallback((id: string) => {\n    setErrors((prev) => {\n      const updated = new Map(prev);\n      updated.delete(id);\n      return updated;\n    });\n\n    const retryState = retriesRef.current.get(id);\n    if (retryState?.timeout) {\n      clearTimeout(retryState.timeout);\n    }\n    retriesRef.current.delete(id);\n  }, []);\n\n  // Clear all errors\n  const clearAllErrors = useCallback(() => {\n    retriesRef.current.forEach(({ timeout }) => {\n      if (timeout) clearTimeout(timeout);\n    });\n    retriesRef.current.clear();\n    setErrors(new Map());\n  }, []);\n\n  // Reset circuit breaker\n  const resetCircuitBreaker = useCallback(() => {\n    setCircuitBreaker({\n      state: 'CLOSED',\n      failureCount: 0,\n      successCount: 0,\n      lastStateChangeTime: Date.now(),\n    });\n\n    if (enableLogging) {\n      console.log('[ErrorRecovery] Circuit breaker reset to CLOSED');\n    }\n\n    onCircuitBreakerChange?.(false);\n  }, [enableLogging, onCircuitBreakerChange]);\n\n  return {\n    // State\n    errors,\n    circuitBreaker,\n    isCircuitBreakerOpen: circuitBreaker.state === 'OPEN',\n\n    // Methods\n    recordError,\n    retry,\n    clearError,\n    clearAllErrors,\n    resetCircuitBreaker,\n\n    // Helpers\n    getError: (id: string) => errors.get(id),\n    getAllErrors: () => new Map(errors),\n    getErrorCount: () => errors.size,\n    hasCriticalErrors: () => Array.from(errors.values()).some((e) => e.severity === 'critical'),\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2797, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/index.ts"],"sourcesContent":["// Export all custom hooks for easy importing\n\n// Core hooks\nexport { useAuth } from './useAuth';\nexport { useSocket } from './useSocket';\nexport { useToast } from './useToast';\nexport { useTheme } from './useTheme';\nexport { useDebounce } from './useDebounce';\n\n// Analytics and data hooks\nexport { useAnalyticsData } from './useAnalyticsData';\nexport { useChartData } from './useChartData';\n\n// Real-time and state management hooks (Phase 8 - Socket.io integration)\nexport { useRealtimeEvents } from './useRealtimeEvents';\nexport type {\n  DeviceStatusUpdate,\n  PlaylistUpdate,\n  HealthAlert,\n  ScheduleExecution,\n  UseRealtimeEventsOptions,\n} from './useRealtimeEvents';\n\nexport { useOptimisticState } from './useOptimisticState';\nexport type { OptimisticUpdate, UseOptimisticStateOptions } from './useOptimisticState';\n\nexport { useErrorRecovery } from './useErrorRecovery';\nexport type {\n  ErrorSeverity,\n  RetryConfig,\n  CircuitBreakerConfig,\n  ErrorInfo,\n  UseErrorRecoveryOptions,\n} from './useErrorRecovery';\n"],"names":[],"mappings":"AAAA,6CAA6C;AAE7C,aAAa;;AACb;AACA;AACA;AACA;AACA;AAEA,2BAA2B;AAC3B;AACA;AAEA,yEAAyE;AACzE;AASA;AAGA"}},
    {"offset": {"line": 2829, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/validation.ts"],"sourcesContent":["import { z } from 'zod';\n\n/**\n * Validation schemas for forms across the application\n * Using Zod for runtime type checking and validation\n */\n\n// Content Upload Validation\nexport const contentUploadSchema = z.object({\n  title: z.string()\n    .min(1, 'Title is required')\n    .max(100, 'Title must be less than 100 characters'),\n  type: z.enum(['image', 'video', 'pdf', 'url'], {\n    errorMap: () => ({ message: 'Please select a valid content type' }),\n  }),\n  url: z.string()\n    .min(1, 'File or URL is required')\n    .max(2000, 'URL is too long'),\n});\n\nexport type ContentUploadForm = z.infer<typeof contentUploadSchema>;\n\n// Playlist Creation Validation\nexport const playlistCreateSchema = z.object({\n  name: z.string()\n    .min(1, 'Playlist name is required')\n    .max(100, 'Name must be less than 100 characters'),\n  description: z.string()\n    .max(500, 'Description must be less than 500 characters')\n    .optional(),\n});\n\nexport type PlaylistCreateForm = z.infer<typeof playlistCreateSchema>;\n\n// Device Edit Validation\nexport const deviceEditSchema = z.object({\n  nickname: z.string()\n    .min(1, 'Device nickname is required')\n    .max(50, 'Nickname must be less than 50 characters'),\n  location: z.string()\n    .max(100, 'Location must be less than 100 characters')\n    .optional(),\n});\n\nexport type DeviceEditForm = z.infer<typeof deviceEditSchema>;\n\n// Login Validation\nexport const loginSchema = z.object({\n  email: z.string()\n    .min(1, 'Email is required')\n    .email('Please enter a valid email address'),\n  password: z.string()\n    .min(1, 'Password is required')\n    .min(6, 'Password must be at least 6 characters'),\n});\n\nexport type LoginForm = z.infer<typeof loginSchema>;\n\n// Registration Validation\nexport const registerSchema = z.object({\n  email: z.string()\n    .min(1, 'Email is required')\n    .email('Please enter a valid email address'),\n  password: z.string()\n    .min(1, 'Password is required')\n    .min(8, 'Password must be at least 8 characters')\n    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\n    .regex(/[0-9]/, 'Password must contain at least one number'),\n  confirmPassword: z.string()\n    .min(1, 'Please confirm your password'),\n  firstName: z.string()\n    .min(1, 'First name is required')\n    .max(50, 'First name must be less than 50 characters'),\n  lastName: z.string()\n    .min(1, 'Last name is required')\n    .max(50, 'Last name must be less than 50 characters'),\n  organizationName: z.string()\n    .min(1, 'Organization name is required')\n    .max(100, 'Organization name must be less than 100 characters'),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: ['confirmPassword'],\n});\n\nexport type RegisterForm = z.infer<typeof registerSchema>;\n\n/**\n * Validate a form field and return error message if invalid\n */\nexport function validateField<T>(\n  schema: z.ZodSchema<T>,\n  fieldName: string,\n  value: any,\n  allValues?: Partial<T>\n): string | null {\n  try {\n    // For single field validation, create partial object\n    const dataToValidate = allValues || { [fieldName]: value };\n    \n    // Parse and validate\n    schema.parse(dataToValidate);\n    return null;\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      // Find error for this specific field\n      const fieldError = error.errors.find(err => \n        err.path.join('.') === fieldName\n      );\n      return fieldError?.message || null;\n    }\n    return null;\n  }\n}\n\n/**\n * Validate entire form and return all errors\n */\nexport function validateForm<T>(\n  schema: z.ZodSchema<T>,\n  values: Partial<T>\n): Record<string, string> {\n  try {\n    schema.parse(values);\n    return {};\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const errors: Record<string, string> = {};\n      error.errors.forEach(err => {\n        const path = err.path.join('.');\n        errors[path] = err.message;\n      });\n      return errors;\n    }\n    return {};\n  }\n}\n\n/**\n * Extract field-level errors from Zod validation error\n * Used for inline error display\n */\nexport function extractFieldErrors(zodError: z.ZodError): Record<string, string> {\n  return zodError.errors.reduce((acc, err) => {\n    const field = err.path[0] as string;\n    // Only store first error per field\n    if (!acc[field]) {\n      acc[field] = err.message;\n    }\n    return acc;\n  }, {} as Record<string, string>);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2939, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/app/dashboard/content/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { apiClient } from '@/lib/api';\nimport { Content, Display, Playlist } from '@/lib/types';\nimport Modal from '@/components/Modal';\nimport PreviewModal from '@/components/PreviewModal';\nimport ConfirmDialog from '@/components/ConfirmDialog';\nimport LoadingSpinner from '@/components/LoadingSpinner';\nimport EmptyState from '@/components/EmptyState';\nimport SearchFilter from '@/components/SearchFilter';\nimport ContentTagger, { ContentTag } from '@/components/ContentTagger';\nimport { useToast } from '@/lib/hooks/useToast';\nimport { useDebounce } from '@/lib/hooks/useDebounce';\nimport { useRealtimeEvents, useOptimisticState, useErrorRecovery } from '@/lib/hooks';\nimport { contentUploadSchema, validateForm } from '@/lib/validation';\nimport { Icon } from '@/theme/icons';\nimport type { IconName } from '@/theme/icons';\n\nexport default function ContentPage() {\n  const toast = useToast();\n  const [content, setContent] = useState<Content[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedContent, setSelectedContent] = useState<Content | null>(null);\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [isPushModalOpen, setIsPushModalOpen] = useState(false);\n  const [isAddToPlaylistModalOpen, setIsAddToPlaylistModalOpen] = useState(false);\n  const [isPreviewModalOpen, setIsPreviewModalOpen] = useState(false);\n  const [devices, setDevices] = useState<Display[]>([]);\n  const [playlists, setPlaylists] = useState<Playlist[]>([]);\n  const [selectedDevices, setSelectedDevices] = useState<string[]>([]);\n  const [selectedPlaylist, setSelectedPlaylist] = useState('');\n  const [uploadForm, setUploadForm] = useState({\n    title: '',\n    type: 'image' as 'image' | 'video' | 'pdf' | 'url',\n    url: '',\n  });\n  const [actionLoading, setActionLoading] = useState(false);\n  const [filterType, setFilterType] = useState<string>('all');\n  const [filterStatus, setFilterStatus] = useState<string>('all');\n  const [filterDateRange, setFilterDateRange] = useState<'all' | '7days' | '30days' | '90days'>('all');\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const debouncedSearch = useDebounce(searchQuery, 300);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [selectedItems, setSelectedItems] = useState<Set<string>>(new Set());\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\n  const [uploadQueue, setUploadQueue] = useState<Array<{\n    file: File;\n    status: 'pending' | 'uploading' | 'success' | 'error';\n    progress: number;\n    error?: string;\n  }>>([]);\n  const [tags, setTags] = useState<ContentTag[]>([\n    { id: '1', name: 'Marketing', color: 'blue' },\n    { id: '2', name: 'Seasonal', color: 'green' },\n    { id: '3', name: 'Featured', color: 'red' },\n    { id: '4', name: 'Archive', color: 'gray' },\n  ]);\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const [showTagFilter, setShowTagFilter] = useState(false);\n  const [realtimeStatus, setRealtimeStatus] = useState<'connected' | 'offline'>('offline');\n  const [offlineChanges, setOfflineChanges] = useState<number>(0);\n\n  // Real-time event handling\n  const { isConnected, isOffline } = useRealtimeEvents({\n    enabled: true,\n    onConnectionChange: (connected) => {\n      setRealtimeStatus(connected ? 'connected' : 'offline');\n      if (connected) {\n        toast.info('Real-time sync enabled');\n      }\n    },\n  });\n\n  // Optimistic state management\n  const {\n    updateOptimistic,\n    commitOptimistic,\n    rollbackOptimistic,\n    getPendingCount,\n  } = useOptimisticState<Content[]>(content);\n\n  // Error recovery\n  const { retry, recordError } = useErrorRecovery({\n    onError: (errorInfo) => {\n      if (errorInfo.severity === 'critical') {\n        toast.error(`Error: ${errorInfo.error}`);\n      }\n    },\n    retryConfig: {\n      maxAttempts: 3,\n      initialDelay: 1000,\n    },\n  });\n\n  useEffect(() => {\n    loadContent();\n    loadDevices();\n    loadPlaylists();\n  }, []);\n\n  // ESC key handler for preview modal\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isPreviewModalOpen) {\n        setIsPreviewModalOpen(false);\n      }\n    };\n    \n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [isPreviewModalOpen]);\n\n  const loadContent = async () => {\n    try {\n      setLoading(true);\n      const response = await apiClient.getContent();\n      setContent(response.data || response || []);\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadDevices = async () => {\n    try {\n      const response = await apiClient.getDisplays();\n      setDevices(response.data || response || []);\n    } catch (error: any) {\n      console.error('[ContentPage] Failed to load devices:', error);\n      // Non-critical: devices are optional for content listing\n      if (process.env.NODE_ENV === 'development') {\n        toast.warning('Could not load devices list');\n      }\n    }\n  };\n\n  const loadPlaylists = async () => {\n    try {\n      const response = await apiClient.getPlaylists();\n      setPlaylists(response.data || response || []);\n    } catch (error: any) {\n      console.error('[ContentPage] Failed to load playlists:', error);\n      // Non-critical: playlists are optional for content listing\n      if (process.env.NODE_ENV === 'development') {\n        toast.warning('Could not load playlists list');\n      }\n    }\n  };\n\n  const handleBulkUpload = async () => {\n    if (uploadQueue.length === 0) {\n      toast.error('No files in queue');\n      return;\n    }\n\n    setActionLoading(true);\n    \n    // Upload files sequentially\n    for (let i = 0; i < uploadQueue.length; i++) {\n      const item = uploadQueue[i];\n      \n      // Update status to uploading\n      setUploadQueue(prev => prev.map((q, idx) => \n        idx === i ? { ...q, status: 'uploading' as const } : q\n      ));\n\n      try {\n        const url = URL.createObjectURL(item.file);\n        const title = item.file.name.replace(/\\.[^/.]+$/, '');\n        \n        const newContent = await apiClient.createContent({\n          title,\n          type: uploadForm.type,\n          url,\n        });\n\n        // Generate thumbnail for images\n        if (uploadForm.type === 'image' && newContent.id) {\n          try {\n            await apiClient.post(`/content/${newContent.id}/thumbnail`);\n          } catch (thumbnailError) {\n            console.warn('Thumbnail generation failed:', thumbnailError);\n          }\n        }\n\n        // Mark as success\n        setUploadQueue(prev => prev.map((q, idx) => \n          idx === i ? { ...q, status: 'success' as const, progress: 100 } : q\n        ));\n      } catch (error: any) {\n        // Mark as error\n        setUploadQueue(prev => prev.map((q, idx) => \n          idx === i ? { ...q, status: 'error' as const, error: error.message } : q\n        ));\n      }\n    }\n\n    setActionLoading(false);\n    \n    const successCount = uploadQueue.filter(q => q.status === 'success').length;\n    const errorCount = uploadQueue.filter(q => q.status === 'error').length;\n    \n    if (errorCount === 0) {\n      toast.success(`${successCount} file(s) uploaded successfully`);\n      setIsUploadModalOpen(false);\n      setUploadQueue([]);\n      setUploadForm({ title: '', type: 'image', url: '' });\n      loadContent();\n    } else {\n      toast.error(`${errorCount} file(s) failed to upload`);\n    }\n  };\n\n  const handleUpload = async () => {\n    // If queue has files, use bulk upload\n    if (uploadQueue.length > 0) {\n      return handleBulkUpload();\n    }\n\n    // Otherwise, single file upload\n    const errors = validateForm(contentUploadSchema, uploadForm);\n    setFormErrors(errors);\n    \n    if (Object.keys(errors).length > 0) {\n      toast.error('Please fix the errors before submitting');\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      const newContent = await apiClient.createContent(uploadForm);\n      \n      // Generate thumbnail for images\n      if (uploadForm.type === 'image' && newContent.id) {\n        try {\n          await apiClient.post(`/content/${newContent.id}/thumbnail`);\n        } catch (thumbnailError) {\n          // Don't fail upload if thumbnail generation fails\n          console.warn('Thumbnail generation failed:', thumbnailError);\n        }\n      }\n      \n      toast.success('Content uploaded successfully');\n      setIsUploadModalOpen(false);\n      setUploadForm({ title: '', type: 'image', url: '' });\n      setFormErrors({});\n      loadContent();\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to upload content');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handlePreview = (item: Content) => {\n    setSelectedContent(item);\n    setIsPreviewModalOpen(true);\n  };\n\n  const handleEdit = (item: Content) => {\n    setSelectedContent(item);\n    setUploadForm({\n      title: item.title,\n      type: item.type as 'image' | 'video' | 'pdf' | 'url',\n      url: item.url || '',\n    });\n    setFormErrors({});\n    setIsEditModalOpen(true);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!selectedContent) return;\n\n    // Validate form\n    const errors = validateForm(contentUploadSchema, uploadForm);\n    setFormErrors(errors);\n\n    if (Object.keys(errors).length > 0) {\n      toast.error('Please fix the errors before saving');\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      const updateId = `edit_${selectedContent.id}_${Date.now()}`;\n\n      // Apply optimistic update\n      updateOptimistic(updateId, (prev) =>\n        prev.map((item) =>\n          item.id === selectedContent.id\n            ? { ...item, title: uploadForm.title }\n            : item\n        )\n      );\n\n      // Send update with retry\n      await retry(\n        updateId,\n        async () => {\n          await apiClient.updateContent(selectedContent.id, {\n            title: uploadForm.title,\n          });\n          return true;\n        },\n        () => {\n          // Commit optimistic update\n          commitOptimistic(updateId);\n          toast.success('Content updated successfully');\n          setIsEditModalOpen(false);\n        },\n        (error) => {\n          // Rollback on failure\n          rollbackOptimistic(updateId);\n          toast.error('Failed to update content: ' + (error.message || 'Unknown error'));\n          recordError(updateId, error, 'warning');\n        }\n      );\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to update content');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleDelete = (item: Content) => {\n    setSelectedContent(item);\n    setIsDeleteModalOpen(true);\n  };\n\n  const confirmDelete = async () => {\n    if (!selectedContent) return;\n\n    try {\n      setActionLoading(true);\n      const deleteId = `delete_${selectedContent.id}_${Date.now()}`;\n      const deletedContentId = selectedContent.id;\n\n      // Apply optimistic update (remove from list immediately)\n      updateOptimistic(deleteId, (prev) =>\n        prev.filter((item) => item.id !== deletedContentId)\n      );\n\n      // Send deletion with retry\n      await retry(\n        deleteId,\n        async () => {\n          await apiClient.deleteContent(deletedContentId);\n          return true;\n        },\n        () => {\n          // Commit optimistic deletion\n          commitOptimistic(deleteId);\n          toast.success('Content deleted successfully');\n          setIsDeleteModalOpen(false);\n          setSelectedContent(null);\n        },\n        (error) => {\n          // Rollback on failure - reload list\n          rollbackOptimistic(deleteId);\n          toast.error('Failed to delete content: ' + (error.message || 'Unknown error'));\n          recordError(deleteId, error, 'warning');\n          loadContent(); // Reload to sync state\n        }\n      );\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to delete content');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handlePushToDevice = (item: Content) => {\n    setSelectedContent(item);\n    setSelectedDevices([]);\n    setIsPushModalOpen(true);\n  };\n\n  const confirmPush = async () => {\n    if (!selectedContent || selectedDevices.length === 0) return;\n\n    try {\n      setActionLoading(true);\n      // Create a temporary playlist and assign to devices\n      const playlist = await apiClient.createPlaylist({\n        name: `Quick Push - ${selectedContent.title}`,\n        description: 'Auto-generated playlist for direct content push',\n        items: [{ contentId: selectedContent.id, duration: 30 }],\n      });\n\n      // Assign the playlist to all selected devices\n      await Promise.all(\n        selectedDevices.map((deviceId) =>\n          apiClient.updateDisplay(deviceId, { currentPlaylistId: playlist.id })\n        )\n      );\n\n      toast.success(`Content pushed to ${selectedDevices.length} device(s)`);\n      setIsPushModalOpen(false);\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to push content');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleAddToPlaylist = (item: Content) => {\n    setSelectedContent(item);\n    setSelectedPlaylist('');\n    setIsAddToPlaylistModalOpen(true);\n  };\n\n  const confirmAddToPlaylist = async () => {\n    if (!selectedContent || !selectedPlaylist) return;\n\n    try {\n      setActionLoading(true);\n      await apiClient.addPlaylistItem(selectedPlaylist, selectedContent.id);\n      toast.success('Content added to playlist');\n      setIsAddToPlaylistModalOpen(false);\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to add to playlist');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // Bulk selection handlers\n  const toggleSelectItem = (id: string) => {\n    const newSelected = new Set(selectedItems);\n    if (newSelected.has(id)) {\n      newSelected.delete(id);\n    } else {\n      newSelected.add(id);\n    }\n    setSelectedItems(newSelected);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedItems.size === filteredContent.length) {\n      setSelectedItems(new Set());\n    } else {\n      setSelectedItems(new Set(filteredContent.map(item => item.id)));\n    }\n  };\n\n  const handleBulkDelete = async () => {\n    if (selectedItems.size === 0) return;\n    \n    try {\n      setActionLoading(true);\n      await Promise.all(\n        Array.from(selectedItems).map(id => apiClient.deleteContent(id))\n      );\n      toast.success(`${selectedItems.size} items deleted`);\n      setSelectedItems(new Set());\n      loadContent();\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to delete some items');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const getTypeIcon = (type: string): IconName => {\n    switch (type) {\n      case 'image':\n        return 'image';\n      case 'video':\n        return 'video';\n      case 'pdf':\n        return 'document';\n      case 'url':\n        return 'link';\n      default:\n        return 'folder';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'ready':\n        return 'bg-green-100 text-green-800';\n      case 'processing':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'error':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Dropzone configuration\n  const getAcceptedFileTypes = (): Record<string, string[]> => {\n    if (uploadForm.type === 'image') return { 'image/*': ['.png', '.jpg', '.jpeg', '.gif', '.webp'] };\n    if (uploadForm.type === 'video') return { 'video/*': ['.mp4', '.mov', '.avi', '.webm'] };\n    if (uploadForm.type === 'pdf') return { 'application/pdf': ['.pdf'] };\n    return {};\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    accept: getAcceptedFileTypes() as any,\n    multiple: true, // Enable multiple file selection\n    disabled: uploadForm.type === 'url',\n    onDrop: (acceptedFiles) => {\n      // Add files to upload queue\n      const newQueueItems = acceptedFiles.map(file => ({\n        file,\n        status: 'pending' as const,\n        progress: 0,\n      }));\n      setUploadQueue(prev => [...prev, ...newQueueItems]);\n      \n      // For backward compatibility, set first file to uploadForm\n      if (acceptedFiles.length > 0 && !uploadForm.url) {\n        const file = acceptedFiles[0];\n        const url = URL.createObjectURL(file);\n        setUploadForm({ ...uploadForm, url });\n        if (!uploadForm.title) {\n          setUploadForm(prev => ({ \n            ...prev, \n            title: file.name.replace(/\\.[^/.]+$/, '') \n          }));\n        }\n      }\n    },\n  });\n\n  // Filter by type and search query\n  const filteredContent = content.filter((c) => {\n    // Type filter\n    const matchesType = filterType === 'all' || c.type === filterType;\n\n    // Search filter\n    const matchesSearch = !debouncedSearch ||\n      c.title.toLowerCase().includes(debouncedSearch.toLowerCase());\n\n    // Status filter\n    const matchesStatus = filterStatus === 'all' || c.status === filterStatus;\n\n    // Date range filter\n    let matchesDate = true;\n    if (filterDateRange !== 'all' && c.createdAt) {\n      const contentDate = new Date(c.createdAt);\n      const now = new Date();\n      const daysAgo = {\n        '7days': 7,\n        '30days': 30,\n        '90days': 90,\n      }[filterDateRange] || 0;\n      const cutoffDate = new Date(now.getTime() - daysAgo * 24 * 60 * 60 * 1000);\n      matchesDate = contentDate >= cutoffDate;\n    }\n\n    // Tag filter (TODO: implement when content model has tags)\n    let matchesTags = true;\n    if (selectedTags.length > 0) {\n      // For now, this is a placeholder - tags will be added to Content model\n      matchesTags = true;\n    }\n\n    return matchesType && matchesSearch && matchesStatus && matchesDate && matchesTags;\n  });\n\n  const clearAllFilters = () => {\n    setFilterType('all');\n    setFilterStatus('all');\n    setFilterDateRange('all');\n    setSearchQuery('');\n  };\n\n  const hasActiveFilters = filterType !== 'all' || filterStatus !== 'all' || filterDateRange !== 'all' || searchQuery !== '';\n\n  return (\n    <div className=\"space-y-6\">\n      <toast.ToastContainer />\n\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-gray-900\">Content Library</h2>\n          <p className=\"mt-2 text-gray-600\">\n            Manage your media assets ({content.length} items)\n            {realtimeStatus === 'connected' && (\n              <span className=\"ml-2 inline-flex items-center gap-1 text-xs text-green-600\">\n                <span className=\"w-2 h-2 bg-green-600 rounded-full animate-pulse\"></span>\n                Real-time enabled\n              </span>\n            )}\n            {realtimeStatus === 'offline' && (\n              <span className=\"ml-2 inline-flex items-center gap-1 text-xs text-yellow-600\">\n                <span className=\"w-2 h-2 bg-yellow-600 rounded-full\"></span>\n                Offline mode\n              </span>\n            )}\n            {getPendingCount() > 0 && (\n              <span className=\"ml-2 inline-flex items-center gap-1 text-xs text-blue-600\">\n                <span className=\"w-2 h-2 bg-blue-600 rounded-full animate-pulse\"></span>\n                {getPendingCount()} pending\n              </span>\n            )}\n          </p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex bg-white border border-gray-300 rounded-lg overflow-hidden\">\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`px-4 py-2 text-sm font-medium transition flex items-center gap-2 ${\n                viewMode === 'grid'\n                  ? 'bg-blue-600 text-white'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              <Icon name=\"grid\" size=\"md\" />\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`px-4 py-2 text-sm font-medium transition flex items-center gap-2 ${\n                viewMode === 'list'\n                  ? 'bg-blue-600 text-white'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              <Icon name=\"list\" size=\"md\" />\n            </button>\n          </div>\n          <button\n            onClick={() => setIsUploadModalOpen(true)}\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold shadow-md hover:shadow-lg flex items-center gap-2\"\n          >\n            <Icon name=\"add\" size=\"lg\" className=\"text-white\" />\n            <span>Upload Content</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Search Filter */}\n      <SearchFilter\n        value={searchQuery}\n        onChange={setSearchQuery}\n        placeholder=\"Search content by title...\"\n      />\n      {debouncedSearch && (\n        <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\n          {filteredContent.length} {filteredContent.length === 1 ? 'result' : 'results'} found\n        </p>\n      )}\n\n      {/* Tag Filter */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-4\">\n        <button\n          onClick={() => setShowTagFilter(!showTagFilter)}\n          className=\"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\"\n        >\n          <Icon name=\"folder\" size=\"md\" />\n          <span>Filter by Tags</span>\n          <svg\n            className={`w-4 h-4 transition-transform ${showTagFilter ? 'rotate-180' : ''}`}\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n          </svg>\n        </button>\n\n        {showTagFilter && (\n          <div className=\"border-t border-gray-200 dark:border-gray-700 pt-3\">\n            <ContentTagger\n              tags={tags}\n              selectedTags={selectedTags}\n              onChange={setSelectedTags}\n            />\n            {selectedTags.length > 0 && (\n              <button\n                onClick={() => setSelectedTags([])}\n                className=\"mt-3 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline\"\n              >\n                Clear tag filters\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Filter Tabs */}\n      <div className=\"bg-white rounded-lg shadow p-4 space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex gap-2 flex-wrap\">\n            {['all', 'image', 'video', 'pdf', 'url'].map((type) => (\n              <button\n                key={type}\n                onClick={() => setFilterType(type)}\n                className={`px-4 py-2 rounded-md text-sm font-medium transition ${\n                  filterType === type\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-600 hover:bg-gray-100'\n                }`}\n              >\n                {type.charAt(0).toUpperCase() + type.slice(1)}\n                {type !== 'all' && ` (${content.filter((c) => c.type === type).length})`}\n              </button>\n            ))}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {hasActiveFilters && (\n              <button\n                onClick={clearAllFilters}\n                className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n              >\n                Clear all\n              </button>\n            )}\n            <button\n              onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n              className=\"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1\"\n            >\n              <Icon name=\"settings\" size=\"md\" className=\"text-gray-600\" />\n              <span>Advanced</span>\n              <svg \n                className={`w-4 h-4 transition-transform ${showAdvancedFilters ? 'rotate-180' : ''}`}\n                fill=\"currentColor\" \n                viewBox=\"0 0 20 20\"\n              >\n                <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Advanced Filters Panel */}\n        {showAdvancedFilters && (\n          <div className=\"pt-3 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Status\n              </label>\n              <select\n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              >\n                <option value=\"all\">All Statuses</option>\n                <option value=\"ready\">Ready</option>\n                <option value=\"processing\">Processing</option>\n                <option value=\"error\">Error</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Upload Date\n              </label>\n              <select\n                value={filterDateRange}\n                onChange={(e) => setFilterDateRange(e.target.value as any)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              >\n                <option value=\"all\">All Time</option>\n                <option value=\"7days\">Last 7 days</option>\n                <option value=\"30days\">Last 30 days</option>\n                <option value=\"90days\">Last 90 days</option>\n              </select>\n            </div>\n          </div>\n        )}\n\n        {/* Active Filters Indicator */}\n        {hasActiveFilters && (\n          <div className=\"pt-2 border-t border-gray-200 flex items-center gap-2 text-sm\">\n            <span className=\"text-gray-600\">Active filters:</span>\n            {filterType !== 'all' && (\n              <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\">\n                Type: {filterType}\n              </span>\n            )}\n            {filterStatus !== 'all' && (\n              <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\">\n                Status: {filterStatus}\n              </span>\n            )}\n            {filterDateRange !== 'all' && (\n              <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\">\n                Date: {filterDateRange}\n              </span>\n            )}\n            {searchQuery && (\n              <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\">\n                Search: \"{searchQuery}\"\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Bulk Actions Toolbar */}\n      {selectedItems.size > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm font-medium text-blue-900\">\n              {selectedItems.size} item{selectedItems.size > 1 ? 's' : ''} selected\n            </span>\n            <button\n              onClick={() => setSelectedItems(new Set())}\n              className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n            >\n              Clear selection\n            </button>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={handleBulkDelete}\n              disabled={actionLoading}\n              className=\"px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium disabled:opacity-50 flex items-center gap-2\"\n            >\n              {actionLoading && <LoadingSpinner size=\"sm\" />}\n              <Icon name=\"delete\" size=\"md\" className=\"text-white\" />\n              Delete Selected\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Content Grid */}\n      {loading ? (\n        <div className=\"bg-white rounded-lg shadow p-12\">\n          <LoadingSpinner size=\"lg\" />\n        </div>\n      ) : filteredContent.length === 0 ? (\n        <EmptyState\n          icon=\"folder\"\n          title=\"No content yet\"\n          description=\"Start by uploading your first media file\"\n          action={{\n            label: 'Upload Content',\n            onClick: () => setIsUploadModalOpen(true),\n          }}\n        />\n      ) : viewMode === 'list' ? (\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedItems.size === filteredContent.length && filteredContent.length > 0}\n                    onChange={toggleSelectAll}\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Content</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Type</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Uploaded</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredContent.map((item) => (\n                <tr key={item.id} className=\"hover:bg-gray-50 transition\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.has(item.id)}\n                      onChange={() => toggleSelectItem(item.id)}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      onClick={(e) => e.stopPropagation()}\n                    />\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center gap-3 cursor-pointer\" onClick={() => handlePreview(item)}>\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded flex items-center justify-center flex-shrink-0 overflow-hidden\">\n                        {item.thumbnailUrl ? (\n                          <img src={item.thumbnailUrl} alt={item.title} className=\"w-full h-full object-cover\" />\n                        ) : (\n                          <Icon name={getTypeIcon(item.type)} size=\"xl\" className=\"text-white\" />\n                        )}\n                      </div>\n                      <div className=\"min-w-0\">\n                        <div className=\"text-sm font-medium text-gray-900 truncate\" title={item.title}>\n                          {item.title}\n                        </div>\n                        {item.duration && (\n                          <div className=\"text-xs text-gray-500\">{item.duration}s</div>\n                        )}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className=\"px-2 py-1 text-xs font-medium uppercase text-gray-600 bg-gray-100 rounded\">\n                      {item.type}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`px-2 py-1 text-xs font-semibold rounded ${getStatusColor(item.status)}`}>\n                      {item.status}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {item.createdAt ? new Date(item.createdAt).toLocaleDateString() : ''}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                    <div className=\"flex justify-end gap-2\">\n                      <button\n                        onClick={() => handlePushToDevice(item)}\n                        className=\"text-green-600 hover:text-green-800 hover:bg-green-50 px-2 py-1 rounded transition\"\n                        title=\"Push to device\"\n                      >\n                        <Icon name=\"push\" size=\"md\" />\n                      </button>\n                      <button\n                        onClick={() => handleAddToPlaylist(item)}\n                        className=\"text-purple-600 hover:text-purple-800 hover:bg-purple-50 px-2 py-1 rounded transition\"\n                        title=\"Add to playlist\"\n                      >\n                        <Icon name=\"add\" size=\"md\" />\n                      </button>\n                      <button\n                        onClick={() => handleEdit(item)}\n                        className=\"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded transition\"\n                        title=\"Edit\"\n                      >\n                        <Icon name=\"edit\" size=\"md\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(item)}\n                        className=\"text-red-600 hover:text-red-800 hover:bg-red-50 px-2 py-1 rounded transition\"\n                        title=\"Delete\"\n                      >\n                        <Icon name=\"delete\" size=\"md\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredContent.map((item) => (\n            <div\n              key={item.id}\n              className=\"bg-white rounded-lg shadow overflow-hidden hover:shadow-xl transition-all transform hover:-translate-y-1\"\n            >\n              <div \n                className=\"h-48 bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center relative overflow-hidden cursor-pointer\"\n                onClick={() => handlePreview(item)}\n                title=\"Click to preview\"\n              >\n                {item.thumbnailUrl ? (\n                  <img\n                    src={item.thumbnailUrl}\n                    alt={item.title}\n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      // Fallback to icon if thumbnail fails to load\n                      e.currentTarget.style.display = 'none';\n                      e.currentTarget.nextElementSibling?.classList.remove('hidden');\n                    }}\n                  />\n                ) : null}\n                <Icon name={getTypeIcon(item.type)} size=\"6xl\" className={`text-white ${item.thumbnailUrl ? 'hidden' : ''}`} />\n                <div className=\"absolute top-3 left-3\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedItems.has(item.id)}\n                    onChange={() => toggleSelectItem(item.id)}\n                    onClick={(e) => e.stopPropagation()}\n                    className=\"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 bg-white shadow-sm\"\n                  />\n                </div>\n                <span\n                  className={`absolute top-3 right-3 px-3 py-1 text-xs rounded-full font-semibold ${getStatusColor(\n                    item.status\n                  )}`}\n                >\n                  {item.status}\n                </span>\n              </div>\n              <div className=\"p-4\">\n                <h3 className=\"font-semibold text-gray-900 mb-2 truncate\" title={item.title}>\n                  {item.title}\n                </h3>\n                <div className=\"flex items-center justify-between text-sm text-gray-500 mb-2\">\n                  <span className=\"uppercase\">{item.type}</span>\n                  {item.duration && <span>{item.duration}s</span>}\n                </div>\n                {item.createdAt && (\n                  <div className=\"text-xs text-gray-400 mb-4\">\n                    Uploaded {new Date(item.createdAt).toLocaleDateString()}\n                  </div>\n                )}\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <button\n                    onClick={() => handlePushToDevice(item)}\n                    className=\"text-sm bg-green-50 text-green-600 py-2 rounded hover:bg-green-100 transition font-medium flex items-center justify-center gap-1\"\n                  >\n                    <Icon name=\"push\" size=\"sm\" />\n                    Push\n                  </button>\n                  <button\n                    onClick={() => handleAddToPlaylist(item)}\n                    className=\"text-sm bg-purple-50 text-purple-600 py-2 rounded hover:bg-purple-100 transition font-medium flex items-center justify-center gap-1\"\n                  >\n                    <Icon name=\"add\" size=\"sm\" />\n                    Playlist\n                  </button>\n                  <button\n                    onClick={() => handleEdit(item)}\n                    className=\"text-sm bg-blue-50 text-blue-600 py-2 rounded hover:bg-blue-100 transition font-medium flex items-center justify-center gap-1\"\n                  >\n                    <Icon name=\"edit\" size=\"sm\" />\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => handleDelete(item)}\n                    className=\"text-sm bg-red-50 text-red-600 py-2 rounded hover:bg-red-100 transition font-medium flex items-center justify-center gap-1\"\n                  >\n                    <Icon name=\"delete\" size=\"sm\" />\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Upload Modal */}\n      <Modal\n        isOpen={isUploadModalOpen}\n        onClose={() => setIsUploadModalOpen(false)}\n        title=\"Upload Content\"\n        size=\"lg\"\n      >\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Content Title\n            </label>\n            <input\n              type=\"text\"\n              value={uploadForm.title}\n              onChange={(e) => {\n                setUploadForm({ ...uploadForm, title: e.target.value });\n                // Clear error on change\n                if (formErrors.title) {\n                  setFormErrors({ ...formErrors, title: '' });\n                }\n              }}\n              onBlur={() => {\n                // Validate on blur\n                const errors = validateForm(contentUploadSchema, uploadForm);\n                if (errors.title) {\n                  setFormErrors({ ...formErrors, title: errors.title });\n                }\n              }}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 ${\n                formErrors.title ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"e.g., Summer Sale Banner\"\n              autoComplete=\"off\"\n            />\n            {formErrors.title && (\n              <p className=\"mt-1 text-sm text-red-600\">{formErrors.title}</p>\n            )}\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Content Type\n            </label>\n            <select\n              value={uploadForm.type}\n              onChange={(e) =>\n                setUploadForm({ ...uploadForm, type: e.target.value as any })\n              }\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n            >\n              <option value=\"image\">Image</option>\n              <option value=\"video\">Video</option>\n              <option value=\"pdf\">PDF</option>\n              <option value=\"url\">URL/Web Page</option>\n            </select>\n          </div>\n          \n          {/* File Upload Section - Drag and Drop */}\n          {uploadForm.type !== 'url' && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Upload File\n              </label>\n              <div\n                {...getRootProps()}\n                className={`border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer ${\n                  isDragActive\n                    ? 'border-blue-500 bg-blue-50'\n                    : 'border-gray-300 hover:border-blue-400 hover:bg-gray-50'\n                }`}\n              >\n                <input {...getInputProps()} />\n                <svg\n                  className=\"w-12 h-12 text-gray-400 mb-3 mx-auto\"\n                  stroke=\"currentColor\"\n                  fill=\"none\"\n                  viewBox=\"0 0 48 48\"\n                >\n                  <path\n                    d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                    strokeWidth={2}\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n                {isDragActive ? (\n                  <p className=\"text-sm font-medium text-blue-600\">\n                    Drop the file here...\n                  </p>\n                ) : (\n                  <>\n                    <p className=\"text-sm font-medium text-blue-600 hover:text-blue-700 mb-1\">\n                      Drag & drop file here, or click to browse\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      {uploadForm.type === 'image' && 'PNG, JPG, GIF up to 10MB'}\n                      {uploadForm.type === 'video' && 'MP4, MOV, AVI up to 100MB'}\n                      {uploadForm.type === 'pdf' && 'PDF up to 50MB'}\n                    </p>\n                  </>\n                )}\n              </div>\n              \n              {/* Upload Queue */}\n              {uploadQueue.length > 0 && (\n                <div className=\"mt-4 space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <p className=\"text-sm font-medium text-gray-700\">\n                      Upload Queue ({uploadQueue.length} file{uploadQueue.length > 1 ? 's' : ''})\n                    </p>\n                    <button\n                      onClick={() => setUploadQueue([])}\n                      className=\"text-xs text-red-600 hover:text-red-700\"\n                    >\n                      Clear All\n                    </button>\n                  </div>\n                  <div className=\"max-h-48 overflow-y-auto space-y-2\">\n                    {uploadQueue.map((item, idx) => (\n                      <div\n                        key={idx}\n                        className=\"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200\"\n                      >\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-medium text-gray-900 truncate\">\n                            {item.file.name}\n                          </p>\n                          <p className=\"text-xs text-gray-500\">\n                            {(item.file.size / 1024).toFixed(1)} KB\n                          </p>\n                        </div>\n                        <div className=\"ml-4 flex items-center gap-2\">\n                          {item.status === 'pending' && (\n                            <span className=\"text-xs text-gray-500\">Pending</span>\n                          )}\n                          {item.status === 'uploading' && (\n                            <LoadingSpinner size=\"sm\" />\n                          )}\n                          {item.status === 'success' && (\n                            <span className=\"text-green-600\"></span>\n                          )}\n                          {item.status === 'error' && (\n                            <span className=\"text-red-600\" title={item.error}></span>\n                          )}\n                          <button\n                            onClick={() => setUploadQueue(prev => prev.filter((_, i) => i !== idx))}\n                            className=\"text-gray-400 hover:text-red-600\"\n                          >\n                            \n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n          \n          {/* URL Input (for URL type or fallback) */}\n          {uploadForm.type === 'url' && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                URL\n              </label>\n              <input\n                type=\"url\"\n                value={uploadForm.url}\n                onChange={(e) => {\n                  setUploadForm({ ...uploadForm, url: e.target.value });\n                  if (formErrors.url) {\n                    setFormErrors({ ...formErrors, url: '' });\n                  }\n                }}\n                onBlur={() => {\n                  const errors = validateForm(contentUploadSchema, uploadForm);\n                  if (errors.url) {\n                    setFormErrors({ ...formErrors, url: errors.url });\n                  }\n                }}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 ${\n                  formErrors.url ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"https://example.com/page\"\n                autoComplete=\"off\"\n              />\n              {formErrors.url && (\n                <p className=\"mt-1 text-sm text-red-600\">{formErrors.url}</p>\n              )}\n            </div>\n          )}\n          \n          <div className=\"flex justify-end gap-3 pt-4\">\n            <button\n              onClick={() => setIsUploadModalOpen(false)}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleUpload}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2\"\n              disabled={actionLoading || (uploadQueue.length === 0 && (!uploadForm.title || !uploadForm.url))}\n            >\n              {actionLoading && <LoadingSpinner size=\"sm\" />}\n              {uploadQueue.length > 0 \n                ? `Upload ${uploadQueue.length} File${uploadQueue.length > 1 ? 's' : ''}`\n                : 'Upload Content'\n              }\n            </button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Edit Content Modal */}\n      <Modal\n        isOpen={isEditModalOpen}\n        onClose={() => {\n          setIsEditModalOpen(false);\n          setFormErrors({});\n        }}\n        title=\"Edit Content\"\n      >\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Content Title\n            </label>\n            <input\n              type=\"text\"\n              value={uploadForm.title}\n              onChange={(e) => {\n                setUploadForm({ ...uploadForm, title: e.target.value });\n                if (formErrors.title) {\n                  setFormErrors({ ...formErrors, title: '' });\n                }\n              }}\n              onBlur={() => {\n                const errors = validateForm(contentUploadSchema, uploadForm);\n                if (errors.title) {\n                  setFormErrors({ ...formErrors, title: errors.title });\n                }\n              }}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 ${\n                formErrors.title ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"e.g., Summer Sale Banner\"\n              autoComplete=\"off\"\n            />\n            {formErrors.title && (\n              <p className=\"mt-1 text-sm text-red-600\">{formErrors.title}</p>\n            )}\n          </div>\n          \n          <div className=\"bg-gray-50 p-3 rounded-lg\">\n            <p className=\"text-sm text-gray-600\">\n              <strong>Type:</strong> {uploadForm.type}\n            </p>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Content type cannot be changed after upload\n            </p>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-4\">\n            <button\n              onClick={() => {\n                setIsEditModalOpen(false);\n                setFormErrors({});\n              }}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSaveEdit}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2\"\n              disabled={actionLoading || !uploadForm.title}\n            >\n              {actionLoading && <LoadingSpinner size=\"sm\" />}\n              Save Changes\n            </button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Push to Device Modal */}\n      <Modal\n        isOpen={isPushModalOpen}\n        onClose={() => setIsPushModalOpen(false)}\n        title=\"Push to Devices\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-600\">\n            Select devices to push \"{selectedContent?.title}\" to:\n          </p>\n          <div className=\"max-h-64 overflow-y-auto space-y-2\">\n            {devices.map((device) => (\n              <label\n                key={device.id}\n                className=\"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer\"\n              >\n                <input\n                  type=\"checkbox\"\n                  checked={selectedDevices.includes(device.id)}\n                  onChange={(e) => {\n                    if (e.target.checked) {\n                      setSelectedDevices([...selectedDevices, device.id]);\n                    } else {\n                      setSelectedDevices(selectedDevices.filter((id) => id !== device.id));\n                    }\n                  }}\n                  className=\"mr-3 h-4 w-4\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-gray-900\">{device.nickname}</div>\n                  <div className=\"text-sm text-gray-500\">{device.status}</div>\n                </div>\n              </label>\n            ))}\n          </div>\n          <div className=\"flex justify-end gap-3 pt-4\">\n            <button\n              onClick={() => setIsPushModalOpen(false)}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={confirmPush}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition disabled:opacity-50 flex items-center gap-2\"\n              disabled={actionLoading || selectedDevices.length === 0}\n            >\n              {actionLoading && <LoadingSpinner size=\"sm\" />}\n              Push to {selectedDevices.length} Device(s)\n            </button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Add to Playlist Modal */}\n      <Modal\n        isOpen={isAddToPlaylistModalOpen}\n        onClose={() => setIsAddToPlaylistModalOpen(false)}\n        title=\"Add to Playlist\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-600\">\n            Add \"{selectedContent?.title}\" to a playlist:\n          </p>\n          <select\n            value={selectedPlaylist}\n            onChange={(e) => setSelectedPlaylist(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"\">Select a playlist</option>\n            {playlists.map((playlist) => (\n              <option key={playlist.id} value={playlist.id}>\n                {playlist.name} ({playlist.items?.length || 0} items)\n              </option>\n            ))}\n          </select>\n          <div className=\"flex justify-end gap-3 pt-4\">\n            <button\n              onClick={() => setIsAddToPlaylistModalOpen(false)}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={confirmAddToPlaylist}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition disabled:opacity-50 flex items-center gap-2\"\n              disabled={actionLoading || !selectedPlaylist}\n            >\n              {actionLoading && <LoadingSpinner size=\"sm\" />}\n              Add to Playlist\n            </button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Preview Modal */}\n      <Modal\n        isOpen={isPreviewModalOpen}\n        onClose={() => setIsPreviewModalOpen(false)}\n        title={selectedContent?.title || 'Preview'}\n        size=\"lg\"\n      >\n        <div className=\"space-y-4\">\n          {selectedContent && (\n            <>\n              {selectedContent.type === 'image' && (\n                <div className=\"flex justify-center bg-gray-100 rounded-lg p-4\">\n                  <img\n                    src={selectedContent.url}\n                    alt={selectedContent.title}\n                    className=\"max-w-full max-h-[70vh] object-contain rounded\"\n                  />\n                </div>\n              )}\n              \n              {selectedContent.type === 'video' && (\n                <div className=\"bg-black rounded-lg overflow-hidden\">\n                  <video\n                    src={selectedContent.url}\n                    controls\n                    className=\"w-full max-h-[70vh]\"\n                    autoPlay\n                  >\n                    Your browser does not support video playback.\n                  </video>\n                </div>\n              )}\n              \n              {selectedContent.type === 'pdf' && (\n                <div className=\"bg-gray-100 rounded-lg overflow-hidden\" style={{ height: '70vh' }}>\n                  <iframe\n                    src={selectedContent.url}\n                    className=\"w-full h-full\"\n                    title={selectedContent.title}\n                  />\n                </div>\n              )}\n              \n              {selectedContent.type === 'url' && (\n                <div className=\"space-y-4\">\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <p className=\"text-sm text-blue-800 mb-2\">\n                      <strong>URL Content:</strong>\n                    </p>\n                    <a\n                      href={selectedContent.url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 hover:text-blue-800 underline break-all\"\n                    >\n                      {selectedContent.url}\n                    </a>\n                  </div>\n                  <div className=\"bg-gray-100 rounded-lg overflow-hidden\" style={{ height: '60vh' }}>\n                    <iframe\n                      src={selectedContent.url}\n                      className=\"w-full h-full\"\n                      title={selectedContent.title}\n                      sandbox=\"allow-same-origin allow-scripts\"\n                    />\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"text-sm text-gray-600 space-y-1\">\n                <p><strong>Type:</strong> {selectedContent.type.toUpperCase()}</p>\n                {selectedContent.duration && (\n                  <p><strong>Duration:</strong> {selectedContent.duration}s</p>\n                )}\n                {selectedContent.createdAt && (\n                  <p><strong>Uploaded:</strong> {new Date(selectedContent.createdAt).toLocaleDateString()}</p>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </Modal>\n\n      {/* Preview Modal */}\n      <PreviewModal\n        isOpen={isPreviewModalOpen}\n        onClose={() => setIsPreviewModalOpen(false)}\n        content={selectedContent}\n      />\n\n      {/* Delete Confirmation */}\n      <ConfirmDialog\n        isOpen={isDeleteModalOpen}\n        onClose={() => setIsDeleteModalOpen(false)}\n        onConfirm={confirmDelete}\n        title=\"Delete Content\"\n        message={`Are you sure you want to delete \"${selectedContent?.title}\"? This action cannot be undone.`}\n        confirmText=\"Delete\"\n        type=\"danger\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}