module.exports=[64494,a=>{"use strict";var b=a.i(64239),c=a.i(872),d=a.i(59665),e=a.i(79412),f=a.i(21113),g=a.i(51355);function h({children:a,content:d,position:e="top"}){let[f,g]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsx)("div",{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>g(!0),onBlur:()=>g(!1),className:"cursor-help",children:a}),f&&(0,b.jsxs)("div",{className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg whitespace-nowrap ${{top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[e]}`,role:"tooltip",children:[d,(0,b.jsx)("div",{className:"absolute w-2 h-2 bg-gray-900 transform rotate-45"})]})]})}function i({content:a,position:c}){return(0,b.jsx)(h,{content:a,position:c,children:(0,b.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 text-xs text-gray-500 border border-gray-400 rounded-full hover:text-blue-600 hover:border-blue-600 transition",children:"?"})})}var j=a.i(31525);let k=a=>a&&a in j.iconMap?a:"overview";function l(){let a=(0,d.useRouter)(),{deviceStatuses:h,isInitialized:l}=(0,f.useDeviceStatus)(),[m,n]=(0,c.useState)({devices:{total:0,online:0},content:{total:0,processing:0},playlists:{total:0,active:0}}),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!l)return;let a=Object.values(h);n(b=>({...b,devices:{total:a.length,online:a.filter(a=>"online"===a.status).length}}))},[h,l]),(0,c.useEffect)(()=>{u()},[]);let u=async()=>{try{r(!0);let a=await Promise.allSettled([e.apiClient.getContent(),e.apiClient.getPlaylists()]),b="fulfilled"===a[0].status?Array.isArray(a[0].value?.data)?a[0].value.data:Array.isArray(a[0].value)?a[0].value:[]:[],c="fulfilled"===a[1].status?Array.isArray(a[1].value?.data)?a[1].value.data:Array.isArray(a[1].value)?a[1].value:[]:[];a.forEach((a,b)=>{"rejected"===a.status&&console.warn(`API call ${b+1} failed:`,a.reason)}),n(a=>({...a,content:{total:b.length,processing:b.filter(a=>a?.status==="processing").length},playlists:{total:c.length,active:c.filter(a=>a?.isActive===!0).length}}));let d=[...Object.values(h).slice(0,3).map(a=>({type:"device",iconName:k("devices"),title:a.metadata?.nickname||"Unnamed Device",subtitle:`${a.status||"unknown"} • ${a.metadata?.location||"No location"}`,time:a.metadata?.lastSeen||new Date().toISOString()})),...b.slice(0,3).map(a=>{let b=a.type?.toLowerCase()||"";return{type:"content",iconName:k("image"===b?"image":"video"===b?"video":"document"),title:a.title||"Untitled",subtitle:`${a.type||"file"} • ${a.status||"ready"}`,time:a.createdAt||new Date().toISOString()}}),...c.slice(0,3).map(a=>({type:"playlist",iconName:k("playlists"),title:a.name||"Untitled Playlist",subtitle:`${a.items?.length||0} items`,time:a.updatedAt||a.createdAt||new Date().toISOString()}))].filter(a=>a.title&&a.time&&a.iconName).sort((a,b)=>new Date(b.time).getTime()-new Date(a.time).getTime()).slice(0,8);p(d),t(null)}catch(a){console.error("Failed to load stats:",a),t(a instanceof Error?a.message:"Failed to load dashboard data")}finally{r(!1)}};return q?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsx)(g.default,{size:"lg"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50",children:"Dashboard Overview"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Welcome to your Vizora dashboard. Here's what's happening."})]}),s&&(0,b.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[(0,b.jsx)(j.Icon,{name:"error",size:"lg",className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-red-900 dark:text-red-100",children:"Error loading dashboard data"}),(0,b.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:s}),(0,b.jsx)("button",{onClick:u,className:"mt-3 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 underline",children:"Try again"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>a.push("/dashboard/devices"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Devices"}),(0,b.jsx)(j.Icon,{name:"devices",size:"2xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,b.jsx)("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:m.devices.total}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,b.jsxs)("p",{className:"text-sm text-success-600 dark:text-success-400 font-medium",children:[m.devices.online," online"]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>a.push("/dashboard/content"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Content Items"}),(0,b.jsx)(j.Icon,{name:"content",size:"2xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,b.jsx)("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:m.content.total}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.content.processing>0?`${m.content.processing} processing`:"All ready"})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>a.push("/dashboard/playlists"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Playlists"}),(0,b.jsx)(j.Icon,{name:"playlists",size:"2xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,b.jsx)("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:m.playlists.total}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.playlists.active," active"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-primary-500 to-purple-600 dark:from-primary-600 dark:to-purple-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 text-white",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-primary-100",children:"System Status"}),(0,b.jsx)(j.Icon,{name:"power",size:"2xl",className:"text-primary-200"})]}),(0,b.jsx)("p",{className:"text-4xl font-bold mb-2",children:"Healthy"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-success-300 rounded-full animate-pulse"}),(0,b.jsx)("p",{className:"text-sm text-primary-100",children:"All systems operational"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:"Quick Actions"}),(0,b.jsx)(i,{content:"Common tasks to get started quickly",position:"right"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("button",{onClick:()=>a.push("/dashboard/devices/pair"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg hover:from-blue-100 hover:to-blue-200 transition-all transform hover:scale-105",children:[(0,b.jsx)(j.Icon,{name:"add",size:"2xl",className:"text-blue-600"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-blue-900",children:"Pair Device"}),(0,b.jsx)("div",{className:"text-xs text-blue-700",children:"Add new display"})]})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/dashboard/content"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg hover:from-purple-100 hover:to-purple-200 transition-all transform hover:scale-105",children:[(0,b.jsx)(j.Icon,{name:"upload",size:"2xl",className:"text-purple-600"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-purple-900",children:"Upload Content"}),(0,b.jsx)("div",{className:"text-xs text-purple-700",children:"Add new media"})]})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/dashboard/playlists"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-success-50 dark:from-success-900 to-success-100 dark:to-success-800 rounded-lg hover:from-success-100 dark:hover:from-success-800 hover:to-success-200 dark:hover:to-success-700 transition-all transform hover:scale-105",children:[(0,b.jsx)(j.Icon,{name:"playlists",size:"2xl",className:"text-success-600 dark:text-success-400"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-success-900 dark:text-success-100",children:"Create Playlist"}),(0,b.jsx)("div",{className:"text-xs text-success-700 dark:text-success-200",children:"Organize content"})]})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/dashboard/schedules"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg hover:from-orange-100 hover:to-orange-200 transition-all transform hover:scale-105",children:[(0,b.jsx)(j.Icon,{name:"schedules",size:"2xl",className:"text-orange-600"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-orange-900",children:"Schedule"}),(0,b.jsx)("div",{className:"text-xs text-orange-700",children:"Set up timing"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-4",children:"Recent Activity"}),o.length>0?(0,b.jsx)("div",{className:"space-y-3",children:o.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[(0,b.jsx)(j.Icon,{name:a.iconName||"overview",size:"lg",className:"text-gray-600 dark:text-gray-400"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-50 truncate",children:a.title}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.subtitle})]}),(0,b.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 whitespace-nowrap",children:new Date(a.time).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]},c))}):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,b.jsx)(j.Icon,{name:"overview",size:"3xl",className:"mx-auto mb-4 text-gray-400 dark:text-gray-600"}),(0,b.jsx)("p",{className:"text-sm",children:"No recent activity yet"}),(0,b.jsx)("p",{className:"text-xs mt-2",children:"Activity will appear here as you add devices and content"})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:"Storage Usage"}),(0,b.jsx)(j.Icon,{name:"storage",size:"xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Content Storage"}),(0,b.jsxs)("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:[m.content.total>0?`~${(2.5*m.content.total).toFixed(1)} MB`:"0 MB"," / 5 GB"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-purple-600 dark:from-primary-600 dark:to-purple-700 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(2.5*m.content.total/5e3*100,100)}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,b.jsxs)("span",{children:[m.content.total," items stored"]}),(0,b.jsxs)("span",{children:[(2.5*m.content.total/5e3*100).toFixed(1),"% used"]})]})]})]}),0===m.devices.total&&(0,b.jsxs)("div",{className:"bg-gradient-to-r from-primary-500 to-purple-600 dark:from-primary-600 dark:to-purple-700 rounded-lg shadow-lg p-8 text-white",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,b.jsx)(j.Icon,{name:"power",size:"xl",className:"text-white"})," Getting Started"]}),(0,b.jsx)("p",{className:"mb-6 text-primary-100",children:"Welcome to Vizora! Follow these steps to get your digital signage system up and running:"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold mb-1",children:"Pair Your First Device"}),(0,b.jsx)("div",{className:"text-sm text-primary-100",children:"Connect a display device to start showing content"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold mb-1",children:"Upload Your Content"}),(0,b.jsx)("div",{className:"text-sm text-primary-100",children:"Add images, videos, or other media to your library"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold mb-1",children:"Create a Playlist"}),(0,b.jsx)("div",{className:"text-sm text-primary-100",children:"Organize your content into playlists"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"4"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold mb-1",children:"Publish & Schedule"}),(0,b.jsx)("div",{className:"text-sm text-primary-100",children:"Assign playlists to devices and set schedules"})]})]})]}),(0,b.jsx)("button",{onClick:()=>a.push("/dashboard/devices/pair"),className:"mt-6 bg-white text-primary-600 px-6 py-3 rounded-lg font-semibold hover:bg-primary-50 dark:hover:bg-gray-100 transition shadow-md",children:"Get Started - Pair Device"})]})]})}a.s(["default",()=>l],64494)}];

//# sourceMappingURL=web_src_app_dashboard_page_tsx_ba3c72f2._.js.map