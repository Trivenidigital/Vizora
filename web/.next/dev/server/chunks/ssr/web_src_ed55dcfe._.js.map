{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useTheme.ts"],"sourcesContent":["'use client';\n\nexport { useTheme } from '@/components/providers/ThemeProvider';\n"],"names":[],"mappings":";AAEA;AAFA"}},
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/theme/colors.ts"],"sourcesContent":["/**\n * Semantic Color System for Vizora\n * Provides consistent color usage across the application\n * with light and dark mode variants\n */\n\nexport const semanticColors = {\n  // Primary action color - main brand color\n  primary: {\n    light: '#0284c7', // blue-600\n    dark: '#0ea5e9', // blue-400\n    50: '#f0f9ff',\n    100: '#e0f2fe',\n    200: '#bae6fd',\n    300: '#7dd3fc',\n    400: '#38bdf8',\n    500: '#0ea5e9',\n    600: '#0284c7',\n    700: '#0369a1',\n    800: '#075985',\n    900: '#0c3d66',\n  },\n\n  // Success state - positive actions and confirmations\n  success: {\n    light: '#16a34a', // green-600\n    dark: '#22c55e', // green-500\n    50: '#f0fdf4',\n    100: '#dcfce7',\n    200: '#bbf7d0',\n    300: '#86efac',\n    400: '#4ade80',\n    500: '#22c55e',\n    600: '#16a34a',\n    700: '#15803d',\n    800: '#166534',\n    900: '#145231',\n  },\n\n  // Warning state - caution and attention needed\n  warning: {\n    light: '#d97706', // amber-600\n    dark: '#fbbf24', // amber-400\n    50: '#fffbeb',\n    100: '#fef3c7',\n    200: '#fde68a',\n    300: '#fcd34d',\n    400: '#fbbf24',\n    500: '#f59e0b',\n    600: '#d97706',\n    700: '#b45309',\n    800: '#92400e',\n    900: '#78350f',\n  },\n\n  // Error state - failures and destructive actions\n  error: {\n    light: '#dc2626', // red-600\n    dark: '#ef4444', // red-500\n    50: '#fef2f2',\n    100: '#fee2e2',\n    200: '#fecaca',\n    300: '#fca5a5',\n    400: '#f87171',\n    500: '#ef4444',\n    600: '#dc2626',\n    700: '#b91c1c',\n    800: '#991b1b',\n    900: '#7f1d1d',\n  },\n\n  // Info state - informational messages\n  info: {\n    light: '#2563eb', // blue-600\n    dark: '#3b82f6', // blue-500\n    50: '#eff6ff',\n    100: '#dbeafe',\n    200: '#bfdbfe',\n    300: '#93c5fd',\n    400: '#60a5fa',\n    500: '#3b82f6',\n    600: '#2563eb',\n    700: '#1d4ed8',\n    800: '#1e40af',\n    900: '#1e3a8a',\n  },\n\n  // Neutral/Gray - backgrounds, borders, text\n  neutral: {\n    50: '#f9fafb',\n    100: '#f3f4f6',\n    200: '#e5e7eb',\n    300: '#d1d5db',\n    400: '#9ca3af',\n    500: '#6b7280',\n    600: '#4b5563',\n    700: '#374151',\n    800: '#1f2937',\n    900: '#111827',\n    950: '#030712',\n  },\n};\n\n// Status-to-color mapping for device and content status indicators\nexport const statusColors = {\n  online: semanticColors.success,\n  offline: semanticColors.error,\n  idle: semanticColors.warning,\n  connecting: semanticColors.info,\n  active: semanticColors.success,\n  inactive: semanticColors.neutral,\n  processing: semanticColors.info,\n  completed: semanticColors.success,\n  failed: semanticColors.error,\n  pending: semanticColors.warning,\n};\n\n/**\n * Get text color that contrasts with a given background\n * Returns appropriate text color for the current theme\n */\nexport function getContrastColor(\n  bgColor: string,\n  lightColor: string = '#ffffff',\n  darkColor: string = '#000000'\n): string {\n  // Simple implementation - in production, use more sophisticated contrast calculation\n  // Check if background is considered \"light\" or \"dark\"\n  const isLight = bgColor.includes('light') ||\n                  bgColor.includes('50') ||\n                  bgColor.includes('100');\n  return isLight ? darkColor : lightColor;\n}\n\n/**\n * Get semantic color variant based on theme mode\n */\nexport function getSemanticColor(\n  colorType: keyof typeof semanticColors,\n  mode: 'light' | 'dark' = 'light'\n): string {\n  const color = semanticColors[colorType];\n  const modeKey = mode as unknown as keyof typeof color;\n  const colorValue = color[modeKey];\n  return (colorValue as any) || (color['500' as any]) || '#000000';\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;AAEM,MAAM,iBAAiB;IAC5B,0CAA0C;IAC1C,SAAS;QACP,OAAO;QACP,MAAM;QACN,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACP;IAEA,qDAAqD;IACrD,SAAS;QACP,OAAO;QACP,MAAM;QACN,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACP;IAEA,+CAA+C;IAC/C,SAAS;QACP,OAAO;QACP,MAAM;QACN,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACP;IAEA,iDAAiD;IACjD,OAAO;QACL,OAAO;QACP,MAAM;QACN,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACP;IAEA,sCAAsC;IACtC,MAAM;QACJ,OAAO;QACP,MAAM;QACN,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACP;IAEA,4CAA4C;IAC5C,SAAS;QACP,IAAI;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACP;AACF;AAGO,MAAM,eAAe;IAC1B,QAAQ,eAAe,OAAO;IAC9B,SAAS,eAAe,KAAK;IAC7B,MAAM,eAAe,OAAO;IAC5B,YAAY,eAAe,IAAI;IAC/B,QAAQ,eAAe,OAAO;IAC9B,UAAU,eAAe,OAAO;IAChC,YAAY,eAAe,IAAI;IAC/B,WAAW,eAAe,OAAO;IACjC,QAAQ,eAAe,KAAK;IAC5B,SAAS,eAAe,OAAO;AACjC;AAMO,SAAS,iBACd,OAAe,EACf,aAAqB,SAAS,EAC9B,YAAoB,SAAS;IAE7B,qFAAqF;IACrF,sDAAsD;IACtD,MAAM,UAAU,QAAQ,QAAQ,CAAC,YACjB,QAAQ,QAAQ,CAAC,SACjB,QAAQ,QAAQ,CAAC;IACjC,OAAO,UAAU,YAAY;AAC/B;AAKO,SAAS,iBACd,SAAsC,EACtC,OAAyB,OAAO;IAEhC,MAAM,QAAQ,cAAc,CAAC,UAAU;IACvC,MAAM,UAAU;IAChB,MAAM,aAAa,KAAK,CAAC,QAAQ;IACjC,OAAO,AAAC,cAAuB,KAAK,CAAC,MAAa,IAAK;AACzD"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/theme/chartConfig.ts"],"sourcesContent":["/**\n * Recharts Configuration & Theme System\n * Provides consistent chart styling across the application\n * with dark mode and light mode support\n */\n\nimport { semanticColors } from './colors';\n\nexport const chartColors = {\n  light: {\n    primary: semanticColors.primary[600],\n    secondary: semanticColors.info[600],\n    success: semanticColors.success[600],\n    warning: semanticColors.warning[600],\n    error: semanticColors.error[600],\n    neutral: semanticColors.neutral[400],\n    background: '#ffffff',\n    text: semanticColors.neutral[900],\n    gridStroke: semanticColors.neutral[200],\n    tooltipBg: '#ffffff',\n    tooltipBorder: semanticColors.neutral[200],\n  },\n  dark: {\n    primary: semanticColors.primary[400],\n    secondary: semanticColors.info[400],\n    success: semanticColors.success[500],\n    warning: semanticColors.warning[400],\n    error: semanticColors.error[500],\n    neutral: semanticColors.neutral[500],\n    background: semanticColors.neutral[900],\n    text: semanticColors.neutral[50],\n    gridStroke: semanticColors.neutral[700],\n    tooltipBg: semanticColors.neutral[800],\n    tooltipBorder: semanticColors.neutral[700],\n  },\n};\n\nexport const chartColorPalette = [\n  semanticColors.primary[600],\n  semanticColors.success[600],\n  semanticColors.warning[500],\n  semanticColors.error[600],\n  semanticColors.info[600],\n  semanticColors.primary[400],\n  semanticColors.success[400],\n  semanticColors.warning[400],\n];\n\nexport const chartColorPaletteDark = [\n  semanticColors.primary[400],\n  semanticColors.success[500],\n  semanticColors.warning[400],\n  semanticColors.error[500],\n  semanticColors.info[400],\n  semanticColors.primary[300],\n  semanticColors.success[300],\n  semanticColors.warning[300],\n];\n\n/**\n * Get chart theme configuration based on mode\n */\nexport function getChartTheme(mode: 'light' | 'dark' = 'light') {\n  const colors = mode === 'dark' ? chartColors.dark : chartColors.light;\n  const palette = mode === 'dark' ? chartColorPaletteDark : chartColorPalette;\n\n  return {\n    colors,\n    palette,\n    responsive: {\n      containerClassName: 'w-full h-full',\n      width: '100%',\n      height: 300,\n    },\n    cartesianGrid: {\n      strokeDasharray: '3 3',\n      stroke: colors.gridStroke,\n      vertical: false,\n    },\n    tooltip: {\n      contentStyle: {\n        backgroundColor: colors.tooltipBg,\n        border: `1px solid ${colors.tooltipBorder}`,\n        borderRadius: '8px',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        color: colors.text,\n      },\n      cursor: { fill: 'rgba(0, 0, 0, 0.05)' },\n    },\n    legend: {\n      wrapperStyle: { color: colors.text },\n      iconType: 'line' as const,\n    },\n    xAxis: {\n      stroke: colors.gridStroke,\n      style: { fontSize: '12px', fill: colors.text },\n    },\n    yAxis: {\n      stroke: colors.gridStroke,\n      style: { fontSize: '12px', fill: colors.text },\n    },\n  };\n}\n\n/**\n * Animation configuration for charts\n */\nexport const chartAnimations = {\n  enabled: true,\n  duration: 800,\n  easing: 'ease-in-out' as const,\n};\n\n/**\n * Responsive chart sizing rules\n */\nexport const chartResponsiveConfig = {\n  small: { width: '100%', height: 250 },\n  medium: { width: '100%', height: 300 },\n  large: { width: '100%', height: 400 },\n  fullscreen: { width: '100%', height: 500 },\n};\n\n/**\n * Default chart options\n */\nexport const defaultChartOptions = {\n  margin: {\n    top: 5,\n    right: 30,\n    left: 0,\n    bottom: 5,\n  },\n  cartesianGrid: true,\n  tooltip: true,\n  legend: true,\n  responsive: true,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/charts/LineChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  LineChart as RechartLineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport { useTheme } from '@/lib/hooks/useTheme';\nimport { getChartTheme, chartColorPalette, chartColorPaletteDark } from '@/theme/chartConfig';\n\ninterface DataPoint {\n  [key: string]: string | number;\n}\n\ninterface LineChartProps {\n  data: DataPoint[];\n  dataKeys: Array<{\n    key: string;\n    name: string;\n    color?: string;\n    strokeWidth?: number;\n  }>;\n  xAxisKey: string;\n  yAxisLabel?: string;\n  xAxisLabel?: string;\n  height?: number;\n  showGrid?: boolean;\n  showLegend?: boolean;\n  showTooltip?: boolean;\n  smooth?: boolean;\n  className?: string;\n}\n\nconst CustomTooltip: React.FC<TooltipProps<number, string>> = ({\n  active,\n  payload,\n  label,\n}) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-3 shadow-lg dark:border-neutral-700 dark:bg-neutral-800\">\n        <p className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-50\">\n          {label}\n        </p>\n        {payload.map((entry, index) => (\n          <p\n            key={`item-${index}`}\n            className=\"text-sm\"\n            style={{ color: entry.color }}\n          >\n            {entry.name}: {entry.value}\n          </p>\n        ))}\n      </div>\n    );\n  }\n  return null;\n};\n\nexport const LineChart: React.FC<LineChartProps> = ({\n  data,\n  dataKeys,\n  xAxisKey,\n  yAxisLabel,\n  xAxisLabel,\n  height = 300,\n  showGrid = true,\n  showLegend = true,\n  showTooltip = true,\n  smooth = true,\n  className,\n}) => {\n  const { isDark } = useTheme();\n  const theme = getChartTheme(isDark ? 'dark' : 'light');\n  const palette = isDark ? chartColorPaletteDark : chartColorPalette;\n\n  return (\n    <div className={`w-full ${className || ''}`}>\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartLineChart data={data} margin={theme.colors as any}>\n          {showGrid && <CartesianGrid {...theme.cartesianGrid} />}\n          <XAxis\n            dataKey={xAxisKey}\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              xAxisLabel\n                ? {\n                    value: xAxisLabel,\n                    position: 'insideBottomRight',\n                    offset: -5,\n                  }\n                : undefined\n            }\n          />\n          <YAxis\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              yAxisLabel\n                ? { value: yAxisLabel, angle: -90, position: 'insideLeft' }\n                : undefined\n            }\n          />\n          {showTooltip && <Tooltip content={<CustomTooltip />} />}\n          {showLegend && <Legend />}\n          {dataKeys.map((item, index) => (\n            <Line\n              key={item.key}\n              type={smooth ? 'monotone' : 'linear'}\n              dataKey={item.key}\n              name={item.name}\n              stroke={item.color || palette[index % palette.length]}\n              strokeWidth={item.strokeWidth || 2}\n              dot={{ r: 4 }}\n              activeDot={{ r: 6 }}\n              isAnimationActive={true}\n            />\n          ))}\n        </RechartLineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AACA;AAfA;;;;;AAwCA,MAAM,gBAAwD,CAAC,EAC7D,MAAM,EACN,OAAO,EACP,KAAK,EACN;IACC,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;QACvC,qBACE,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAE,WAAU;8BACV;;;;;;gBAEF,QAAQ,GAAG,CAAC,CAAC,OAAO,sBACnB,6VAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,OAAO,MAAM,KAAK;wBAAC;;4BAE3B,MAAM,IAAI;4BAAC;4BAAG,MAAM,KAAK;;uBAJrB,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;IAS9B;IACA,OAAO;AACT;AAEO,MAAM,YAAsC,CAAC,EAClD,IAAI,EACJ,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,UAAU,EACV,SAAS,GAAG,EACZ,WAAW,IAAI,EACf,aAAa,IAAI,EACjB,cAAc,IAAI,EAClB,SAAS,IAAI,EACb,SAAS,EACV;IACC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mKAAQ;IAC3B,MAAM,QAAQ,IAAA,mJAAa,EAAC,SAAS,SAAS;IAC9C,MAAM,UAAU,SAAS,2JAAqB,GAAG,uJAAiB;IAElE,qBACE,6VAAC;QAAI,WAAW,CAAC,OAAO,EAAE,aAAa,IAAI;kBACzC,cAAA,6VAAC,6TAAmB;YAAC,OAAM;YAAO,QAAQ;sBACxC,cAAA,6VAAC,qSAAgB;gBAAC,MAAM;gBAAM,QAAQ,MAAM,MAAM;;oBAC/C,0BAAY,6VAAC,iTAAa;wBAAE,GAAG,MAAM,aAAa;;;;;;kCACnD,6VAAC,iSAAK;wBACJ,SAAS;wBACT,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BACE,OAAO;4BACP,UAAU;4BACV,QAAQ,CAAC;wBACX,IACA;;;;;;kCAGR,6VAAC,iSAAK;wBACJ,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BAAE,OAAO;4BAAY,OAAO,CAAC;4BAAI,UAAU;wBAAa,IACxD;;;;;;oBAGP,6BAAe,6VAAC,qSAAO;wBAAC,uBAAS,6VAAC;;;;;;;;;;oBAClC,4BAAc,6VAAC,mSAAM;;;;;oBACrB,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,6VAAC,+RAAI;4BAEH,MAAM,SAAS,aAAa;4BAC5B,SAAS,KAAK,GAAG;4BACjB,MAAM,KAAK,IAAI;4BACf,QAAQ,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;4BACrD,aAAa,KAAK,WAAW,IAAI;4BACjC,KAAK;gCAAE,GAAG;4BAAE;4BACZ,WAAW;gCAAE,GAAG;4BAAE;4BAClB,mBAAmB;2BARd,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;AAe3B"}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/charts/BarChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  BarChart as RechartBarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport { useTheme } from '@/lib/hooks/useTheme';\nimport { getChartTheme, chartColorPalette, chartColorPaletteDark } from '@/theme/chartConfig';\n\ninterface DataPoint {\n  [key: string]: string | number;\n}\n\ninterface BarChartProps {\n  data: DataPoint[];\n  dataKeys: Array<{\n    key: string;\n    name: string;\n    color?: string;\n    stackId?: string;\n  }>;\n  xAxisKey: string;\n  yAxisLabel?: string;\n  xAxisLabel?: string;\n  height?: number;\n  layout?: 'vertical' | 'horizontal';\n  showGrid?: boolean;\n  showLegend?: boolean;\n  showTooltip?: boolean;\n  className?: string;\n}\n\nconst CustomTooltip: React.FC<TooltipProps<number, string>> = ({\n  active,\n  payload,\n  label,\n}) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-3 shadow-lg dark:border-neutral-700 dark:bg-neutral-800\">\n        <p className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-50\">\n          {label}\n        </p>\n        {payload.map((entry, index) => (\n          <p\n            key={`item-${index}`}\n            className=\"text-sm\"\n            style={{ color: entry.color }}\n          >\n            {entry.name}: {entry.value}\n          </p>\n        ))}\n      </div>\n    );\n  }\n  return null;\n};\n\nexport const BarChart: React.FC<BarChartProps> = ({\n  data,\n  dataKeys,\n  xAxisKey,\n  yAxisLabel,\n  xAxisLabel,\n  height = 300,\n  layout = 'horizontal',\n  showGrid = true,\n  showLegend = true,\n  showTooltip = true,\n  className,\n}) => {\n  const { isDark } = useTheme();\n  const theme = getChartTheme(isDark ? 'dark' : 'light');\n  const palette = isDark ? chartColorPaletteDark : chartColorPalette;\n\n  return (\n    <div className={`w-full ${className || ''}`}>\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartBarChart\n          data={data}\n          layout={layout}\n          margin={theme.colors as any}\n        >\n          {showGrid && <CartesianGrid {...theme.cartesianGrid} />}\n          <XAxis\n            type={layout === 'vertical' ? 'number' : 'category'}\n            dataKey={layout === 'vertical' ? undefined : xAxisKey}\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              xAxisLabel\n                ? {\n                    value: xAxisLabel,\n                    position: 'insideBottomRight',\n                    offset: -5,\n                  }\n                : undefined\n            }\n          />\n          <YAxis\n            type={layout === 'vertical' ? 'category' : 'number'}\n            dataKey={layout === 'vertical' ? xAxisKey : undefined}\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              yAxisLabel\n                ? { value: yAxisLabel, angle: -90, position: 'insideLeft' }\n                : undefined\n            }\n          />\n          {showTooltip && <Tooltip content={<CustomTooltip />} />}\n          {showLegend && <Legend />}\n          {dataKeys.map((item, index) => (\n            <Bar\n              key={item.key}\n              dataKey={item.key}\n              name={item.name}\n              fill={item.color || palette[index % palette.length]}\n              stackId={item.stackId}\n              radius={[8, 8, 0, 0]}\n            />\n          ))}\n        </RechartBarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AACA;AAfA;;;;;AAwCA,MAAM,gBAAwD,CAAC,EAC7D,MAAM,EACN,OAAO,EACP,KAAK,EACN;IACC,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;QACvC,qBACE,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAE,WAAU;8BACV;;;;;;gBAEF,QAAQ,GAAG,CAAC,CAAC,OAAO,sBACnB,6VAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,OAAO,MAAM,KAAK;wBAAC;;4BAE3B,MAAM,IAAI;4BAAC;4BAAG,MAAM,KAAK;;uBAJrB,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;IAS9B;IACA,OAAO;AACT;AAEO,MAAM,WAAoC,CAAC,EAChD,IAAI,EACJ,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,UAAU,EACV,SAAS,GAAG,EACZ,SAAS,YAAY,EACrB,WAAW,IAAI,EACf,aAAa,IAAI,EACjB,cAAc,IAAI,EAClB,SAAS,EACV;IACC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mKAAQ;IAC3B,MAAM,QAAQ,IAAA,mJAAa,EAAC,SAAS,SAAS;IAC9C,MAAM,UAAU,SAAS,2JAAqB,GAAG,uJAAiB;IAElE,qBACE,6VAAC;QAAI,WAAW,CAAC,OAAO,EAAE,aAAa,IAAI;kBACzC,cAAA,6VAAC,6TAAmB;YAAC,OAAM;YAAO,QAAQ;sBACxC,cAAA,6VAAC,mSAAe;gBACd,MAAM;gBACN,QAAQ;gBACR,QAAQ,MAAM,MAAM;;oBAEnB,0BAAY,6VAAC,iTAAa;wBAAE,GAAG,MAAM,aAAa;;;;;;kCACnD,6VAAC,iSAAK;wBACJ,MAAM,WAAW,aAAa,WAAW;wBACzC,SAAS,WAAW,aAAa,YAAY;wBAC7C,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BACE,OAAO;4BACP,UAAU;4BACV,QAAQ,CAAC;wBACX,IACA;;;;;;kCAGR,6VAAC,iSAAK;wBACJ,MAAM,WAAW,aAAa,aAAa;wBAC3C,SAAS,WAAW,aAAa,WAAW;wBAC5C,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BAAE,OAAO;4BAAY,OAAO,CAAC;4BAAI,UAAU;wBAAa,IACxD;;;;;;oBAGP,6BAAe,6VAAC,qSAAO;wBAAC,uBAAS,6VAAC;;;;;;;;;;oBAClC,4BAAc,6VAAC,mSAAM;;;;;oBACrB,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,6VAAC,6RAAG;4BAEF,SAAS,KAAK,GAAG;4BACjB,MAAM,KAAK,IAAI;4BACf,MAAM,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;4BACnD,SAAS,KAAK,OAAO;4BACrB,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;2BALf,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;AAY3B"}},
    {"offset": {"line": 638, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/charts/PieChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  PieChart as RechartPieChart,\n  Pie,\n  Cell,\n  Legend,\n  Tooltip,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport { useTheme } from '@/lib/hooks/useTheme';\nimport { chartColorPalette, chartColorPaletteDark } from '@/theme/chartConfig';\n\ninterface DataPoint {\n  name: string;\n  value: number;\n  color?: string;\n}\n\ninterface PieChartProps {\n  data: DataPoint[];\n  dataKey?: string;\n  nameKey?: string;\n  height?: number;\n  showLegend?: boolean;\n  showTooltip?: boolean;\n  showLabel?: boolean;\n  className?: string;\n}\n\nconst CustomTooltip: React.FC<TooltipProps<number, string>> = ({\n  active,\n  payload,\n}) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-3 shadow-lg dark:border-neutral-700 dark:bg-neutral-800\">\n        <p className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-50\">\n          {payload[0].name}\n        </p>\n        <p className=\"text-sm\" style={{ color: payload[0].fill }}>\n          Value: {payload[0].value}\n        </p>\n        <p className=\"text-xs text-neutral-500 dark:text-neutral-400\">\n          {((payload[0].value as number) / 100).toFixed(1)}%\n        </p>\n      </div>\n    );\n  }\n  return null;\n};\n\nexport const PieChart: React.FC<PieChartProps> = ({\n  data,\n  dataKey = 'value',\n  nameKey = 'name',\n  height = 300,\n  showLegend = true,\n  showTooltip = true,\n  showLabel = true,\n  className,\n}) => {\n  const { isDark } = useTheme();\n  const palette = isDark ? chartColorPaletteDark : chartColorPalette;\n\n  const colors = data.map((item, index) => item.color || palette[index % palette.length]);\n\n  return (\n    <div className={`flex justify-center w-full ${className || ''}`}>\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartPieChart>\n          <Pie\n            data={data}\n            dataKey={dataKey}\n            nameKey={nameKey}\n            cx=\"50%\"\n            cy=\"50%\"\n            outerRadius={100}\n            label={\n              showLabel\n                ? {\n                    position: 'outside' as const,\n                    formatter: (value: number) => `${value}%`,\n                  }\n                : false\n            }\n            isAnimationActive={true}\n          >\n            {colors.map((color, index) => (\n              <Cell key={`cell-${index}`} fill={color} />\n            ))}\n          </Pie>\n          {showTooltip && <Tooltip content={<CustomTooltip />} />}\n          {showLegend && <Legend />}\n        </RechartPieChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AACA;AAbA;;;;;AAgCA,MAAM,gBAAwD,CAAC,EAC7D,MAAM,EACN,OAAO,EACR;IACC,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;QACvC,qBACE,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAE,WAAU;8BACV,OAAO,CAAC,EAAE,CAAC,IAAI;;;;;;8BAElB,6VAAC;oBAAE,WAAU;oBAAU,OAAO;wBAAE,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI;oBAAC;;wBAAG;wBAChD,OAAO,CAAC,EAAE,CAAC,KAAK;;;;;;;8BAE1B,6VAAC;oBAAE,WAAU;;wBACV,CAAC,AAAC,OAAO,CAAC,EAAE,CAAC,KAAK,GAAc,GAAG,EAAE,OAAO,CAAC;wBAAG;;;;;;;;;;;;;IAIzD;IACA,OAAO;AACT;AAEO,MAAM,WAAoC,CAAC,EAChD,IAAI,EACJ,UAAU,OAAO,EACjB,UAAU,MAAM,EAChB,SAAS,GAAG,EACZ,aAAa,IAAI,EACjB,cAAc,IAAI,EAClB,YAAY,IAAI,EAChB,SAAS,EACV;IACC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mKAAQ;IAC3B,MAAM,UAAU,SAAS,2JAAqB,GAAG,uJAAiB;IAElE,MAAM,SAAS,KAAK,GAAG,CAAC,CAAC,MAAM,QAAU,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;IAEtF,qBACE,6VAAC;QAAI,WAAW,CAAC,2BAA2B,EAAE,aAAa,IAAI;kBAC7D,cAAA,6VAAC,6TAAmB;YAAC,OAAM;YAAO,QAAQ;sBACxC,cAAA,6VAAC,mSAAe;;kCACd,6VAAC,yRAAG;wBACF,MAAM;wBACN,SAAS;wBACT,SAAS;wBACT,IAAG;wBACH,IAAG;wBACH,aAAa;wBACb,OACE,YACI;4BACE,UAAU;4BACV,WAAW,CAAC,QAAkB,GAAG,MAAM,CAAC,CAAC;wBAC3C,IACA;wBAEN,mBAAmB;kCAElB,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,6VAAC,+RAAI;gCAAuB,MAAM;+BAAvB,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;oBAG7B,6BAAe,6VAAC,qSAAO;wBAAC,uBAAS,6VAAC;;;;;;;;;;oBAClC,4BAAc,6VAAC,mSAAM;;;;;;;;;;;;;;;;;;;;;AAKhC"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/charts/AreaChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  AreaChart as RechartAreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport { useTheme } from '@/lib/hooks/useTheme';\nimport { getChartTheme, chartColorPalette, chartColorPaletteDark } from '@/theme/chartConfig';\n\ninterface DataPoint {\n  [key: string]: string | number;\n}\n\ninterface AreaChartProps {\n  data: DataPoint[];\n  dataKeys: Array<{\n    key: string;\n    name: string;\n    color?: string;\n    strokeWidth?: number;\n  }>;\n  xAxisKey: string;\n  yAxisLabel?: string;\n  xAxisLabel?: string;\n  height?: number;\n  showGrid?: boolean;\n  showLegend?: boolean;\n  showTooltip?: boolean;\n  stacked?: boolean;\n  className?: string;\n}\n\nconst CustomTooltip: React.FC<TooltipProps<number, string>> = ({\n  active,\n  payload,\n  label,\n}) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-3 shadow-lg dark:border-neutral-700 dark:bg-neutral-800\">\n        <p className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-50\">\n          {label}\n        </p>\n        {payload.map((entry, index) => (\n          <p\n            key={`item-${index}`}\n            className=\"text-sm\"\n            style={{ color: entry.color }}\n          >\n            {entry.name}: {entry.value}\n          </p>\n        ))}\n      </div>\n    );\n  }\n  return null;\n};\n\nexport const AreaChart: React.FC<AreaChartProps> = ({\n  data,\n  dataKeys,\n  xAxisKey,\n  yAxisLabel,\n  xAxisLabel,\n  height = 300,\n  showGrid = true,\n  showLegend = true,\n  showTooltip = true,\n  stacked = false,\n  className,\n}) => {\n  const { isDark } = useTheme();\n  const theme = getChartTheme(isDark ? 'dark' : 'light');\n  const palette = isDark ? chartColorPaletteDark : chartColorPalette;\n\n  return (\n    <div className={`w-full ${className || ''}`}>\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartAreaChart data={data} margin={theme.colors as any}>\n          {showGrid && <CartesianGrid {...theme.cartesianGrid} />}\n          <XAxis\n            dataKey={xAxisKey}\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              xAxisLabel\n                ? {\n                    value: xAxisLabel,\n                    position: 'insideBottomRight',\n                    offset: -5,\n                  }\n                : undefined\n            }\n          />\n          <YAxis\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              yAxisLabel\n                ? { value: yAxisLabel, angle: -90, position: 'insideLeft' }\n                : undefined\n            }\n          />\n          {showTooltip && <Tooltip content={<CustomTooltip />} />}\n          {showLegend && <Legend />}\n          {dataKeys.map((item, index) => (\n            <Area\n              key={item.key}\n              type=\"monotone\"\n              dataKey={item.key}\n              name={item.name}\n              stroke={item.color || palette[index % palette.length]}\n              fill={item.color || palette[index % palette.length]}\n              fillOpacity={0.6}\n              stackId={stacked ? 'area' : undefined}\n              strokeWidth={item.strokeWidth || 2}\n              isAnimationActive={true}\n            />\n          ))}\n        </RechartAreaChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AACA;AAfA;;;;;AAwCA,MAAM,gBAAwD,CAAC,EAC7D,MAAM,EACN,OAAO,EACP,KAAK,EACN;IACC,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;QACvC,qBACE,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAE,WAAU;8BACV;;;;;;gBAEF,QAAQ,GAAG,CAAC,CAAC,OAAO,sBACnB,6VAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,OAAO,MAAM,KAAK;wBAAC;;4BAE3B,MAAM,IAAI;4BAAC;4BAAG,MAAM,KAAK;;uBAJrB,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;IAS9B;IACA,OAAO;AACT;AAEO,MAAM,YAAsC,CAAC,EAClD,IAAI,EACJ,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,UAAU,EACV,SAAS,GAAG,EACZ,WAAW,IAAI,EACf,aAAa,IAAI,EACjB,cAAc,IAAI,EAClB,UAAU,KAAK,EACf,SAAS,EACV;IACC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mKAAQ;IAC3B,MAAM,QAAQ,IAAA,mJAAa,EAAC,SAAS,SAAS;IAC9C,MAAM,UAAU,SAAS,2JAAqB,GAAG,uJAAiB;IAElE,qBACE,6VAAC;QAAI,WAAW,CAAC,OAAO,EAAE,aAAa,IAAI;kBACzC,cAAA,6VAAC,6TAAmB;YAAC,OAAM;YAAO,QAAQ;sBACxC,cAAA,6VAAC,qSAAgB;gBAAC,MAAM;gBAAM,QAAQ,MAAM,MAAM;;oBAC/C,0BAAY,6VAAC,iTAAa;wBAAE,GAAG,MAAM,aAAa;;;;;;kCACnD,6VAAC,iSAAK;wBACJ,SAAS;wBACT,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BACE,OAAO;4BACP,UAAU;4BACV,QAAQ,CAAC;wBACX,IACA;;;;;;kCAGR,6VAAC,iSAAK;wBACJ,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BAAE,OAAO;4BAAY,OAAO,CAAC;4BAAI,UAAU;wBAAa,IACxD;;;;;;oBAGP,6BAAe,6VAAC,qSAAO;wBAAC,uBAAS,6VAAC;;;;;;;;;;oBAClC,4BAAc,6VAAC,mSAAM;;;;;oBACrB,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,6VAAC,+RAAI;4BAEH,MAAK;4BACL,SAAS,KAAK,GAAG;4BACjB,MAAM,KAAK,IAAI;4BACf,QAAQ,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;4BACrD,MAAM,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;4BACnD,aAAa;4BACb,SAAS,UAAU,SAAS;4BAC5B,aAAa,KAAK,WAAW,IAAI;4BACjC,mBAAmB;2BATd,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;AAgB3B"}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/charts/ComposedChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  ComposedChart as RechartComposedChart,\n  Bar,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport { useTheme } from '@/lib/hooks/useTheme';\nimport { getChartTheme, chartColorPalette, chartColorPaletteDark } from '@/theme/chartConfig';\n\ninterface DataPoint {\n  [key: string]: string | number;\n}\n\ninterface SeriesConfig {\n  type: 'line' | 'bar';\n  key: string;\n  name: string;\n  color?: string;\n  yAxisId?: 'left' | 'right';\n  stackId?: string;\n}\n\ninterface ComposedChartProps {\n  data: DataPoint[];\n  series: SeriesConfig[];\n  xAxisKey: string;\n  yAxisLabel?: string;\n  xAxisLabel?: string;\n  height?: number;\n  showGrid?: boolean;\n  showLegend?: boolean;\n  showTooltip?: boolean;\n  dualAxis?: boolean;\n  className?: string;\n}\n\nconst CustomTooltip: React.FC<TooltipProps<number, string>> = ({\n  active,\n  payload,\n  label,\n}) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-3 shadow-lg dark:border-neutral-700 dark:bg-neutral-800\">\n        <p className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-50\">\n          {label}\n        </p>\n        {payload.map((entry, index) => (\n          <p\n            key={`item-${index}`}\n            className=\"text-sm\"\n            style={{ color: entry.color }}\n          >\n            {entry.name}: {entry.value}\n          </p>\n        ))}\n      </div>\n    );\n  }\n  return null;\n};\n\nexport const ComposedChart: React.FC<ComposedChartProps> = ({\n  data,\n  series,\n  xAxisKey,\n  yAxisLabel,\n  xAxisLabel,\n  height = 300,\n  showGrid = true,\n  showLegend = true,\n  showTooltip = true,\n  dualAxis = false,\n  className,\n}) => {\n  const { isDark } = useTheme();\n  const theme = getChartTheme(isDark ? 'dark' : 'light');\n  const palette = isDark ? chartColorPaletteDark : chartColorPalette;\n\n  return (\n    <div className={`w-full ${className || ''}`}>\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartComposedChart data={data} margin={theme.colors as any}>\n          {showGrid && <CartesianGrid {...theme.cartesianGrid} />}\n          <XAxis\n            dataKey={xAxisKey}\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              xAxisLabel\n                ? {\n                    value: xAxisLabel,\n                    position: 'insideBottomRight',\n                    offset: -5,\n                  }\n                : undefined\n            }\n          />\n          <YAxis\n            yAxisId=\"left\"\n            stroke={theme.colors.gridStroke}\n            style={{ fontSize: '12px', fill: theme.colors.text }}\n            label={\n              yAxisLabel\n                ? { value: yAxisLabel, angle: -90, position: 'insideLeft' }\n                : undefined\n            }\n          />\n          {dualAxis && (\n            <YAxis\n              yAxisId=\"right\"\n              orientation=\"right\"\n              stroke={theme.colors.gridStroke}\n              style={{ fontSize: '12px', fill: theme.colors.text }}\n            />\n          )}\n          {showTooltip && <Tooltip content={<CustomTooltip />} />}\n          {showLegend && <Legend />}\n          {series.map((item, index) => {\n            const baseProps = {\n              key: item.key,\n              dataKey: item.key,\n              name: item.name,\n              yAxisId: item.yAxisId || 'left',\n              fill: item.color || palette[index % palette.length],\n              stroke: item.color || palette[index % palette.length],\n            };\n\n            if (item.type === 'bar') {\n              return (\n                <Bar\n                  {...baseProps}\n                  stackId={item.stackId}\n                  radius={[8, 8, 0, 0]}\n                />\n              );\n            }\n\n            return (\n              <Line\n                {...baseProps}\n                type=\"monotone\"\n                strokeWidth={2}\n                dot={{ r: 4 }}\n              />\n            );\n          })}\n        </RechartComposedChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AACA;AAhBA;;;;;AA6CA,MAAM,gBAAwD,CAAC,EAC7D,MAAM,EACN,OAAO,EACP,KAAK,EACN;IACC,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;QACvC,qBACE,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAE,WAAU;8BACV;;;;;;gBAEF,QAAQ,GAAG,CAAC,CAAC,OAAO,sBACnB,6VAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,OAAO,MAAM,KAAK;wBAAC;;4BAE3B,MAAM,IAAI;4BAAC;4BAAG,MAAM,KAAK;;uBAJrB,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;IAS9B;IACA,OAAO;AACT;AAEO,MAAM,gBAA8C,CAAC,EAC1D,IAAI,EACJ,MAAM,EACN,QAAQ,EACR,UAAU,EACV,UAAU,EACV,SAAS,GAAG,EACZ,WAAW,IAAI,EACf,aAAa,IAAI,EACjB,cAAc,IAAI,EAClB,WAAW,KAAK,EAChB,SAAS,EACV;IACC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mKAAQ;IAC3B,MAAM,QAAQ,IAAA,mJAAa,EAAC,SAAS,SAAS;IAC9C,MAAM,UAAU,SAAS,2JAAqB,GAAG,uJAAiB;IAElE,qBACE,6VAAC;QAAI,WAAW,CAAC,OAAO,EAAE,aAAa,IAAI;kBACzC,cAAA,6VAAC,6TAAmB;YAAC,OAAM;YAAO,QAAQ;sBACxC,cAAA,6VAAC,6SAAoB;gBAAC,MAAM;gBAAM,QAAQ,MAAM,MAAM;;oBACnD,0BAAY,6VAAC,iTAAa;wBAAE,GAAG,MAAM,aAAa;;;;;;kCACnD,6VAAC,iSAAK;wBACJ,SAAS;wBACT,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BACE,OAAO;4BACP,UAAU;4BACV,QAAQ,CAAC;wBACX,IACA;;;;;;kCAGR,6VAAC,iSAAK;wBACJ,SAAQ;wBACR,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;wBACnD,OACE,aACI;4BAAE,OAAO;4BAAY,OAAO,CAAC;4BAAI,UAAU;wBAAa,IACxD;;;;;;oBAGP,0BACC,6VAAC,iSAAK;wBACJ,SAAQ;wBACR,aAAY;wBACZ,QAAQ,MAAM,MAAM,CAAC,UAAU;wBAC/B,OAAO;4BAAE,UAAU;4BAAQ,MAAM,MAAM,MAAM,CAAC,IAAI;wBAAC;;;;;;oBAGtD,6BAAe,6VAAC,qSAAO;wBAAC,uBAAS,6VAAC;;;;;;;;;;oBAClC,4BAAc,6VAAC,mSAAM;;;;;oBACrB,OAAO,GAAG,CAAC,CAAC,MAAM;wBACjB,MAAM,YAAY;4BAChB,KAAK,KAAK,GAAG;4BACb,SAAS,KAAK,GAAG;4BACjB,MAAM,KAAK,IAAI;4BACf,SAAS,KAAK,OAAO,IAAI;4BACzB,MAAM,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;4BACnD,QAAQ,KAAK,KAAK,IAAI,OAAO,CAAC,QAAQ,QAAQ,MAAM,CAAC;wBACvD;wBAEA,IAAI,KAAK,IAAI,KAAK,OAAO;4BACvB,qBACE,6VAAC,6RAAG;gCACD,GAAG,SAAS;gCACb,SAAS,KAAK,OAAO;gCACrB,QAAQ;oCAAC;oCAAG;oCAAG;oCAAG;iCAAE;;;;;;wBAG1B;wBAEA,qBACE,6VAAC,+RAAI;4BACF,GAAG,SAAS;4BACb,MAAK;4BACL,aAAa;4BACb,KAAK;gCAAE,GAAG;4BAAE;;;;;;oBAGlB;;;;;;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 1140, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/charts/index.ts"],"sourcesContent":["export { LineChart } from './LineChart';\nexport { BarChart } from './BarChart';\nexport { PieChart } from './PieChart';\nexport { AreaChart } from './AreaChart';\nexport { ComposedChart } from './ComposedChart';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/ui/Card.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\ninterface CardHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\ninterface CardBodyProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\ninterface CardFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst CardRoot: React.FC<CardProps> = ({ children, className }) => (\n  <div\n    className={`bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 shadow-sm hover:shadow-md transition-shadow ${\n      className || ''\n    }`}\n  >\n    {children}\n  </div>\n);\n\nconst CardHeader: React.FC<CardHeaderProps> = ({ children, className }) => (\n  <div\n    className={`px-6 py-4 border-b border-neutral-200 dark:border-neutral-700 ${\n      className || ''\n    }`}\n  >\n    {children}\n  </div>\n);\n\nconst CardBody: React.FC<CardBodyProps> = ({ children, className }) => (\n  <div className={`px-6 py-4 ${className || ''}`}>{children}</div>\n);\n\nconst CardFooter: React.FC<CardFooterProps> = ({ children, className }) => (\n  <div\n    className={`px-6 py-3 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900/50 rounded-b-lg ${\n      className || ''\n    }`}\n  >\n    {children}\n  </div>\n);\n\nexport const Card = Object.assign(CardRoot, {\n  Header: CardHeader,\n  Body: CardBody,\n  Footer: CardFooter,\n});\n"],"names":[],"mappings":";;;;;AAAA;;AAwBA,MAAM,WAAgC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,iBAC5D,6VAAC;QACC,WAAW,CAAC,sIAAsI,EAChJ,aAAa,IACb;kBAED;;;;;;AAIL,MAAM,aAAwC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,iBACpE,6VAAC;QACC,WAAW,CAAC,8DAA8D,EACxE,aAAa,IACb;kBAED;;;;;;AAIL,MAAM,WAAoC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,iBAChE,6VAAC;QAAI,WAAW,CAAC,UAAU,EAAE,aAAa,IAAI;kBAAG;;;;;;AAGnD,MAAM,aAAwC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,iBACpE,6VAAC;QACC,WAAW,CAAC,gHAAgH,EAC1H,aAAa,IACb;kBAED;;;;;;AAIE,MAAM,OAAO,OAAO,MAAM,CAAC,UAAU;IAC1C,QAAQ;IACR,MAAM;IACN,QAAQ;AACV"}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/ui/Badge.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { X } from 'lucide-react';\n\ntype BadgeVariant = 'primary' | 'success' | 'warning' | 'error' | 'info' | 'neutral';\ntype BadgeSize = 'sm' | 'md' | 'lg';\n\ninterface BadgeProps {\n  children: React.ReactNode;\n  variant?: BadgeVariant;\n  size?: BadgeSize;\n  dismissible?: boolean;\n  onDismiss?: () => void;\n  className?: string;\n}\n\nconst variantStyles: Record<BadgeVariant, string> = {\n  primary: 'bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-100 border border-primary-300 dark:border-primary-700',\n  success: 'bg-success-100 dark:bg-success-900 text-success-800 dark:text-success-100 border border-success-300 dark:border-success-700',\n  warning: 'bg-warning-100 dark:bg-warning-900 text-warning-800 dark:text-warning-100 border border-warning-300 dark:border-warning-700',\n  error: 'bg-error-100 dark:bg-error-900 text-error-800 dark:text-error-100 border border-error-300 dark:border-error-700',\n  info: 'bg-info-100 dark:bg-info-900 text-info-800 dark:text-info-100 border border-info-300 dark:border-info-700',\n  neutral: 'bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100 border border-neutral-300 dark:border-neutral-600',\n};\n\nconst sizeStyles: Record<BadgeSize, string> = {\n  sm: 'px-2 py-1 text-xs',\n  md: 'px-3 py-1.5 text-sm',\n  lg: 'px-4 py-2 text-base',\n};\n\nexport const Badge: React.FC<BadgeProps> = ({\n  children,\n  variant = 'primary',\n  size = 'md',\n  dismissible = false,\n  onDismiss,\n  className,\n}) => {\n  return (\n    <div\n      className={`inline-flex items-center gap-2 rounded-full font-medium transition-colors ${variantStyles[variant]} ${sizeStyles[size]} ${className || ''}`}\n    >\n      {children}\n      {dismissible && (\n        <button\n          onClick={onDismiss}\n          className=\"ml-1 inline-flex items-center justify-center rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors\"\n          aria-label=\"Dismiss badge\"\n        >\n          <X className=\"w-3 h-3\" />\n        </button>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAiBA,MAAM,gBAA8C;IAClD,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,MAAM;IACN,SAAS;AACX;AAEA,MAAM,aAAwC;IAC5C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,MAAM,QAA8B,CAAC,EAC1C,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,cAAc,KAAK,EACnB,SAAS,EACT,SAAS,EACV;IACC,qBACE,6VAAC;QACC,WAAW,CAAC,0EAA0E,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,IAAI;;YAEtJ;YACA,6BACC,6VAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,6VAAC,qRAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAKvB"}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/Toast.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Icon } from '@/theme/icons';\nimport type { IconName } from '@/theme/icons';\n\nexport type ToastType = 'success' | 'error' | 'info' | 'warning';\n\ninterface ToastProps {\n  message: string;\n  type: ToastType;\n  onClose: () => void;\n  duration?: number;\n}\n\nexport default function Toast({ message, type, onClose, duration = 5000 }: ToastProps) {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsVisible(false);\n      setTimeout(onClose, 300);\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  const colors = {\n    success: 'bg-success-500 text-white',\n    error: 'bg-error-500 text-white',\n    info: 'bg-info-500 text-white',\n    warning: 'bg-warning-500 text-white',\n  };\n\n  const icons: Record<ToastType, IconName> = {\n    success: 'success',\n    error: 'delete',\n    info: 'info',\n    warning: 'warning',\n  };\n\n  return (\n    <div\n      role=\"alert\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n      className={`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${\n        colors[type]\n      } transform transition-all duration-300 ${\n        isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'\n      }`}\n    >\n      <Icon name={icons[type]} size=\"md\" className=\"text-white\" />\n      <span className=\"font-medium\">{message}</span>\n      <button\n        onClick={() => {\n          setIsVisible(false);\n          setTimeout(onClose, 300);\n        }}\n        className=\"ml-4 hover:opacity-75 transition\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path\n            fillRule=\"evenodd\"\n            d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAee,SAAS,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,IAAI,EAAc;IACnF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAE3C,IAAA,iUAAS,EAAC;QACR,MAAM,QAAQ,WAAW;YACvB,aAAa;YACb,WAAW,SAAS;QACtB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,SAAS;QACb,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,MAAM,QAAqC;QACzC,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,qBACE,6VAAC;QACC,MAAK;QACL,aAAU;QACV,eAAY;QACZ,WAAW,CAAC,2FAA2F,EACrG,MAAM,CAAC,KAAK,CACb,uCAAuC,EACtC,YAAY,8BAA8B,8BAC1C;;0BAEF,6VAAC,qIAAI;gBAAC,MAAM,KAAK,CAAC,KAAK;gBAAE,MAAK;gBAAK,WAAU;;;;;;0BAC7C,6VAAC;gBAAK,WAAU;0BAAe;;;;;;0BAC/B,6VAAC;gBACC,SAAS;oBACP,aAAa;oBACb,WAAW,SAAS;gBACtB;gBACA,WAAU;0BAEV,cAAA,6VAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAe,SAAQ;8BACnD,cAAA,6VAAC;wBACC,UAAS;wBACT,GAAE;wBACF,UAAS;;;;;;;;;;;;;;;;;;;;;;AAMrB"}},
    {"offset": {"line": 1355, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useToast.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport Toast, { ToastType } from '@/components/Toast';\n\ninterface ToastItem {\n  id: string;\n  message: string;\n  type: ToastType;\n}\n\nexport function useToast() {\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\n\n  // Define removeToast first\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  const showToast = useCallback((message: string, type: ToastType = 'info', duration = 5000) => {\n    const id = Math.random().toString(36).substring(7);\n    setToasts((prev) => [...prev, { id, message, type }]);\n    \n    // Auto-remove after duration\n    if (duration > 0) {\n      setTimeout(() => {\n        removeToast(id);\n      }, duration);\n    }\n  }, [removeToast]);\n\n  const ToastContainer = useCallback(\n    () => (\n      <>\n        {toasts.map((toast) => (\n          <Toast\n            key={toast.id}\n            message={toast.message}\n            type={toast.type}\n            onClose={() => removeToast(toast.id)}\n          />\n        ))}\n      </>\n    ),\n    [toasts, removeToast]\n  );\n\n  return {\n    showToast,\n    success: (message: string) => showToast(message, 'success'),\n    error: (message: string) => showToast(message, 'error'),\n    info: (message: string) => showToast(message, 'info'),\n    warning: (message: string) => showToast(message, 'warning'),\n    ToastContainer,\n  };\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gUAAQ,EAAc,EAAE;IAEpD,2BAA2B;IAC3B,MAAM,cAAc,IAAA,mUAAW,EAAC,CAAC;QAC/B,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;IAC1D,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,mUAAW,EAAC,CAAC,SAAiB,OAAkB,MAAM,EAAE,WAAW,IAAI;QACvF,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC;QAChD,UAAU,CAAC,OAAS;mBAAI;gBAAM;oBAAE;oBAAI;oBAAS;gBAAK;aAAE;QAEpD,6BAA6B;QAC7B,IAAI,WAAW,GAAG;YAChB,WAAW;gBACT,YAAY;YACd,GAAG;QACL;IACF,GAAG;QAAC;KAAY;IAEhB,MAAM,iBAAiB,IAAA,mUAAW,EAChC,kBACE;sBACG,OAAO,GAAG,CAAC,CAAC,sBACX,6VAAC,6IAAK;oBAEJ,SAAS,MAAM,OAAO;oBACtB,MAAM,MAAM,IAAI;oBAChB,SAAS,IAAM,YAAY,MAAM,EAAE;mBAH9B,MAAM,EAAE;;;;;2BAQrB;QAAC;QAAQ;KAAY;IAGvB,OAAO;QACL;QACA,SAAS,CAAC,UAAoB,UAAU,SAAS;QACjD,OAAO,CAAC,UAAoB,UAAU,SAAS;QAC/C,MAAM,CAAC,UAAoB,UAAU,SAAS;QAC9C,SAAS,CAAC,UAAoB,UAAU,SAAS;QACjD;IACF;AACF"}},
    {"offset": {"line": 1418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useDebounce.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n/**\n * Debounce hook - delays updating value until user stops typing\n * @param value - The value to debounce\n * @param delay - Delay in milliseconds (default: 300ms)\n * @returns Debounced value\n */\nexport function useDebounce<T>(value: T, delay: number = 300): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    // Set timeout to update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cleanup timeout if value changes before delay completes\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAQO,SAAS,YAAe,KAAQ,EAAE,QAAgB,GAAG;IAC1D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gUAAQ,EAAI;IAExD,IAAA,iUAAS,EAAC;QACR,oDAAoD;QACpD,MAAM,UAAU,WAAW;YACzB,kBAAkB;QACpB,GAAG;QAEH,0DAA0D;QAC1D,OAAO;YACL,aAAa;QACf;IACF,GAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT"}},
    {"offset": {"line": 1445, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useAnalyticsData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { apiClient } from '@/lib/api';\n\ntype DateRange = 'week' | 'month' | 'year';\n\n/**\n * Device Metrics Hook - Real API Integration\n * Fetches device uptime/status metrics over time\n */\nexport function useDeviceMetrics(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Map date range to days\n        const daysMap: Record<DateRange, number> = {\n          week: 7,\n          month: 30,\n          year: 365,\n        };\n        const days = daysMap[dateRange];\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getDeviceMetrics?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          // Fall through to mock data if API not available\n          console.log('Analytics API not available, using mock data');\n        }\n\n        // Generate mock data if API unavailable\n        const mockData = Array.from({ length: days }, (_, i) => ({\n          date: new Date(Date.now() - (days - 1 - i) * 24 * 60 * 60 * 1000).toLocaleDateString(\n            'en-US',\n            { month: 'short', day: 'numeric' }\n          ),\n          mobile: 85 + Math.random() * 10,\n          tablet: 92 + Math.random() * 8,\n          desktop: 98 + Math.random() * 2,\n        }));\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device metrics');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Content Performance Hook - Real API Integration\n */\nexport function useContentPerformance(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getContentPerformance?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Content performance API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = [\n          { title: 'Welcome Video', views: 1240, engagement: 87, shares: 45 },\n          { title: 'Product Demo', views: 980, engagement: 76, shares: 32 },\n          { title: 'Tutorial Series', views: 2100, engagement: 92, shares: 58 },\n          { title: 'Company Overview', views: 650, engagement: 64, shares: 18 },\n          { title: 'Customer Testimonials', views: 1580, engagement: 89, shares: 42 },\n          { title: 'FAQ Section', views: 420, engagement: 45, shares: 12 },\n        ];\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch content performance');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Usage Trends Hook - Real API Integration\n */\nexport function useUsageTrends(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        const daysMap: Record<DateRange, number> = {\n          week: 7,\n          month: 30,\n          year: 365,\n        };\n        const days = daysMap[dateRange];\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getUsageTrends?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Usage trends API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = Array.from({ length: days }, (_, i) => ({\n          date: new Date(Date.now() - (days - 1 - i) * 24 * 60 * 60 * 1000).toLocaleDateString(\n            'en-US',\n            { month: 'short', day: 'numeric' }\n          ),\n          video: 2400 + Math.random() * 800,\n          image: 1200 + Math.random() * 400,\n          text: 600 + Math.random() * 300,\n          interactive: 800 + Math.random() * 400,\n        }));\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch usage trends');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Device Distribution Hook - Real API Integration\n */\nexport function useDeviceDistribution() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getDeviceDistribution?.();\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Device distribution API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = [\n          { name: 'Smartphones', value: 35, color: '#3B82F6' },\n          { name: 'Tablets', value: 25, color: '#8B5CF6' },\n          { name: 'Desktop Displays', value: 28, color: '#EC4899' },\n          { name: 'Smart TVs', value: 8, color: '#F59E0B' },\n          { name: 'Interactive Kiosks', value: 4, color: '#10B981' },\n        ];\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device distribution');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Bandwidth Usage Hook - Real API Integration\n */\nexport function useBandwidthUsage(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        const daysMap: Record<DateRange, number> = {\n          week: 7,\n          month: 30,\n          year: 365,\n        };\n        const days = daysMap[dateRange];\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getBandwidthUsage?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Bandwidth usage API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = Array.from({ length: days }, (_, i) => ({\n          date: new Date(Date.now() - (days - 1 - i) * 24 * 60 * 60 * 1000).toLocaleDateString(\n            'en-US',\n            { month: 'short', day: 'numeric' }\n          ),\n          current: 2400 + Math.random() * 1000,\n          average: 2200,\n          peak: 3200,\n        }));\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch bandwidth usage');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n\n/**\n * Playlist Performance Hook - Real API Integration\n */\nexport function usePlaylistPerformance(dateRange: DateRange = 'month') {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Try to fetch from API\n        try {\n          const response = await apiClient.getPlaylistPerformance?.(dateRange);\n          if (response && response.length > 0) {\n            setData(response);\n            return;\n          }\n        } catch (apiError) {\n          console.log('Playlist performance API not available, using mock data');\n        }\n\n        // Mock data fallback\n        const mockData = [\n          { name: 'Morning Promotions', plays: 234, engagement: 87, uniqueDevices: 12 },\n          { name: 'Lunch Specials', plays: 189, engagement: 92, uniqueDevices: 10 },\n          { name: 'Evening Content', plays: 156, engagement: 78, uniqueDevices: 8 },\n          { name: 'Educational Videos', plays: 298, engagement: 85, uniqueDevices: 15 },\n          { name: 'Emergency Alerts', plays: 45, engagement: 95, uniqueDevices: 5 },\n        ];\n\n        setData(mockData);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch playlist performance');\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [dateRange]);\n\n  return { data, loading, error, dateRange };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1850, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useChartData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\n/**\n * Device Metrics Hook\n * Returns device uptime/status over time\n */\nexport function useDeviceMetrics() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        // In production, fetch from real API\n        // For now, generate mock data\n        const mockData = Array.from({ length: 30 }, (_, i) => ({\n          date: new Date(Date.now() - (29 - i) * 24 * 60 * 60 * 1000)\n            .toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n          mobile: 85 + Math.random() * 10,\n          tablet: 92 + Math.random() * 8,\n          desktop: 98 + Math.random() * 2,\n        }));\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device metrics');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Content Performance Hook\n * Returns content views and engagement metrics\n */\nexport function useContentPerformance() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = [\n          { title: 'Welcome Video', views: 1240, engagement: 87, shares: 45 },\n          { title: 'Product Demo', views: 980, engagement: 76, shares: 32 },\n          { title: 'Tutorial Series', views: 2100, engagement: 92, shares: 58 },\n          { title: 'Company Overview', views: 650, engagement: 64, shares: 18 },\n          { title: 'Customer Testimonials', views: 1580, engagement: 89, shares: 42 },\n          { title: 'FAQ Section', views: 420, engagement: 45, shares: 12 },\n        ];\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch content performance');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Usage Trends Hook\n * Returns overall usage patterns by content type\n */\nexport function useUsageTrends() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = Array.from({ length: 30 }, (_, i) => ({\n          date: new Date(Date.now() - (29 - i) * 24 * 60 * 60 * 1000)\n            .toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n          video: 2400 + Math.random() * 800,\n          image: 1200 + Math.random() * 400,\n          text: 600 + Math.random() * 300,\n          interactive: 800 + Math.random() * 400,\n        }));\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch usage trends');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Device Distribution Hook\n * Returns device type breakdown\n */\nexport function useDeviceDistribution() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = [\n          { name: 'Mobile Displays', value: 35, count: 128 },\n          { name: 'Tablets', value: 25, count: 92 },\n          { name: 'Desktop Screens', value: 20, count: 73 },\n          { name: 'Smart TVs', value: 15, count: 55 },\n          { name: 'Kiosks', value: 5, count: 18 },\n        ];\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch device distribution');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Bandwidth Usage Hook\n * Returns network usage over time\n */\nexport function useBandwidthUsage() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = Array.from({ length: 24 }, (_, i) => {\n          const hour = String(i).padStart(2, '0');\n          return {\n            time: `${hour}:00`,\n            current: 45 + Math.random() * 50,\n            average: 42,\n            peak: 85,\n          };\n        });\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch bandwidth usage');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n\n/**\n * Playlist Performance Hook\n * Returns top playlists by engagement\n */\nexport function usePlaylistPerformance() {\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const mockData = [\n          { name: 'Morning Briefing', views: 3200, avgWatchTime: 12, completion: 78 },\n          { name: 'Product Launch', views: 2800, avgWatchTime: 15, completion: 85 },\n          { name: 'Weekly Updates', views: 2400, avgWatchTime: 10, completion: 72 },\n          { name: 'Training Series', views: 1900, avgWatchTime: 25, completion: 65 },\n          { name: 'Event Coverage', views: 1200, avgWatchTime: 8, completion: 55 },\n        ];\n        setData(mockData);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to fetch playlist performance');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { data, loading, error };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useRealtimeEvents.ts"],"sourcesContent":["// Real-time Event Handlers for Vizora\n// Manages Socket.io events with advanced state synchronization, optimistic updates, and error recovery\n\nimport { useEffect, useCallback, useRef, useState } from 'react';\nimport { useSocket } from './useSocket';\nimport type { Display, Content, Playlist, Schedule } from '../types';\n\n// Event types\nexport type DeviceStatusUpdate = {\n  deviceId: string;\n  status: 'online' | 'offline';\n  lastSeen: string;\n  currentPlaylistId?: string;\n};\n\nexport type PlaylistUpdate = {\n  playlistId: string;\n  action: 'created' | 'updated' | 'deleted' | 'items_reordered';\n  payload: Partial<Playlist>;\n};\n\nexport type HealthAlert = {\n  deviceId: string;\n  alertType: 'high_cpu' | 'high_memory' | 'disk_full' | 'offline' | 'error';\n  severity: 'critical' | 'warning' | 'info';\n  message: string;\n  timestamp: string;\n};\n\nexport type ScheduleExecution = {\n  scheduleId: string;\n  displayId: string;\n  playlistId: string;\n  action: 'started' | 'completed' | 'failed';\n  timestamp: string;\n  error?: string;\n};\n\n// Sync Queue for offline support\ninterface SyncQueueItem {\n  id: string;\n  event: string;\n  data: any;\n  timestamp: number;\n  retryCount: number;\n}\n\n// State synchronization with conflict resolution\ninterface SyncState {\n  lastSyncTime: number;\n  pendingChanges: Map<string, any>;\n  conflictedChanges: Map<string, any>;\n}\n\nexport interface UseRealtimeEventsOptions {\n  enabled?: boolean;\n  onDeviceStatusChange?: (update: DeviceStatusUpdate) => void;\n  onPlaylistChange?: (update: PlaylistUpdate) => void;\n  onHealthAlert?: (alert: HealthAlert) => void;\n  onScheduleExecution?: (execution: ScheduleExecution) => void;\n  onConnectionChange?: (isConnected: boolean) => void;\n  onSyncStateChange?: (state: SyncState) => void;\n  offlineQueueSize?: number;\n  retryAttempts?: number;\n}\n\nexport function useRealtimeEvents(options: UseRealtimeEventsOptions = {}) {\n  const {\n    enabled = true,\n    onDeviceStatusChange,\n    onPlaylistChange,\n    onHealthAlert,\n    onScheduleExecution,\n    onConnectionChange,\n    onSyncStateChange,\n    offlineQueueSize = 50,\n    retryAttempts = 3,\n  } = options;\n\n  const { socket, isConnected, on } = useSocket();\n  const [isOffline, setIsOffline] = useState(false);\n  const [syncState, setSyncState] = useState<SyncState>({\n    lastSyncTime: Date.now(),\n    pendingChanges: new Map(),\n    conflictedChanges: new Map(),\n  });\n\n  // Offline sync queue\n  const syncQueueRef = useRef<SyncQueueItem[]>([]);\n  const offlineQueueRef = useRef<SyncQueueItem[]>([]);\n\n  // Emit event with optimistic update support\n  const emitEvent = useCallback(\n    (event: string, data: any, options?: { optimistic?: boolean; onRollback?: () => void }) => {\n      if (!socket) return;\n\n      const eventId = `${event}_${Date.now()}_${Math.random()}`;\n\n      // Add to pending changes if optimistic\n      if (options?.optimistic) {\n        setSyncState((prev) => ({\n          ...prev,\n          pendingChanges: new Map(prev.pendingChanges).set(eventId, { event, data }),\n        }));\n      }\n\n      // Emit through socket or add to offline queue\n      if (isConnected && socket) {\n        socket.emit(event, { ...data, eventId });\n      } else {\n        // Add to offline queue\n        const queueItem: SyncQueueItem = {\n          id: eventId,\n          event,\n          data: { ...data, eventId },\n          timestamp: Date.now(),\n          retryCount: 0,\n        };\n\n        offlineQueueRef.current.push(queueItem);\n\n        // Respect queue size limit\n        if (offlineQueueRef.current.length > offlineQueueSize) {\n          offlineQueueRef.current.shift();\n        }\n\n        console.log('[RealtimeEvents] Event queued offline:', event, queueItem);\n      }\n    },\n    [socket, isConnected, offlineQueueSize]\n  );\n\n  // Conflict resolution for state synchronization\n  const resolveConflict = useCallback(\n    (localChange: any, remoteChange: any): any => {\n      // Strategy: Remote wins (server is source of truth)\n      // But merge if they affect different fields\n      if (\n        typeof localChange === 'object' &&\n        typeof remoteChange === 'object' &&\n        !Array.isArray(localChange)\n      ) {\n        return {\n          ...localChange,\n          ...remoteChange,\n          // Keep local timestamp for optimistic updates\n          _localTimestamp: localChange._localTimestamp,\n          _remoteTimestamp: remoteChange._remoteTimestamp,\n        };\n      }\n      return remoteChange;\n    },\n    []\n  );\n\n  // Sync offline queue when reconnected\n  const syncOfflineQueue = useCallback(async () => {\n    if (!isConnected || !socket) return;\n\n    const itemsToSync = [...offlineQueueRef.current];\n    console.log('[RealtimeEvents] Syncing offline queue, items:', itemsToSync.length);\n\n    for (const item of itemsToSync) {\n      if (item.retryCount >= retryAttempts) {\n        console.warn('[RealtimeEvents] Max retries exceeded for:', item.event, item.id);\n        // Move to conflicted changes for manual resolution\n        setSyncState((prev) => ({\n          ...prev,\n          conflictedChanges: new Map(prev.conflictedChanges).set(item.id, item),\n        }));\n        continue;\n      }\n\n      try {\n        socket.emit(item.event, item.data);\n        item.retryCount++;\n\n        // Remove from queue after successful emit\n        offlineQueueRef.current = offlineQueueRef.current.filter((qi) => qi.id !== item.id);\n        console.log('[RealtimeEvents] Successfully synced:', item.event);\n      } catch (error) {\n        console.error('[RealtimeEvents] Failed to sync event:', error);\n        item.retryCount++;\n      }\n    }\n\n    // Update sync state\n    setSyncState((prev) => ({\n      ...prev,\n      lastSyncTime: Date.now(),\n    }));\n  }, [isConnected, socket, retryAttempts]);\n\n  // Device status update handler\n  const handleDeviceStatusUpdate = useCallback(\n    (update: DeviceStatusUpdate) => {\n      console.log('[RealtimeEvents] Device status update:', update);\n      onDeviceStatusChange?.(update);\n\n      // Remove from pending changes if this was an optimistic update\n      setSyncState((prev) => ({\n        ...prev,\n        pendingChanges: new Map(\n          [...prev.pendingChanges].filter(([_, val]) => val.deviceId !== update.deviceId)\n        ),\n      }));\n    },\n    [onDeviceStatusChange]\n  );\n\n  // Playlist update handler with conflict resolution\n  const handlePlaylistUpdate = useCallback(\n    (update: PlaylistUpdate) => {\n      console.log('[RealtimeEvents] Playlist update:', update);\n      onPlaylistChange?.(update);\n\n      // Check for conflicts with pending changes\n      setSyncState((prev) => {\n        const conflicted = [...prev.pendingChanges.entries()].filter(\n          ([_, val]) => val.playlistId === update.playlistId\n        );\n\n        if (conflicted.length > 0) {\n          const resolved = resolveConflict(conflicted[0][1], update.payload);\n          return {\n            ...prev,\n            pendingChanges: new Map(\n              [...prev.pendingChanges].filter(([id]) => !conflicted.some(([cId]) => cId === id))\n            ),\n          };\n        }\n\n        return prev;\n      });\n    },\n    [onPlaylistChange, resolveConflict]\n  );\n\n  // Health alert handler\n  const handleHealthAlert = useCallback(\n    (alert: HealthAlert) => {\n      console.log('[RealtimeEvents] Health alert:', alert);\n      onHealthAlert?.(alert);\n    },\n    [onHealthAlert]\n  );\n\n  // Schedule execution handler\n  const handleScheduleExecution = useCallback(\n    (execution: ScheduleExecution) => {\n      console.log('[RealtimeEvents] Schedule execution:', execution);\n      onScheduleExecution?.(execution);\n    },\n    [onScheduleExecution]\n  );\n\n  // Setup Socket.io event listeners\n  useEffect(() => {\n    if (!enabled || !socket) return;\n\n    // Device status updates\n    const unsubDeviceStatus = on('device:status-update', handleDeviceStatusUpdate);\n\n    // Playlist changes\n    const unsubPlaylist = on('playlist:updated', handlePlaylistUpdate);\n\n    // Health alerts\n    const unsubHealth = on('health:alert', handleHealthAlert);\n\n    // Schedule execution\n    const unsubSchedule = on('schedule:executed', handleScheduleExecution);\n\n    // Connection state change\n    const unsubConnect = on('connect', () => {\n      setIsOffline(false);\n      onConnectionChange?.(true);\n      console.log('[RealtimeEvents] Connected, syncing offline queue...');\n      syncOfflineQueue();\n    });\n\n    const unsubDisconnect = on('disconnect', () => {\n      setIsOffline(true);\n      onConnectionChange?.(false);\n      console.log('[RealtimeEvents] Disconnected, offline mode enabled');\n    });\n\n    // Sync state update callback\n    if (onSyncStateChange) {\n      onSyncStateChange(syncState);\n    }\n\n    return () => {\n      unsubDeviceStatus?.();\n      unsubPlaylist?.();\n      unsubHealth?.();\n      unsubSchedule?.();\n      unsubConnect?.();\n      unsubDisconnect?.();\n    };\n  }, [\n    enabled,\n    socket,\n    on,\n    handleDeviceStatusUpdate,\n    handlePlaylistUpdate,\n    handleHealthAlert,\n    handleScheduleExecution,\n    onConnectionChange,\n    onSyncStateChange,\n    syncState,\n    syncOfflineQueue,\n  ]);\n\n  // Monitor offline/online status\n  useEffect(() => {\n    const handleOnline = () => {\n      console.log('[RealtimeEvents] Browser online, attempting to sync...');\n      setIsOffline(false);\n      if (isConnected) {\n        syncOfflineQueue();\n      }\n    };\n\n    const handleOffline = () => {\n      console.log('[RealtimeEvents] Browser offline, queuing events...');\n      setIsOffline(true);\n    };\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, [isConnected, syncOfflineQueue]);\n\n  // Public API\n  return {\n    // State\n    isConnected,\n    isOffline,\n    syncState,\n    offlineQueueLength: offlineQueueRef.current.length,\n\n    // Methods\n    emitDeviceUpdate: (data: DeviceStatusUpdate) => {\n      emitEvent('device:update', data, { optimistic: true });\n    },\n    emitPlaylistUpdate: (data: PlaylistUpdate) => {\n      emitEvent('playlist:update', data, { optimistic: true });\n    },\n    emitScheduleUpdate: (data: ScheduleExecution) => {\n      emitEvent('schedule:update', data, { optimistic: true });\n    },\n    emitCustomEvent: (event: string, data: any, options?: { optimistic?: boolean }) => {\n      emitEvent(event, data, options);\n    },\n\n    // Sync management\n    syncOfflineQueue,\n    clearOfflineQueue: () => {\n      console.log('[RealtimeEvents] Clearing offline queue');\n      offlineQueueRef.current = [];\n    },\n    getOfflineQueue: () => [...offlineQueueRef.current],\n    getConflictedChanges: () => new Map(syncState.conflictedChanges),\n    resolveConflict,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2433, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useOptimisticState.ts"],"sourcesContent":["// Optimistic State Management with Rollback Support\n// Handles optimistic UI updates with automatic rollback on failure\n\nimport { useState, useCallback, useRef } from 'react';\n\nexport interface OptimisticUpdate<T> {\n  id: string;\n  previousState: T;\n  optimisticState: T;\n  timestamp: number;\n  metadata?: Record<string, any>;\n}\n\nexport interface UseOptimisticStateOptions {\n  onRollback?: (update: OptimisticUpdate<any>) => void;\n  onCommit?: (update: OptimisticUpdate<any>) => void;\n  enableLogging?: boolean;\n}\n\nexport function useOptimisticState<T>(\n  initialState: T,\n  options: UseOptimisticStateOptions = {}\n) {\n  const { onRollback, onCommit, enableLogging = true } = options;\n\n  const [state, setState] = useState<T>(initialState);\n  const [pendingUpdates, setPendingUpdates] = useState<Map<string, OptimisticUpdate<T>>>(\n    new Map()\n  );\n  const updateQueueRef = useRef<OptimisticUpdate<T>[]>([]);\n\n  // Apply optimistic update\n  const updateOptimistic = useCallback(\n    (id: string, updater: (prev: T) => T, metadata?: Record<string, any>) => {\n      setState((prevState) => {\n        const optimisticState = updater(prevState);\n\n        // Track the update\n        const update: OptimisticUpdate<T> = {\n          id,\n          previousState: prevState,\n          optimisticState,\n          timestamp: Date.now(),\n          metadata,\n        };\n\n        setPendingUpdates((prev) => new Map(prev).set(id, update));\n        updateQueueRef.current.push(update);\n\n        if (enableLogging) {\n          console.log('[OptimisticState] Applied optimistic update:', id, {\n            previous: prevState,\n            optimistic: optimisticState,\n          });\n        }\n\n        return optimisticState;\n      });\n    },\n    [enableLogging]\n  );\n\n  // Commit optimistic update (confirm with server)\n  const commitOptimistic = useCallback((id: string) => {\n    setPendingUpdates((prev) => {\n      const updated = new Map(prev);\n      const update = updated.get(id);\n\n      if (update) {\n        if (enableLogging) {\n          console.log('[OptimisticState] Committed update:', id);\n        }\n        onCommit?.(update);\n        updated.delete(id);\n      }\n\n      return updated;\n    });\n  }, [enableLogging, onCommit]);\n\n  // Rollback optimistic update on failure\n  const rollbackOptimistic = useCallback(\n    (id: string, fallbackState?: T) => {\n      setPendingUpdates((prev) => {\n        const updated = new Map(prev);\n        const update = updated.get(id);\n\n        if (update) {\n          setState(fallbackState ?? update.previousState);\n\n          if (enableLogging) {\n            console.log('[OptimisticState] Rolled back update:', id, {\n              previousState: update.previousState,\n            });\n          }\n\n          onRollback?.(update);\n          updated.delete(id);\n        }\n\n        return updated;\n      });\n    },\n    [enableLogging, onRollback]\n  );\n\n  // Rollback all pending updates\n  const rollbackAll = useCallback(() => {\n    setPendingUpdates((prev) => {\n      if (prev.size === 0) return prev;\n\n      // Get the first update to find the original state\n      const updates = Array.from(prev.values());\n      const originalState = updates[0]?.previousState;\n\n      if (originalState) {\n        setState(originalState);\n\n        if (enableLogging) {\n          console.log('[OptimisticState] Rolled back all updates:', prev.size);\n        }\n\n        updates.forEach((update) => onRollback?.(update));\n      }\n\n      return new Map();\n    });\n  }, [enableLogging, onRollback]);\n\n  // Batch optimistic updates\n  const batchUpdate = useCallback(\n    (updates: Array<{ id: string; updater: (prev: T) => T; metadata?: Record<string, any> }>) => {\n      setState((prevState) => {\n        let currentState = prevState;\n\n        updates.forEach(({ id, updater, metadata }) => {\n          currentState = updater(currentState);\n\n          const update: OptimisticUpdate<T> = {\n            id,\n            previousState: prevState,\n            optimisticState: currentState,\n            timestamp: Date.now(),\n            metadata,\n          };\n\n          setPendingUpdates((prev) => new Map(prev).set(id, update));\n          updateQueueRef.current.push(update);\n\n          if (enableLogging) {\n            console.log('[OptimisticState] Batched update:', id);\n          }\n        });\n\n        return currentState;\n      });\n    },\n    [enableLogging]\n  );\n\n  return {\n    state,\n    pendingUpdates,\n    updateOptimistic,\n    commitOptimistic,\n    rollbackOptimistic,\n    rollbackAll,\n    batchUpdate,\n    getPendingCount: () => pendingUpdates.size,\n    hasPendingUpdates: () => pendingUpdates.size > 0,\n    getUpdateQueue: () => [...updateQueueRef.current],\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2573, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useErrorRecovery.ts"],"sourcesContent":["// Advanced Error Recovery and Retry Logic\n// Handles exponential backoff, circuit breaker pattern, and intelligent retries\n\nimport { useCallback, useRef, useState } from 'react';\n\nexport type ErrorSeverity = 'critical' | 'warning' | 'info';\n\nexport interface RetryConfig {\n  maxAttempts: number;\n  initialDelay: number; // milliseconds\n  maxDelay: number; // milliseconds\n  backoffMultiplier: number; // exponential backoff factor\n  jitter: boolean; // add randomness to prevent thundering herd\n}\n\nexport interface CircuitBreakerConfig {\n  failureThreshold: number; // number of failures before opening circuit\n  successThreshold: number; // number of successes to close circuit\n  timeout: number; // milliseconds before attempting to half-open\n}\n\nexport interface ErrorInfo {\n  id: string;\n  error: Error | string;\n  severity: ErrorSeverity;\n  timestamp: number;\n  retryCount: number;\n  lastRetryTime?: number;\n  nextRetryTime?: number;\n  context?: Record<string, any>;\n}\n\nexport interface UseErrorRecoveryOptions {\n  onError?: (errorInfo: ErrorInfo) => void;\n  onRetry?: (errorInfo: ErrorInfo) => void;\n  onCircuitBreakerChange?: (isOpen: boolean) => void;\n  retryConfig?: Partial<RetryConfig>;\n  circuitBreakerConfig?: Partial<CircuitBreakerConfig>;\n  enableLogging?: boolean;\n}\n\n// Circuit Breaker States\ntype CircuitState = 'CLOSED' | 'OPEN' | 'HALF_OPEN';\n\ninterface CircuitBreaker {\n  state: CircuitState;\n  failureCount: number;\n  successCount: number;\n  lastFailureTime?: number;\n  lastStateChangeTime: number;\n}\n\nexport function useErrorRecovery(options: UseErrorRecoveryOptions = {}) {\n  const {\n    onError,\n    onRetry,\n    onCircuitBreakerChange,\n    retryConfig: customRetryConfig,\n    circuitBreakerConfig: customCircuitBreakerConfig,\n    enableLogging = true,\n  } = options;\n\n  // Default configs\n  const retryConfig: RetryConfig = {\n    maxAttempts: 3,\n    initialDelay: 1000,\n    maxDelay: 30000,\n    backoffMultiplier: 2,\n    jitter: true,\n    ...customRetryConfig,\n  };\n\n  const circuitBreakerConfig: CircuitBreakerConfig = {\n    failureThreshold: 5,\n    successThreshold: 2,\n    timeout: 60000,\n    ...customCircuitBreakerConfig,\n  };\n\n  // State\n  const [errors, setErrors] = useState<Map<string, ErrorInfo>>(new Map());\n  const [circuitBreaker, setCircuitBreaker] = useState<CircuitBreaker>({\n    state: 'CLOSED',\n    failureCount: 0,\n    successCount: 0,\n    lastStateChangeTime: Date.now(),\n  });\n\n  const retriesRef = useRef<Map<string, { count: number; timeout?: NodeJS.Timeout }>>(\n    new Map()\n  );\n\n  // Calculate retry delay with exponential backoff\n  const calculateDelay = useCallback(\n    (retryCount: number): number => {\n      const exponentialDelay = retryConfig.initialDelay * Math.pow(retryConfig.backoffMultiplier, retryCount);\n      const capped = Math.min(exponentialDelay, retryConfig.maxDelay);\n      const withJitter = retryConfig.jitter ? capped * (0.5 + Math.random()) : capped;\n\n      return Math.floor(withJitter);\n    },\n    [retryConfig]\n  );\n\n  // Update circuit breaker state\n  const updateCircuitBreakerState = useCallback(\n    (isSuccess: boolean) => {\n      setCircuitBreaker((prev) => {\n        let newState = prev.state;\n        let newFailureCount = prev.failureCount;\n        let newSuccessCount = prev.successCount;\n\n        if (isSuccess) {\n          newFailureCount = 0;\n          newSuccessCount = prev.successCount + 1;\n\n          if (prev.state === 'HALF_OPEN' && newSuccessCount >= circuitBreakerConfig.successThreshold) {\n            newState = 'CLOSED';\n            newSuccessCount = 0;\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Circuit breaker CLOSED after successful recovery');\n            }\n            onCircuitBreakerChange?.(false);\n          }\n        } else {\n          newSuccessCount = 0;\n          newFailureCount = prev.failureCount + 1;\n\n          if (newFailureCount >= circuitBreakerConfig.failureThreshold && prev.state === 'CLOSED') {\n            newState = 'OPEN';\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Circuit breaker OPENED due to repeated failures');\n            }\n            onCircuitBreakerChange?.(true);\n          }\n        }\n\n        return {\n          ...prev,\n          state: newState,\n          failureCount: newFailureCount,\n          successCount: newSuccessCount,\n          lastFailureTime: isSuccess ? prev.lastFailureTime : Date.now(),\n          lastStateChangeTime: newState !== prev.state ? Date.now() : prev.lastStateChangeTime,\n        };\n      });\n    },\n    [circuitBreakerConfig, enableLogging, onCircuitBreakerChange]\n  );\n\n  // Check if circuit breaker should transition from OPEN to HALF_OPEN\n  const checkCircuitBreakerTimeout = useCallback(() => {\n    setCircuitBreaker((prev) => {\n      if (prev.state === 'OPEN') {\n        const timeSinceStateChange = Date.now() - prev.lastStateChangeTime;\n        if (timeSinceStateChange >= circuitBreakerConfig.timeout) {\n          if (enableLogging) {\n            console.log('[ErrorRecovery] Circuit breaker transitioning to HALF_OPEN');\n          }\n          return {\n            ...prev,\n            state: 'HALF_OPEN',\n            successCount: 0,\n            failureCount: 0,\n            lastStateChangeTime: Date.now(),\n          };\n        }\n      }\n      return prev;\n    });\n  }, [circuitBreakerConfig.timeout, enableLogging]);\n\n  // Record error\n  const recordError = useCallback(\n    (id: string, error: Error | string, severity: ErrorSeverity = 'warning', context?: Record<string, any>) => {\n      const errorInfo: ErrorInfo = {\n        id,\n        error,\n        severity,\n        timestamp: Date.now(),\n        retryCount: 0,\n        context,\n      };\n\n      setErrors((prev) => new Map(prev).set(id, errorInfo));\n      updateCircuitBreakerState(false);\n      onError?.(errorInfo);\n\n      if (enableLogging) {\n        console.error('[ErrorRecovery] Error recorded:', {\n          id,\n          error: error instanceof Error ? error.message : error,\n          severity,\n        });\n      }\n    },\n    [updateCircuitBreakerState, onError, enableLogging]\n  );\n\n  // Retry with exponential backoff\n  const retry = useCallback(\n    (\n      id: string,\n      operation: () => Promise<any>,\n      onSuccess?: (result: any) => void,\n      onFailure?: (error: Error) => void\n    ) => {\n      checkCircuitBreakerTimeout();\n\n      // Reject if circuit breaker is open\n      if (circuitBreaker.state === 'OPEN') {\n        const error = new Error('Circuit breaker is OPEN - too many failures');\n        recordError(id, error, 'critical');\n        onFailure?.(error as Error);\n        return Promise.reject(error);\n      }\n\n      const executeRetry = (retryCount = 0) => {\n        if (retryCount >= retryConfig.maxAttempts) {\n          const error = new Error(`Max retry attempts (${retryConfig.maxAttempts}) exceeded for ${id}`);\n          recordError(id, error, 'critical', { retryCount });\n          onFailure?.(error as Error);\n          return Promise.reject(error);\n        }\n\n        return operation()\n          .then((result) => {\n            // Clear retry state\n            retriesRef.current.delete(id);\n            setErrors((prev) => {\n              const updated = new Map(prev);\n              updated.delete(id);\n              return updated;\n            });\n\n            // Update circuit breaker on success\n            updateCircuitBreakerState(true);\n            onSuccess?.(result);\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Operation succeeded:', { id, retryCount });\n            }\n\n            return result;\n          })\n          .catch((error) => {\n            const delay = calculateDelay(retryCount);\n            const nextRetryTime = Date.now() + delay;\n\n            setErrors((prev) => {\n              const updated = new Map(prev);\n              const errorInfo = updated.get(id) ?? {\n                id,\n                error,\n                severity: 'warning' as const,\n                timestamp: Date.now(),\n                retryCount: 0,\n              };\n              errorInfo.retryCount = retryCount + 1;\n              errorInfo.lastRetryTime = Date.now();\n              errorInfo.nextRetryTime = nextRetryTime;\n              updated.set(id, errorInfo as ErrorInfo);\n              return updated;\n            });\n\n            onRetry?.({\n              id,\n              error,\n              severity: 'warning',\n              timestamp: Date.now(),\n              retryCount: retryCount + 1,\n              lastRetryTime: Date.now(),\n              nextRetryTime,\n            });\n\n            if (enableLogging) {\n              console.log('[ErrorRecovery] Retrying after', delay, 'ms:', {\n                id,\n                attempt: retryCount + 1,\n                maxAttempts: retryConfig.maxAttempts,\n              });\n            }\n\n            return new Promise((resolve, reject) => {\n              const timeout = setTimeout(\n                () => executeRetry(retryCount + 1).then(resolve).catch(reject),\n                delay\n              );\n\n              // Store timeout for cleanup\n              const retryState = retriesRef.current.get(id) ?? { count: 0 };\n              retryState.timeout = timeout;\n              retriesRef.current.set(id, retryState);\n            });\n          });\n      };\n\n      return executeRetry();\n    },\n    [\n      retryConfig,\n      circuitBreaker,\n      calculateDelay,\n      recordError,\n      updateCircuitBreakerState,\n      checkCircuitBreakerTimeout,\n      enableLogging,\n    ]\n  );\n\n  // Clear error\n  const clearError = useCallback((id: string) => {\n    setErrors((prev) => {\n      const updated = new Map(prev);\n      updated.delete(id);\n      return updated;\n    });\n\n    const retryState = retriesRef.current.get(id);\n    if (retryState?.timeout) {\n      clearTimeout(retryState.timeout);\n    }\n    retriesRef.current.delete(id);\n  }, []);\n\n  // Clear all errors\n  const clearAllErrors = useCallback(() => {\n    retriesRef.current.forEach(({ timeout }) => {\n      if (timeout) clearTimeout(timeout);\n    });\n    retriesRef.current.clear();\n    setErrors(new Map());\n  }, []);\n\n  // Reset circuit breaker\n  const resetCircuitBreaker = useCallback(() => {\n    setCircuitBreaker({\n      state: 'CLOSED',\n      failureCount: 0,\n      successCount: 0,\n      lastStateChangeTime: Date.now(),\n    });\n\n    if (enableLogging) {\n      console.log('[ErrorRecovery] Circuit breaker reset to CLOSED');\n    }\n\n    onCircuitBreakerChange?.(false);\n  }, [enableLogging, onCircuitBreakerChange]);\n\n  return {\n    // State\n    errors,\n    circuitBreaker,\n    isCircuitBreakerOpen: circuitBreaker.state === 'OPEN',\n\n    // Methods\n    recordError,\n    retry,\n    clearError,\n    clearAllErrors,\n    resetCircuitBreaker,\n\n    // Helpers\n    getError: (id: string) => errors.get(id),\n    getAllErrors: () => new Map(errors),\n    getErrorCount: () => errors.size,\n    hasCriticalErrors: () => Array.from(errors.values()).some((e) => e.severity === 'critical'),\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2858, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/index.ts"],"sourcesContent":["// Export all custom hooks for easy importing\n\n// Core hooks\nexport { useAuth } from './useAuth';\nexport { useSocket } from './useSocket';\nexport { useToast } from './useToast';\nexport { useTheme } from './useTheme';\nexport { useDebounce } from './useDebounce';\n\n// Analytics and data hooks\nexport { useAnalyticsData } from './useAnalyticsData';\nexport { useChartData } from './useChartData';\n\n// Real-time and state management hooks (Phase 8 - Socket.io integration)\nexport { useRealtimeEvents } from './useRealtimeEvents';\nexport type {\n  DeviceStatusUpdate,\n  PlaylistUpdate,\n  HealthAlert,\n  ScheduleExecution,\n  UseRealtimeEventsOptions,\n} from './useRealtimeEvents';\n\nexport { useOptimisticState } from './useOptimisticState';\nexport type { OptimisticUpdate, UseOptimisticStateOptions } from './useOptimisticState';\n\nexport { useErrorRecovery } from './useErrorRecovery';\nexport type {\n  ErrorSeverity,\n  RetryConfig,\n  CircuitBreakerConfig,\n  ErrorInfo,\n  UseErrorRecoveryOptions,\n} from './useErrorRecovery';\n"],"names":[],"mappings":"AAAA,6CAA6C;AAE7C,aAAa;;AACb;AACA;AACA;AACA;AACA;AAEA,2BAA2B;AAC3B;AACA;AAEA,yEAAyE;AACzE;AASA;AAGA"}},
    {"offset": {"line": 2887, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/app/dashboard/analytics/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { LineChart, BarChart, PieChart, AreaChart, ComposedChart } from '@/components/charts';\nimport { Card } from '@/components/ui/Card';\nimport { Badge } from '@/components/ui/Badge';\nimport { Icon } from '@/theme/icons';\nimport { useRealtimeEvents } from '@/lib/hooks';\nimport { useToast } from '@/lib/hooks/useToast';\nimport {\n  useDeviceMetrics,\n  useContentPerformance,\n  useUsageTrends,\n  useDeviceDistribution,\n  useBandwidthUsage,\n  usePlaylistPerformance,\n} from '@/lib/hooks/useAnalyticsData';\n\ninterface KPICardProps {\n  label: string;\n  value: string;\n  change?: string;\n  changeType?: 'positive' | 'negative' | 'neutral';\n  icon?: string;\n}\n\nconst KPICard: React.FC<KPICardProps> = ({\n  label,\n  value,\n  change,\n  changeType = 'neutral',\n  icon,\n}) => (\n  <Card className=\"hover:shadow-lg transition-shadow\">\n    <Card.Body>\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium text-neutral-600 dark:text-neutral-400\">\n            {label}\n          </p>\n          <p className=\"text-3xl font-bold text-neutral-900 dark:text-neutral-50 mt-2\">\n            {value}\n          </p>\n          {change && (\n            <p\n              className={`text-sm mt-2 ${\n                changeType === 'positive'\n                  ? 'text-success-600 dark:text-success-400'\n                  : changeType === 'negative'\n                  ? 'text-error-600 dark:text-error-400'\n                  : 'text-neutral-600 dark:text-neutral-400'\n              }`}\n            >\n              {changeType === 'positive' && ' '}\n              {changeType === 'negative' && ' '}\n              {change}\n            </p>\n          )}\n        </div>\n        {icon && (\n          <Icon\n            name={icon as any}\n            size=\"lg\"\n            className=\"text-neutral-400 dark:text-neutral-600\"\n          />\n        )}\n      </div>\n    </Card.Body>\n  </Card>\n);\n\nexport default function AnalyticsPage() {\n  const toast = useToast();\n  const [dateRange, setDateRange] = useState<'week' | 'month' | 'year'>('month');\n  const [realtimeStatus, setRealtimeStatus] = useState<'connected' | 'offline'>('offline');\n  const [lastUpdate, setLastUpdate] = useState<Date | null>(null);\n\n  const deviceMetrics = useDeviceMetrics(dateRange);\n  const contentPerformance = useContentPerformance(dateRange);\n  const usageTrends = useUsageTrends(dateRange);\n  const deviceDistribution = useDeviceDistribution();\n  const bandwidthUsage = useBandwidthUsage(dateRange);\n  const playlistPerformance = usePlaylistPerformance(dateRange);\n\n  // Real-time analytics updates\n  const { isConnected } = useRealtimeEvents({\n    enabled: true,\n    onDeviceStatusChange: () => {\n      // Device status changes may affect uptime metrics\n      setLastUpdate(new Date());\n    },\n    onConnectionChange: (connected) => {\n      setRealtimeStatus(connected ? 'connected' : 'offline');\n      if (connected) {\n        toast.info('Real-time analytics enabled');\n      }\n    },\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-neutral-900 dark:text-neutral-50\">\n            Analytics\n          </h2>\n          <p className=\"mt-2 text-neutral-600 dark:text-neutral-400\">\n            Real-time performance metrics and insights\n            {realtimeStatus === 'connected' && (\n              <span className=\"ml-2 inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400\">\n                <span className=\"w-2 h-2 bg-green-600 dark:bg-green-400 rounded-full animate-pulse\"></span>\n                Real-time active\n              </span>\n            )}\n            {lastUpdate && (\n              <span className=\"ml-2 text-xs text-gray-500\">\n                Updated {Math.round((Date.now() - lastUpdate.getTime()) / 1000)}s ago\n              </span>\n            )}\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          {(['week', 'month', 'year'] as const).map((range) => (\n            <button\n              key={range}\n              onClick={() => setDateRange(range)}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${\n                dateRange === range\n                  ? 'bg-primary-600 dark:bg-primary-400 text-white'\n                  : 'bg-neutral-200 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-50 hover:bg-neutral-300 dark:hover:bg-neutral-600'\n              }`}\n            >\n              {range}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* KPI Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <KPICard\n          label=\"Total Devices\"\n          value=\"366\"\n          change=\"12% from last month\"\n          changeType=\"positive\"\n          icon=\"devices\"\n        />\n        <KPICard\n          label=\"Content Served\"\n          value=\"12.5K\"\n          change=\"23% from last month\"\n          changeType=\"positive\"\n          icon=\"content\"\n        />\n        <KPICard\n          label=\"Avg. Bandwidth\"\n          value=\"2.4 GB/h\"\n          change=\"5% from last month\"\n          changeType=\"negative\"\n          icon=\"analytics\"\n        />\n        <KPICard\n          label=\"System Uptime\"\n          value=\"98.5%\"\n          change=\"Above target\"\n          changeType=\"positive\"\n          icon=\"overview\"\n        />\n      </div>\n\n      {/* Charts Grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Device Uptime Timeline */}\n        <Card className=\"lg:col-span-2\">\n          <Card.Header>\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n                Device Uptime Timeline\n              </h3>\n              <Badge variant=\"info\" size=\"sm\">\n                Last 30 Days\n              </Badge>\n            </div>\n          </Card.Header>\n          <Card.Body>\n            {deviceMetrics.loading ? (\n              <div className=\"h-80 flex items-center justify-center\">\n                <div className=\"animate-spin\">\n                  <div className=\"w-8 h-8 border-4 border-neutral-200 dark:border-neutral-700 border-t-primary-600 dark:border-t-primary-400 rounded-full\" />\n                </div>\n              </div>\n            ) : (\n              <LineChart\n                data={deviceMetrics.data}\n                dataKeys={[\n                  { key: 'mobile', name: 'Mobile Displays' },\n                  { key: 'tablet', name: 'Tablets' },\n                  { key: 'desktop', name: 'Desktop Screens' },\n                ]}\n                xAxisKey=\"date\"\n                yAxisLabel=\"Uptime %\"\n                height={300}\n              />\n            )}\n          </Card.Body>\n        </Card>\n\n        {/* Content Performance */}\n        <Card>\n          <Card.Header>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n              Content Performance\n            </h3>\n          </Card.Header>\n          <Card.Body>\n            {contentPerformance.loading ? (\n              <div className=\"h-80 flex items-center justify-center\">\n                <div className=\"animate-spin\">\n                  <div className=\"w-8 h-8 border-4 border-neutral-200 dark:border-neutral-700 border-t-primary-600 dark:border-t-primary-400 rounded-full\" />\n                </div>\n              </div>\n            ) : (\n              <BarChart\n                data={contentPerformance.data}\n                dataKeys={[{ key: 'views', name: 'Views' }]}\n                xAxisKey=\"title\"\n                height={300}\n                layout=\"vertical\"\n              />\n            )}\n          </Card.Body>\n        </Card>\n\n        {/* Device Distribution */}\n        <Card>\n          <Card.Header>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n              Device Distribution\n            </h3>\n          </Card.Header>\n          <Card.Body>\n            {deviceDistribution.loading ? (\n              <div className=\"h-80 flex items-center justify-center\">\n                <div className=\"animate-spin\">\n                  <div className=\"w-8 h-8 border-4 border-neutral-200 dark:border-neutral-700 border-t-primary-600 dark:border-t-primary-400 rounded-full\" />\n                </div>\n              </div>\n            ) : (\n              <PieChart\n                data={deviceDistribution.data}\n                dataKey=\"value\"\n                nameKey=\"name\"\n                height={300}\n                showLabel={true}\n              />\n            )}\n          </Card.Body>\n        </Card>\n\n        {/* Usage Trends */}\n        <Card className=\"lg:col-span-2\">\n          <Card.Header>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n              Usage Trends by Content Type\n            </h3>\n          </Card.Header>\n          <Card.Body>\n            {usageTrends.loading ? (\n              <div className=\"h-80 flex items-center justify-center\">\n                <div className=\"animate-spin\">\n                  <div className=\"w-8 h-8 border-4 border-neutral-200 dark:border-neutral-700 border-t-primary-600 dark:border-t-primary-400 rounded-full\" />\n                </div>\n              </div>\n            ) : (\n              <AreaChart\n                data={usageTrends.data}\n                dataKeys={[\n                  { key: 'video', name: 'Video' },\n                  { key: 'image', name: 'Images' },\n                  { key: 'text', name: 'Text' },\n                  { key: 'interactive', name: 'Interactive' },\n                ]}\n                xAxisKey=\"date\"\n                yAxisLabel=\"Views\"\n                height={300}\n                stacked={true}\n              />\n            )}\n          </Card.Body>\n        </Card>\n\n        {/* Bandwidth Usage */}\n        <Card className=\"lg:col-span-2\">\n          <Card.Header>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n              Bandwidth Usage (24h)\n            </h3>\n          </Card.Header>\n          <Card.Body>\n            {bandwidthUsage.loading ? (\n              <div className=\"h-80 flex items-center justify-center\">\n                <div className=\"animate-spin\">\n                  <div className=\"w-8 h-8 border-4 border-neutral-200 dark:border-neutral-700 border-t-primary-600 dark:border-t-primary-400 rounded-full\" />\n                </div>\n              </div>\n            ) : (\n              <ComposedChart\n                data={bandwidthUsage.data}\n                series={[\n                  { type: 'line', key: 'current', name: 'Current Usage' },\n                  { type: 'line', key: 'average', name: 'Average' },\n                  { type: 'bar', key: 'peak', name: 'Peak' },\n                ]}\n                xAxisKey=\"time\"\n                yAxisLabel=\"MB/s\"\n                height={300}\n              />\n            )}\n          </Card.Body>\n        </Card>\n\n        {/* Playlist Performance */}\n        <Card className=\"lg:col-span-2\">\n          <Card.Header>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n              Top Playlists by Engagement\n            </h3>\n          </Card.Header>\n          <Card.Body>\n            {playlistPerformance.loading ? (\n              <div className=\"h-80 flex items-center justify-center\">\n                <div className=\"animate-spin\">\n                  <div className=\"w-8 h-8 border-4 border-neutral-200 dark:border-neutral-700 border-t-primary-600 dark:border-t-primary-400 rounded-full\" />\n                </div>\n              </div>\n            ) : (\n              <BarChart\n                data={playlistPerformance.data}\n                dataKeys={[\n                  { key: 'views', name: 'Views' },\n                  { key: 'completion', name: 'Completion %' },\n                ]}\n                xAxisKey=\"name\"\n                height={300}\n                layout=\"vertical\"\n              />\n            )}\n          </Card.Body>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AATA;;;;;;;;;;AA0BA,MAAM,UAAkC,CAAC,EACvC,KAAK,EACL,KAAK,EACL,MAAM,EACN,aAAa,SAAS,EACtB,IAAI,EACL,iBACC,6VAAC,+IAAI;QAAC,WAAU;kBACd,cAAA,6VAAC,+IAAI,CAAC,IAAI;sBACR,cAAA,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAI,WAAU;;0CACb,6VAAC;gCAAE,WAAU;0CACV;;;;;;0CAEH,6VAAC;gCAAE,WAAU;0CACV;;;;;;4BAEF,wBACC,6VAAC;gCACC,WAAW,CAAC,aAAa,EACvB,eAAe,aACX,2CACA,eAAe,aACf,uCACA,0CACJ;;oCAED,eAAe,cAAc;oCAC7B,eAAe,cAAc;oCAC7B;;;;;;;;;;;;;oBAIN,sBACC,6VAAC,qIAAI;wBACH,MAAM;wBACN,MAAK;wBACL,WAAU;;;;;;;;;;;;;;;;;;;;;;AAQP,SAAS;IACtB,MAAM,QAAQ,IAAA,mJAAQ;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAA4B;IACtE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gUAAQ,EAA0B;IAC9E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gUAAQ,EAAc;IAE1D,MAAM,gBAAgB,IAAA,kKAAgB,EAAC;IACvC,MAAM,qBAAqB,IAAA,uKAAqB,EAAC;IACjD,MAAM,cAAc,IAAA,gKAAc,EAAC;IACnC,MAAM,qBAAqB,IAAA,uKAAqB;IAChD,MAAM,iBAAiB,IAAA,mKAAiB,EAAC;IACzC,MAAM,sBAAsB,IAAA,wKAAsB,EAAC;IAEnD,8BAA8B;IAC9B,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,oKAAiB,EAAC;QACxC,SAAS;QACT,sBAAsB;YACpB,kDAAkD;YAClD,cAAc,IAAI;QACpB;QACA,oBAAoB,CAAC;YACnB,kBAAkB,YAAY,cAAc;YAC5C,IAAI,WAAW;gBACb,MAAM,IAAI,CAAC;YACb;QACF;IACF;IAEA,qBACE,6VAAC;QAAI,WAAU;;0BAEb,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;;0CACC,6VAAC;gCAAG,WAAU;0CAA2D;;;;;;0CAGzE,6VAAC;gCAAE,WAAU;;oCAA8C;oCAExD,mBAAmB,6BAClB,6VAAC;wCAAK,WAAU;;0DACd,6VAAC;gDAAK,WAAU;;;;;;4CAA2E;;;;;;;oCAI9F,4BACC,6VAAC;wCAAK,WAAU;;4CAA6B;4CAClC,KAAK,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,WAAW,OAAO,EAAE,IAAI;4CAAM;;;;;;;;;;;;;;;;;;;kCAKxE,6VAAC;wBAAI,WAAU;kCACZ,AAAC;4BAAC;4BAAQ;4BAAS;yBAAO,CAAW,GAAG,CAAC,CAAC,sBACzC,6VAAC;gCAEC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC,8DAA8D,EACxE,cAAc,QACV,kDACA,2HACJ;0CAED;+BARI;;;;;;;;;;;;;;;;0BAeb,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBACC,OAAM;wBACN,OAAM;wBACN,QAAO;wBACP,YAAW;wBACX,MAAK;;;;;;kCAEP,6VAAC;wBACC,OAAM;wBACN,OAAM;wBACN,QAAO;wBACP,YAAW;wBACX,MAAK;;;;;;kCAEP,6VAAC;wBACC,OAAM;wBACN,OAAM;wBACN,QAAO;wBACP,YAAW;wBACX,MAAK;;;;;;kCAEP,6VAAC;wBACC,OAAM;wBACN,OAAM;wBACN,QAAO;wBACP,YAAW;wBACX,MAAK;;;;;;;;;;;;0BAKT,6VAAC;gBAAI,WAAU;;kCAEb,6VAAC,+IAAI;wBAAC,WAAU;;0CACd,6VAAC,+IAAI,CAAC,MAAM;0CACV,cAAA,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;4CAAG,WAAU;sDAA8D;;;;;;sDAG5E,6VAAC,iJAAK;4CAAC,SAAQ;4CAAO,MAAK;sDAAK;;;;;;;;;;;;;;;;;0CAKpC,6VAAC,+IAAI,CAAC,IAAI;0CACP,cAAc,OAAO,iBACpB,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;wCAAI,WAAU;kDACb,cAAA,6VAAC;4CAAI,WAAU;;;;;;;;;;;;;;;yDAInB,6VAAC,6JAAS;oCACR,MAAM,cAAc,IAAI;oCACxB,UAAU;wCACR;4CAAE,KAAK;4CAAU,MAAM;wCAAkB;wCACzC;4CAAE,KAAK;4CAAU,MAAM;wCAAU;wCACjC;4CAAE,KAAK;4CAAW,MAAM;wCAAkB;qCAC3C;oCACD,UAAS;oCACT,YAAW;oCACX,QAAQ;;;;;;;;;;;;;;;;;kCAOhB,6VAAC,+IAAI;;0CACH,6VAAC,+IAAI,CAAC,MAAM;0CACV,cAAA,6VAAC;oCAAG,WAAU;8CAA8D;;;;;;;;;;;0CAI9E,6VAAC,+IAAI,CAAC,IAAI;0CACP,mBAAmB,OAAO,iBACzB,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;wCAAI,WAAU;kDACb,cAAA,6VAAC;4CAAI,WAAU;;;;;;;;;;;;;;;yDAInB,6VAAC,2JAAQ;oCACP,MAAM,mBAAmB,IAAI;oCAC7B,UAAU;wCAAC;4CAAE,KAAK;4CAAS,MAAM;wCAAQ;qCAAE;oCAC3C,UAAS;oCACT,QAAQ;oCACR,QAAO;;;;;;;;;;;;;;;;;kCAOf,6VAAC,+IAAI;;0CACH,6VAAC,+IAAI,CAAC,MAAM;0CACV,cAAA,6VAAC;oCAAG,WAAU;8CAA8D;;;;;;;;;;;0CAI9E,6VAAC,+IAAI,CAAC,IAAI;0CACP,mBAAmB,OAAO,iBACzB,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;wCAAI,WAAU;kDACb,cAAA,6VAAC;4CAAI,WAAU;;;;;;;;;;;;;;;yDAInB,6VAAC,2JAAQ;oCACP,MAAM,mBAAmB,IAAI;oCAC7B,SAAQ;oCACR,SAAQ;oCACR,QAAQ;oCACR,WAAW;;;;;;;;;;;;;;;;;kCAOnB,6VAAC,+IAAI;wBAAC,WAAU;;0CACd,6VAAC,+IAAI,CAAC,MAAM;0CACV,cAAA,6VAAC;oCAAG,WAAU;8CAA8D;;;;;;;;;;;0CAI9E,6VAAC,+IAAI,CAAC,IAAI;0CACP,YAAY,OAAO,iBAClB,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;wCAAI,WAAU;kDACb,cAAA,6VAAC;4CAAI,WAAU;;;;;;;;;;;;;;;yDAInB,6VAAC,6JAAS;oCACR,MAAM,YAAY,IAAI;oCACtB,UAAU;wCACR;4CAAE,KAAK;4CAAS,MAAM;wCAAQ;wCAC9B;4CAAE,KAAK;4CAAS,MAAM;wCAAS;wCAC/B;4CAAE,KAAK;4CAAQ,MAAM;wCAAO;wCAC5B;4CAAE,KAAK;4CAAe,MAAM;wCAAc;qCAC3C;oCACD,UAAS;oCACT,YAAW;oCACX,QAAQ;oCACR,SAAS;;;;;;;;;;;;;;;;;kCAOjB,6VAAC,+IAAI;wBAAC,WAAU;;0CACd,6VAAC,+IAAI,CAAC,MAAM;0CACV,cAAA,6VAAC;oCAAG,WAAU;8CAA8D;;;;;;;;;;;0CAI9E,6VAAC,+IAAI,CAAC,IAAI;0CACP,eAAe,OAAO,iBACrB,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;wCAAI,WAAU;kDACb,cAAA,6VAAC;4CAAI,WAAU;;;;;;;;;;;;;;;yDAInB,6VAAC,qKAAa;oCACZ,MAAM,eAAe,IAAI;oCACzB,QAAQ;wCACN;4CAAE,MAAM;4CAAQ,KAAK;4CAAW,MAAM;wCAAgB;wCACtD;4CAAE,MAAM;4CAAQ,KAAK;4CAAW,MAAM;wCAAU;wCAChD;4CAAE,MAAM;4CAAO,KAAK;4CAAQ,MAAM;wCAAO;qCAC1C;oCACD,UAAS;oCACT,YAAW;oCACX,QAAQ;;;;;;;;;;;;;;;;;kCAOhB,6VAAC,+IAAI;wBAAC,WAAU;;0CACd,6VAAC,+IAAI,CAAC,MAAM;0CACV,cAAA,6VAAC;oCAAG,WAAU;8CAA8D;;;;;;;;;;;0CAI9E,6VAAC,+IAAI,CAAC,IAAI;0CACP,oBAAoB,OAAO,iBAC1B,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;wCAAI,WAAU;kDACb,cAAA,6VAAC;4CAAI,WAAU;;;;;;;;;;;;;;;yDAInB,6VAAC,2JAAQ;oCACP,MAAM,oBAAoB,IAAI;oCAC9B,UAAU;wCACR;4CAAE,KAAK;4CAAS,MAAM;wCAAQ;wCAC9B;4CAAE,KAAK;4CAAc,MAAM;wCAAe;qCAC3C;oCACD,UAAS;oCACT,QAAQ;oCACR,QAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvB"}}]
}