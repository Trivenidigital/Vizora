module.exports=[24848,(a,b,c)=>{"use strict";b.exports=a.r(13182).vendored["react-ssr"].ReactServerDOMTurbopackClient},79412,a=>{"use strict";let b=new class{baseUrl;token=null;constructor(a){this.baseUrl=a}setToken(a){this.token=a}clearToken(){this.token=null}async request(a,b={}){let c={"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...b.headers};console.log(`[API] Request: ${b.method||"GET"} ${this.baseUrl}${a}`);let d=await fetch(`${this.baseUrl}${a}`,{...b,headers:c});if(console.log(`[API] Response status: ${d.status} ${d.statusText}`),!d.ok)throw console.error(`[API] Request failed with status ${d.status}`),(401===d.status||403===d.status)&&this.clearToken(),Error((await d.json().catch(()=>({message:"Request failed"}))).message||`HTTP ${d.status}`);let e=await d.json();return console.log("[API] Response data:",e),e}async login(a,b){console.log("[API] Login called with email:",a);let c=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})});return console.log("[API] Login response received:",c),console.log("[API] Response structure:",{hasSuccess:"success"in c,hasData:"data"in c,dataType:typeof c.data,hasToken:c.data?.token!==void 0,tokenValue:c.data?.token?c.data.token.substring(0,30)+"...":"MISSING"}),c.data&&c.data.token?(console.log("[API] ✅ Token found, calling setToken()"),this.setToken(c.data.token),console.log("[API] ✅ Token saved to localStorage")):(console.error("[API] ❌ TOKEN NOT FOUND in response!"),console.error("[API] Response:",JSON.stringify(c,null,2))),c.data}async register(a,b,c,d,e){console.log("[API] Register called");let f=await this.request("/auth/register",{method:"POST",body:JSON.stringify({email:a,password:b,organizationName:c,firstName:d,lastName:e})});return console.log("[API] Register response received:",f),console.log("[API] Response structure:",{hasSuccess:"success"in f,hasData:"data"in f,hasToken:f.data?.token!==void 0,tokenValue:f.data?.token?f.data.token.substring(0,30)+"...":"MISSING"}),f.data&&f.data.token?(console.log("[API] ✅ Token found in register, calling setToken()"),this.setToken(f.data.token),console.log("[API] ✅ Token saved to localStorage")):console.error("[API] ❌ TOKEN NOT FOUND in register response!"),f.data}async getDisplays(a){let b=new URLSearchParams(a).toString();return this.request(`/displays${b?`?${b}`:""}`)}async getDisplay(a){return this.request(`/displays/${a}`)}async createDisplay(a){let b={name:a.nickname,location:a.location,deviceId:`device-${Date.now()}-${Math.random().toString(36).substring(7)}`};return this.request("/displays",{method:"POST",body:JSON.stringify(b)})}async updateDisplay(a,b){let c={};return void 0!==b.nickname&&(c.name=b.nickname),void 0!==b.location&&(c.location=b.location),void 0!==b.currentPlaylistId&&(c.currentPlaylistId=b.currentPlaylistId),this.request(`/displays/${a}`,{method:"PATCH",body:JSON.stringify(c)})}async deleteDisplay(a){return this.request(`/displays/${a}`,{method:"DELETE"})}async generatePairingToken(a){return this.request(`/displays/${a}/pair`,{method:"POST"})}async completePairing(a){return this.request("/devices/pairing/complete",{method:"POST",body:JSON.stringify(a)})}async getContent(a){let b=new URLSearchParams(a).toString();return this.request(`/content${b?`?${b}`:""}`)}async getContentItem(a){return this.request(`/content/${a}`)}async createContent(a){let b={name:a.title,type:"pdf"===a.type?"url":a.type,url:a.url||"",metadata:a.metadata};return this.request("/content",{method:"POST",body:JSON.stringify(b)})}async updateContent(a,b){return this.request(`/content/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteContent(a){return this.request(`/content/${a}`,{method:"DELETE"})}async archiveContent(a){return this.request(`/content/${a}/archive`,{method:"POST"})}async getPlaylists(a){let b=new URLSearchParams(a).toString();return this.request(`/playlists${b?`?${b}`:""}`)}async getPlaylist(a){return this.request(`/playlists/${a}`)}async createPlaylist(a){return this.request("/playlists",{method:"POST",body:JSON.stringify(a)})}async updatePlaylist(a,b){return this.request(`/playlists/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deletePlaylist(a){return this.request(`/playlists/${a}`,{method:"DELETE"})}async addPlaylistItem(a,b,c){return this.request(`/playlists/${a}/items`,{method:"POST",body:JSON.stringify({contentId:b,duration:c})})}async removePlaylistItem(a,b){return this.request(`/playlists/${a}/items/${b}`,{method:"DELETE"})}async updatePlaylistItem(a,b,c){return this.request(`/playlists/${a}/items/${b}`,{method:"PATCH",body:JSON.stringify(c)})}async getSchedules(a){let b=new URLSearchParams(a).toString();return this.request(`/schedules${b?`?${b}`:""}`)}async createSchedule(a){return this.request("/schedules",{method:"POST",body:JSON.stringify(a)})}async updateSchedule(a,b){return this.request(`/schedules/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteSchedule(a){return this.request(`/schedules/${a}`,{method:"DELETE"})}async post(a,b){return this.request(a,{method:"POST",body:b?JSON.stringify(b):void 0})}async get(a){return this.request(a,{method:"GET"})}async patch(a,b){return this.request(a,{method:"PATCH",body:b?JSON.stringify(b):void 0})}async delete(a){return this.request(a,{method:"DELETE"})}}("http://localhost:3000/api");a.s(["apiClient",0,b])},64245,a=>{"use strict";var b=a.i(64239),c=a.i(872),d=a.i(59665),e=a.i(85993),f=a.i(79412);function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)({firstName:"",lastName:"",email:"",password:"",organizationName:""}),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),m=async b=>{b.preventDefault(),l(!0),j("");try{await f.apiClient.register(g.email,g.password,g.organizationName,g.firstName,g.lastName),await f.apiClient.login(g.email,g.password),a.push("/dashboard")}catch(a){j(a.message||"Registration failed")}finally{l(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Create Account"}),i&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:i}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,b.jsx)("input",{id:"firstName",type:"text",required:!0,minLength:2,value:g.firstName,onChange:a=>h({...g,firstName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-2 focus:outline-offset-2 focus:outline-blue-500 focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"John","aria-label":"First Name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,b.jsx)("input",{id:"lastName",type:"text",required:!0,minLength:2,value:g.lastName,onChange:a=>h({...g,lastName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-2 focus:outline-offset-2 focus:outline-blue-500 focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Doe","aria-label":"Last Name"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),(0,b.jsx)("input",{id:"organization",type:"text",required:!0,minLength:2,value:g.organizationName,onChange:a=>h({...g,organizationName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-2 focus:outline-offset-2 focus:outline-blue-500 focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Acme Corp","aria-label":"Organization Name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",required:!0,value:g.email,onChange:a=>h({...g,email:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-2 focus:outline-offset-2 focus:outline-blue-500 focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"john@acmecorp.com","aria-label":"Email address"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,b.jsx)("input",{id:"password",type:"password",required:!0,minLength:8,value:g.password,onChange:a=>h({...g,password:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-2 focus:outline-offset-2 focus:outline-blue-500 focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"••••••••","aria-label":"Password","aria-describedby":"password-requirements"}),(0,b.jsx)("p",{id:"password-requirements",className:"mt-1 text-xs text-gray-500",role:"note",children:"Must be 8+ characters with uppercase, lowercase, and number/special char"})]}),(0,b.jsx)("button",{type:"submit",disabled:k,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 disabled:bg-gray-400 transition font-semibold",children:k?"Creating account...":"Create Account"})]}),(0,b.jsxs)("p",{className:"text-center mt-6 text-gray-600",children:["Already have an account?"," ",(0,b.jsx)(e.default,{href:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=_dbe03054._.js.map