module.exports=[35320,(a,b,c)=>{"use strict";b.exports=a.r(74604).vendored.contexts.HooksClientContext},15912,(a,b,c)=>{"use strict";b.exports=a.r(74604).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},74604,(a,b,c)=>{"use strict";b.exports=a.r(18622)},41423,(a,b,c)=>{"use strict";b.exports=a.r(74604).vendored["react-ssr"].ReactJsxRuntime},26063,(a,b,c)=>{"use strict";b.exports=a.r(74604).vendored["react-ssr"].React},52410,(a,b,c)=>{"use strict";b.exports=a.r(74604).vendored.contexts.AppRouterContext},96421,(a,b,c)=>{"use strict";b.exports=a.r(74604).vendored["react-ssr"].ReactServerDOMTurbopackClient},51355,a=>{"use strict";var b=a.i(41423);function c({size:a="md"}){return(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[a]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`})})}a.s(["default",()=>c])},79412,a=>{"use strict";let b=new class{baseUrl;token=null;constructor(a){this.baseUrl=a}setToken(a){this.token=a}clearToken(){this.token=null}async request(a,b={}){let c={"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...b.headers};console.log(`[API] Request: ${b.method||"GET"} ${this.baseUrl}${a}`);let d=await fetch(`${this.baseUrl}${a}`,{...b,headers:c});if(console.log(`[API] Response status: ${d.status} ${d.statusText}`),!d.ok)throw console.error(`[API] Request failed with status ${d.status}`),(401===d.status||403===d.status)&&this.clearToken(),Error((await d.json().catch(()=>({message:"Request failed"}))).message||`HTTP ${d.status}`);let e=await d.json();return console.log("[API] Response data:",e),e}async login(a,b){console.log("[API] Login called with email:",a);let c=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})});return console.log("[API] Login response received:",c),console.log("[API] Response structure:",{hasSuccess:"success"in c,hasData:"data"in c,dataType:typeof c.data,hasToken:c.data?.token!==void 0,tokenValue:c.data?.token?c.data.token.substring(0,30)+"...":"MISSING"}),c.data&&c.data.token?(console.log("[API] ✅ Token found, calling setToken()"),this.setToken(c.data.token),console.log("[API] ✅ Token saved to localStorage")):(console.error("[API] ❌ TOKEN NOT FOUND in response!"),console.error("[API] Response:",JSON.stringify(c,null,2))),c.data}async register(a,b,c,d,e){console.log("[API] Register called");let f=await this.request("/auth/register",{method:"POST",body:JSON.stringify({email:a,password:b,organizationName:c,firstName:d,lastName:e})});return console.log("[API] Register response received:",f),console.log("[API] Response structure:",{hasSuccess:"success"in f,hasData:"data"in f,hasToken:f.data?.token!==void 0,tokenValue:f.data?.token?f.data.token.substring(0,30)+"...":"MISSING"}),f.data&&f.data.token?(console.log("[API] ✅ Token found in register, calling setToken()"),this.setToken(f.data.token),console.log("[API] ✅ Token saved to localStorage")):console.error("[API] ❌ TOKEN NOT FOUND in register response!"),f.data}async getDisplays(a){let b=new URLSearchParams(a).toString();return this.request(`/displays${b?`?${b}`:""}`)}async getDisplay(a){return this.request(`/displays/${a}`)}async createDisplay(a){let b={name:a.nickname,location:a.location,deviceId:`device-${Date.now()}-${Math.random().toString(36).substring(7)}`};return this.request("/displays",{method:"POST",body:JSON.stringify(b)})}async updateDisplay(a,b){let c={};return void 0!==b.nickname&&(c.name=b.nickname),void 0!==b.location&&(c.location=b.location),void 0!==b.currentPlaylistId&&(c.currentPlaylistId=b.currentPlaylistId),this.request(`/displays/${a}`,{method:"PATCH",body:JSON.stringify(c)})}async deleteDisplay(a){return this.request(`/displays/${a}`,{method:"DELETE"})}async generatePairingToken(a){return this.request(`/displays/${a}/pair`,{method:"POST"})}async completePairing(a){return this.request("/devices/pairing/complete",{method:"POST",body:JSON.stringify(a)})}async getContent(a){let b=new URLSearchParams(a).toString();return this.request(`/content${b?`?${b}`:""}`)}async getContentItem(a){return this.request(`/content/${a}`)}async createContent(a){let b={name:a.title,type:"pdf"===a.type?"url":a.type,url:a.url||"",metadata:a.metadata};return this.request("/content",{method:"POST",body:JSON.stringify(b)})}async updateContent(a,b){return this.request(`/content/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteContent(a){return this.request(`/content/${a}`,{method:"DELETE"})}async archiveContent(a){return this.request(`/content/${a}/archive`,{method:"POST"})}async getPlaylists(a){let b=new URLSearchParams(a).toString();return this.request(`/playlists${b?`?${b}`:""}`)}async getPlaylist(a){return this.request(`/playlists/${a}`)}async createPlaylist(a){return this.request("/playlists",{method:"POST",body:JSON.stringify(a)})}async updatePlaylist(a,b){return this.request(`/playlists/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deletePlaylist(a){return this.request(`/playlists/${a}`,{method:"DELETE"})}async addPlaylistItem(a,b,c){return this.request(`/playlists/${a}/items`,{method:"POST",body:JSON.stringify({contentId:b,duration:c})})}async removePlaylistItem(a,b){return this.request(`/playlists/${a}/items/${b}`,{method:"DELETE"})}async updatePlaylistItem(a,b,c){return this.request(`/playlists/${a}/items/${b}`,{method:"PATCH",body:JSON.stringify(c)})}async getSchedules(a){let b=new URLSearchParams(a).toString();return this.request(`/schedules${b?`?${b}`:""}`)}async createSchedule(a){return this.request("/schedules",{method:"POST",body:JSON.stringify(a)})}async updateSchedule(a,b){return this.request(`/schedules/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteSchedule(a){return this.request(`/schedules/${a}`,{method:"DELETE"})}}("http://localhost:3000/api");a.s(["apiClient",0,b])},3988,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},42645,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},6597,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},5663,a=>{"use strict";var b=a.i(41423),c=a.i(26063),d=a.i(920),e=a.i(60255),f=a.i(79412),g=a.i(37910),h=a.i(51355);function i({variant:a="primary",size:c="md",loading:d=!1,disabled:e,children:f,className:g="",...i}){return(0,b.jsxs)("button",{className:`font-semibold rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-700 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"}[a]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c]} ${g}`,disabled:e||d,...i,children:[d&&(0,b.jsx)(h.default,{size:"sm"}),f]})}var j=a.i(80904);function k(){let a=(0,d.useRouter)(),h=(0,d.useSearchParams)().get("redirect")||"/dashboard",[k,l]=(0,c.useState)({email:"",password:""}),[m,n]=(0,c.useState)({}),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),s=async b=>{b.preventDefault(),r(!0),p(""),n({});try{g.loginSchema.parse(k)}catch(a){if(a instanceof j.z.ZodError){let b={};a.errors.forEach(a=>{a.path[0]&&(b[a.path[0].toString()]=a.message)}),n(b)}r(!1);return}try{await f.apiClient.login(k.email,k.password),console.log("[LOGIN] Login successful, redirecting to:",h),a.push(h),console.log("[LOGIN] Router.push called")}catch(a){console.error("[LOGIN] Login error:",a),p(a.message||"Login failed")}finally{r(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Login to Vizora"}),o&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:o}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",value:k.email,onChange:a=>{l({...k,email:a.target.value}),m.email&&n({...m,email:""})},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 text-gray-900 ${m.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"you@example.com","aria-label":"Email address","aria-invalid":!!m.email,"aria-describedby":m.email?"email-error":void 0}),m.email&&(0,b.jsx)("p",{id:"email-error",className:"mt-1 text-sm text-red-600",role:"alert",children:m.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,b.jsx)("input",{type:"password",value:k.password,onChange:a=>{l({...k,password:a.target.value}),m.password&&n({...m,password:""})},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 text-gray-900 ${m.password?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"••••••••","aria-label":"Password","aria-invalid":!!m.password,"aria-describedby":m.password?"password-error":void 0}),m.password&&(0,b.jsx)("p",{id:"password-error",className:"mt-1 text-sm text-red-600",role:"alert",children:m.password})]}),(0,b.jsx)(i,{type:"submit",loading:q,className:"w-full","aria-label":"Log in to your account",children:"Login"})]}),(0,b.jsxs)("p",{className:"text-center mt-6 text-gray-600",children:["Don't have an account?"," ",(0,b.jsx)(e.default,{href:"/register",className:"text-blue-600 hover:underline",children:"Sign up"})]})]})})}a.s(["default",()=>k],5663)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c81c8ff6._.js.map