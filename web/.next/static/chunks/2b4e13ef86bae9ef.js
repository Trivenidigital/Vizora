(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63358,e=>{"use strict";var t=e.i(13509);function s({size:e="md"}){return(0,t.jsx)("div",{className:"flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading",children:(0,t.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`,"aria-hidden":"true"})})}e.s(["default",()=>s])},12654,e=>{"use strict";var t=e.i(13509),s=e.i(26670),a=e.i(80549),r=e.i(24741),l=e.i(99057),i=e.i(63358);function d({children:e,content:a,position:r="top"}){let[l,i]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsx)("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onFocus:()=>i(!0),onBlur:()=>i(!1),className:"cursor-help",children:e}),l&&(0,t.jsxs)("div",{className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg whitespace-nowrap ${{top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[r]}`,role:"tooltip",children:[a,(0,t.jsx)("div",{className:"absolute w-2 h-2 bg-gray-900 transform rotate-45"})]})]})}function n({content:e,position:s}){return(0,t.jsx)(d,{content:e,position:s,children:(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 text-xs text-gray-500 border border-gray-400 rounded-full hover:text-blue-600 hover:border-blue-600 transition",children:"?"})})}var o=e.i(29554);let c=e=>e&&e in o.iconMap?e:"overview";function m(){let e=(0,a.useRouter)(),{deviceStatuses:d,isInitialized:m}=(0,l.useDeviceStatus)(),[x,h]=(0,s.useState)({devices:{total:0,online:0},content:{total:0,processing:0},playlists:{total:0,active:0}}),[g,u]=(0,s.useState)([]),[p,y]=(0,s.useState)(!0),[v,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!m)return;let e=Object.values(d);h(t=>({...t,devices:{total:e.length,online:e.filter(e=>"online"===e.status).length}}))},[d,m]),(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{y(!0);let e=await Promise.allSettled([r.apiClient.getContent(),r.apiClient.getPlaylists()]),t="fulfilled"===e[0].status?Array.isArray(e[0].value?.data)?e[0].value.data:Array.isArray(e[0].value)?e[0].value:[]:[],s="fulfilled"===e[1].status?Array.isArray(e[1].value?.data)?e[1].value.data:Array.isArray(e[1].value)?e[1].value:[]:[];e.forEach((e,t)=>{"rejected"===e.status&&console.warn(`API call ${t+1} failed:`,e.reason)}),h(e=>({...e,content:{total:t.length,processing:t.filter(e=>e?.status==="processing").length},playlists:{total:s.length,active:s.filter(e=>e?.isActive===!0).length}}));let a=[...Object.values(d).slice(0,3).map(e=>({type:"device",iconName:c("devices"),title:e.metadata?.nickname||"Unnamed Device",subtitle:`${e.status||"unknown"} • ${e.metadata?.location||"No location"}`,time:e.metadata?.lastSeen||new Date().toISOString()})),...t.slice(0,3).map(e=>{let t=e.type?.toLowerCase()||"";return{type:"content",iconName:c("image"===t?"image":"video"===t?"video":"document"),title:e.title||"Untitled",subtitle:`${e.type||"file"} • ${e.status||"ready"}`,time:e.createdAt||new Date().toISOString()}}),...s.slice(0,3).map(e=>({type:"playlist",iconName:c("playlists"),title:e.name||"Untitled Playlist",subtitle:`${e.items?.length||0} items`,time:e.updatedAt||e.createdAt||new Date().toISOString()}))].filter(e=>e.title&&e.time&&e.iconName).sort((e,t)=>new Date(t.time).getTime()-new Date(e.time).getTime()).slice(0,8);u(a),f(null)}catch(e){console.error("Failed to load stats:",e),f(e instanceof Error?e.message:"Failed to load dashboard data")}finally{y(!1)}};return p?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)(i.default,{size:"lg"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50",children:"Dashboard Overview"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Welcome to your Vizora dashboard. Here's what's happening."})]}),v&&(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(o.Icon,{name:"error",size:"lg",className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-red-900 dark:text-red-100",children:"Error loading dashboard data"}),(0,t.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:v}),(0,t.jsx)("button",{onClick:b,className:"mt-3 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 underline",children:"Try again"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>e.push("/dashboard/devices"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Devices"}),(0,t.jsx)(o.Icon,{name:"devices",size:"2xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,t.jsx)("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:x.devices.total}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,t.jsxs)("p",{className:"text-sm text-success-600 dark:text-success-400 font-medium",children:[x.devices.online," online"]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>e.push("/dashboard/content"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Content Items"}),(0,t.jsx)(o.Icon,{name:"content",size:"2xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,t.jsx)("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:x.content.total}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:x.content.processing>0?`${x.content.processing} processing`:"All ready"})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>e.push("/dashboard/playlists"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Playlists"}),(0,t.jsx)(o.Icon,{name:"playlists",size:"2xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,t.jsx)("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:x.playlists.total}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x.playlists.active," active"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-primary-500 to-purple-600 dark:from-primary-600 dark:to-purple-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 text-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-primary-100",children:"System Status"}),(0,t.jsx)(o.Icon,{name:"power",size:"2xl",className:"text-primary-200"})]}),(0,t.jsx)("p",{className:"text-4xl font-bold mb-2",children:"Healthy"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-success-300 rounded-full animate-pulse"}),(0,t.jsx)("p",{className:"text-sm text-primary-100",children:"All systems operational"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:"Quick Actions"}),(0,t.jsx)(n,{content:"Common tasks to get started quickly",position:"right"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard/devices/pair"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg hover:from-blue-100 hover:to-blue-200 transition-all transform hover:scale-105",children:[(0,t.jsx)(o.Icon,{name:"add",size:"2xl",className:"text-blue-600"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-blue-900",children:"Pair Device"}),(0,t.jsx)("div",{className:"text-xs text-blue-700",children:"Add new display"})]})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard/content"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg hover:from-purple-100 hover:to-purple-200 transition-all transform hover:scale-105",children:[(0,t.jsx)(o.Icon,{name:"upload",size:"2xl",className:"text-purple-600"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-purple-900",children:"Upload Content"}),(0,t.jsx)("div",{className:"text-xs text-purple-700",children:"Add new media"})]})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard/playlists"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-success-50 dark:from-success-900 to-success-100 dark:to-success-800 rounded-lg hover:from-success-100 dark:hover:from-success-800 hover:to-success-200 dark:hover:to-success-700 transition-all transform hover:scale-105",children:[(0,t.jsx)(o.Icon,{name:"playlists",size:"2xl",className:"text-success-600 dark:text-success-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-success-900 dark:text-success-100",children:"Create Playlist"}),(0,t.jsx)("div",{className:"text-xs text-success-700 dark:text-success-200",children:"Organize content"})]})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard/schedules"),className:"flex items-center gap-3 p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg hover:from-orange-100 hover:to-orange-200 transition-all transform hover:scale-105",children:[(0,t.jsx)(o.Icon,{name:"schedules",size:"2xl",className:"text-orange-600"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-orange-900",children:"Schedule"}),(0,t.jsx)("div",{className:"text-xs text-orange-700",children:"Set up timing"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-4",children:"Recent Activity"}),g.length>0?(0,t.jsx)("div",{className:"space-y-3",children:g.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[(0,t.jsx)(o.Icon,{name:e.iconName||"overview",size:"lg",className:"text-gray-600 dark:text-gray-400"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-50 truncate",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.subtitle})]}),(0,t.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 whitespace-nowrap",children:new Date(e.time).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]},s))}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,t.jsx)(o.Icon,{name:"overview",size:"3xl",className:"mx-auto mb-4 text-gray-400 dark:text-gray-600"}),(0,t.jsx)("p",{className:"text-sm",children:"No recent activity yet"}),(0,t.jsx)("p",{className:"text-xs mt-2",children:"Activity will appear here as you add devices and content"})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:"Storage Usage"}),(0,t.jsx)(o.Icon,{name:"storage",size:"xl",className:"text-gray-600 dark:text-gray-400"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Content Storage"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:[x.content.total>0?`~${(2.5*x.content.total).toFixed(1)} MB`:"0 MB"," / 5 GB"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-purple-600 dark:from-primary-600 dark:to-purple-700 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(2.5*x.content.total/5e3*100,100)}%`}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("span",{children:[x.content.total," items stored"]}),(0,t.jsxs)("span",{children:[(2.5*x.content.total/5e3*100).toFixed(1),"% used"]})]})]})]}),0===x.devices.total&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-primary-500 to-purple-600 dark:from-primary-600 dark:to-purple-700 rounded-lg shadow-lg p-8 text-white",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)(o.Icon,{name:"power",size:"xl",className:"text-white"})," Getting Started"]}),(0,t.jsx)("p",{className:"mb-6 text-primary-100",children:"Welcome to Vizora! Follow these steps to get your digital signage system up and running:"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold mb-1",children:"Pair Your First Device"}),(0,t.jsx)("div",{className:"text-sm text-primary-100",children:"Connect a display device to start showing content"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold mb-1",children:"Upload Your Content"}),(0,t.jsx)("div",{className:"text-sm text-primary-100",children:"Add images, videos, or other media to your library"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold mb-1",children:"Create a Playlist"}),(0,t.jsx)("div",{className:"text-sm text-primary-100",children:"Organize your content into playlists"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-white text-primary-600 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold mb-1",children:"Publish & Schedule"}),(0,t.jsx)("div",{className:"text-sm text-primary-100",children:"Assign playlists to devices and set schedules"})]})]})]}),(0,t.jsx)("button",{onClick:()=>e.push("/dashboard/devices/pair"),className:"mt-6 bg-white text-primary-600 px-6 py-3 rounded-lg font-semibold hover:bg-primary-50 dark:hover:bg-gray-100 transition shadow-md",children:"Get Started - Pair Device"})]})]})}e.s(["default",()=>m],12654)}]);