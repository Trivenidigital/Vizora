(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10621,67236,e=>{"use strict";var t=e.i(13509),a=e.i(26670);function r({isOpen:e,onClose:r,title:s,children:n,size:i="md"}){let l=(0,a.useRef)(null);return((0,a.useEffect)(()=>{if(e){document.body.style.overflow="hidden";let e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",e)}}document.body.style.overflow="unset"},[e,r]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r,"aria-hidden":"true"}),(0,t.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]} w-full transform transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsx)("h3",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:s}),(0,t.jsx)("button",{ref:l,onClick:r,className:"text-gray-400 hover:text-gray-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":"Close modal",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"p-6",children:n})]})]})}):null}e.s(["default",()=>r],10621);var s=e.i(29554);function n({isOpen:e,onClose:a,onConfirm:r,title:n,message:i,confirmText:l="Confirm",cancelText:o="Cancel",type:c="danger"}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full transform transition-all",children:[(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:`flex-shrink-0 ${{danger:"text-error-600 dark:text-error-500",warning:"text-warning-600 dark:text-warning-500",info:"text-info-600 dark:text-info-500"}[c]}`,children:["danger"===c&&(0,t.jsx)(s.Icon,{name:"error",size:"2xl"}),"warning"===c&&(0,t.jsx)(s.Icon,{name:"warning",size:"2xl"}),"info"===c&&(0,t.jsx)(s.Icon,{name:"info",size:"2xl"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-2",children:n}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 px-6 py-4 flex justify-end gap-3 rounded-b-lg",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition",children:o}),(0,t.jsx)("button",{onClick:()=>{r(),a()},className:`px-4 py-2 text-sm font-medium text-white rounded-md transition ${{danger:"bg-error-600 dark:bg-error-500 hover:bg-error-700 dark:hover:bg-error-600",warning:"bg-warning-600 dark:bg-warning-500 hover:bg-warning-700 dark:hover:bg-warning-600",info:"bg-info-600 dark:bg-info-500 hover:bg-info-700 dark:hover:bg-info-600"}[c]}`,children:l})]})]})]})}):null}e.s(["default",()=>n],67236)},69684,e=>{"use strict";var t=e.i(13509),a=e.i(29554);function r({icon:e,title:r,description:s,action:n,variant:i="default"}){return"minimal"===i?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,t.jsx)(a.Icon,{name:e,size:"2xl",className:"text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:r}),(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:s}),n&&(0,t.jsx)("button",{onClick:n.onClick,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:n.label})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm",children:(0,t.jsx)(a.Icon,{name:e,size:"2xl",className:"text-blue-600"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r}),(0,t.jsx)("p",{className:"text-gray-600 text-center max-w-sm mb-6",children:s}),n&&(0,t.jsx)("button",{onClick:n.onClick,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:n.label})]})}e.s(["default",()=>r])},63358,e=>{"use strict";var t=e.i(13509);function a({size:e="md"}){return(0,t.jsx)("div",{className:"flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading",children:(0,t.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`,"aria-hidden":"true"})})}e.s(["default",()=>a])},62821,e=>{"use strict";var t=e.i(13509),a=e.i(26670),r=e.i(29554);function s({message:e,type:s,onClose:n,duration:i=5e3}){let[l,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{o(!1),setTimeout(n,300)},i);return()=>clearTimeout(e)},[i,n]),(0,t.jsxs)("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${{success:"bg-success-500 text-white",error:"bg-error-500 text-white",info:"bg-info-500 text-white",warning:"bg-warning-500 text-white"}[s]} transform transition-all duration-300 ${l?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[(0,t.jsx)(r.Icon,{name:{success:"success",error:"delete",info:"info",warning:"warning"}[s],size:"md",className:"text-white"}),(0,t.jsx)("span",{className:"font-medium",children:e}),(0,t.jsx)("button",{onClick:()=>{o(!1),setTimeout(n,300)},className:"ml-4 hover:opacity-75 transition",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function n(){let[e,r]=(0,a.useState)([]),n=(0,a.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),i=(0,a.useCallback)((e,t="info",a=5e3)=>{let s=Math.random().toString(36).substring(7);r(a=>[...a,{id:s,message:e,type:t}]),a>0&&setTimeout(()=>{n(s)},a)},[n]);return{showToast:i,success:e=>i(e,"success"),error:e=>i(e,"error"),info:e=>i(e,"info"),warning:e=>i(e,"warning"),ToastContainer:(0,a.useCallback)(()=>(0,t.jsx)(t.Fragment,{children:e.map(e=>(0,t.jsx)(s,{message:e.message,type:e.type,onClose:()=>n(e.id)},e.id))}),[e,n])}}e.s(["useToast",()=>n],62821)},51430,e=>{"use strict";var t=e.i(26670);function a(e,r=300){let[s,n]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let t=setTimeout(()=>{n(e)},r);return()=>{clearTimeout(t)}},[e,r]),s}e.s(["useDebounce",()=>a])},35830,e=>{"use strict";e.i(92762),e.s([])},69381,50079,65255,62211,47348,e=>{"use strict";e.i(69461);var t=e.i(82580);e.i(62821),e.i(35830),e.i(51430);var a=e.i(26670),r=e.i(24741);function s(e="month"){let[t,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{l(!0),c(null);let t={week:7,month:30,year:365}[e];try{let t=await r.apiClient.getDeviceMetrics?.(e);if(t&&t.length>0)return void n(t)}catch(e){console.log("Analytics API not available, using mock data")}let a=Array.from({length:t},(e,a)=>({date:new Date(Date.now()-(t-1-a)*864e5).toLocaleDateString("en-US",{month:"short",day:"numeric"}),mobile:85+10*Math.random(),tablet:92+8*Math.random(),desktop:98+2*Math.random()}));n(a)}catch(e){c(e instanceof Error?e.message:"Failed to fetch device metrics"),n([])}finally{l(!1)}})()},[e]),{data:t,loading:i,error:o,dateRange:e}}function n(e="month"){let[t,s]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{l(!0),c(null);try{let t=await r.apiClient.getContentPerformance?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Content performance API not available, using mock data")}s([{title:"Welcome Video",views:1240,engagement:87,shares:45},{title:"Product Demo",views:980,engagement:76,shares:32},{title:"Tutorial Series",views:2100,engagement:92,shares:58},{title:"Company Overview",views:650,engagement:64,shares:18},{title:"Customer Testimonials",views:1580,engagement:89,shares:42},{title:"FAQ Section",views:420,engagement:45,shares:12}])}catch(e){c(e instanceof Error?e.message:"Failed to fetch content performance"),s([])}finally{l(!1)}})()},[e]),{data:t,loading:i,error:o,dateRange:e}}function i(e="month"){let[t,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{l(!0),c(null);let t={week:7,month:30,year:365}[e];try{let t=await r.apiClient.getUsageTrends?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Usage trends API not available, using mock data")}let a=Array.from({length:t},(e,a)=>({date:new Date(Date.now()-(t-1-a)*864e5).toLocaleDateString("en-US",{month:"short",day:"numeric"}),video:2400+800*Math.random(),image:1200+400*Math.random(),text:600+300*Math.random(),interactive:800+400*Math.random()}));s(a)}catch(e){c(e instanceof Error?e.message:"Failed to fetch usage trends"),s([])}finally{l(!1)}})()},[e]),{data:t,loading:n,error:o,dateRange:e}}function l(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{n(!0),l(null);try{let e=await r.apiClient.getDeviceDistribution?.();if(e&&e.length>0)return void t(e)}catch(e){console.log("Device distribution API not available, using mock data")}t([{name:"Smartphones",value:35,color:"#3B82F6"},{name:"Tablets",value:25,color:"#8B5CF6"},{name:"Desktop Displays",value:28,color:"#EC4899"},{name:"Smart TVs",value:8,color:"#F59E0B"},{name:"Interactive Kiosks",value:4,color:"#10B981"}])}catch(e){l(e instanceof Error?e.message:"Failed to fetch device distribution"),t([])}finally{n(!1)}})()},[]),{data:e,loading:s,error:i}}function o(e="month"){let[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{i(!0),c(null);let t={week:7,month:30,year:365}[e];try{let t=await r.apiClient.getBandwidthUsage?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Bandwidth usage API not available, using mock data")}let a=Array.from({length:t},(e,a)=>({date:new Date(Date.now()-(t-1-a)*864e5).toLocaleDateString("en-US",{month:"short",day:"numeric"}),current:2400+1e3*Math.random(),average:2200,peak:3200}));s(a)}catch(e){c(e instanceof Error?e.message:"Failed to fetch bandwidth usage"),s([])}finally{i(!1)}})()},[e]),{data:t,loading:n,error:l,dateRange:e}}function c(e="month"){let[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{i(!0),o(null);try{let t=await r.apiClient.getPlaylistPerformance?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Playlist performance API not available, using mock data")}s([{name:"Morning Promotions",plays:234,engagement:87,uniqueDevices:12},{name:"Lunch Specials",plays:189,engagement:92,uniqueDevices:10},{name:"Evening Content",plays:156,engagement:78,uniqueDevices:8},{name:"Educational Videos",plays:298,engagement:85,uniqueDevices:15},{name:"Emergency Alerts",plays:45,engagement:95,uniqueDevices:5}])}catch(e){o(e instanceof Error?e.message:"Failed to fetch playlist performance"),s([])}finally{i(!1)}})()},[e]),{data:t,loading:n,error:l,dateRange:e}}function d(e={}){let{enabled:r=!0,onDeviceStatusChange:s,onPlaylistChange:n,onHealthAlert:i,onScheduleExecution:l,onConnectionChange:o,onSyncStateChange:c,offlineQueueSize:u=50,retryAttempts:m=3}=e,{socket:g,isConnected:x,on:h}=(0,t.useSocket)(),[p,f]=(0,a.useState)(!1),[y,b]=(0,a.useState)({lastSyncTime:Date.now(),pendingChanges:new Map,conflictedChanges:new Map});(0,a.useRef)([]);let v=(0,a.useRef)([]),w=(0,a.useCallback)((e,t,a)=>{if(!g)return;let r=`${e}_${Date.now()}_${Math.random()}`;if(a?.optimistic&&b(a=>({...a,pendingChanges:new Map(a.pendingChanges).set(r,{event:e,data:t})})),x&&g)g.emit(e,{...t,eventId:r});else{let a={id:r,event:e,data:{...t,eventId:r},timestamp:Date.now(),retryCount:0};v.current.push(a),v.current.length>u&&v.current.shift(),console.log("[RealtimeEvents] Event queued offline:",e,a)}},[g,x,u]),k=(0,a.useCallback)((e,t)=>"object"!=typeof e||"object"!=typeof t||Array.isArray(e)?t:{...e,...t,_localTimestamp:e._localTimestamp,_remoteTimestamp:t._remoteTimestamp},[]),C=(0,a.useCallback)(async()=>{if(!x||!g)return;let e=[...v.current];for(let t of(console.log("[RealtimeEvents] Syncing offline queue, items:",e.length),e)){if(t.retryCount>=m){console.warn("[RealtimeEvents] Max retries exceeded for:",t.event,t.id),b(e=>({...e,conflictedChanges:new Map(e.conflictedChanges).set(t.id,t)}));continue}try{g.emit(t.event,t.data),t.retryCount++,v.current=v.current.filter(e=>e.id!==t.id),console.log("[RealtimeEvents] Successfully synced:",t.event)}catch(e){console.error("[RealtimeEvents] Failed to sync event:",e),t.retryCount++}}b(e=>({...e,lastSyncTime:Date.now()}))},[x,g,m]),j=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Device status update:",e),s?.(e),b(t=>({...t,pendingChanges:new Map([...t.pendingChanges].filter(([t,a])=>a.deviceId!==e.deviceId))}))},[s]),N=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Playlist update:",e),n?.(e),b(t=>{let a=[...t.pendingChanges.entries()].filter(([t,a])=>a.playlistId===e.playlistId);return a.length>0?(k(a[0][1],e.payload),{...t,pendingChanges:new Map([...t.pendingChanges].filter(([e])=>!a.some(([t])=>t===e)))}):t})},[n,k]),S=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Health alert:",e),i?.(e)},[i]),E=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Schedule execution:",e),l?.(e)},[l]);return(0,a.useEffect)(()=>{if(!r||!g)return;let e=h("device:status-update",j),t=h("playlist:updated",N),a=h("health:alert",S),s=h("schedule:executed",E),n=h("connect",()=>{f(!1),o?.(!0),console.log("[RealtimeEvents] Connected, syncing offline queue..."),C()}),i=h("disconnect",()=>{f(!0),o?.(!1),console.log("[RealtimeEvents] Disconnected, offline mode enabled")});return c&&c(y),()=>{e?.(),t?.(),a?.(),s?.(),n?.(),i?.()}},[r,g,h,j,N,S,E,o,c,y,C]),(0,a.useEffect)(()=>{let e=()=>{console.log("[RealtimeEvents] Browser online, attempting to sync..."),f(!1),x&&C()},t=()=>{console.log("[RealtimeEvents] Browser offline, queuing events..."),f(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[x,C]),{isConnected:x,isOffline:p,syncState:y,offlineQueueLength:v.current.length,emitDeviceUpdate:e=>{w("device:update",e,{optimistic:!0})},emitPlaylistUpdate:e=>{w("playlist:update",e,{optimistic:!0})},emitScheduleUpdate:e=>{w("schedule:update",e,{optimistic:!0})},emitCustomEvent:(e,t,a)=>{w(e,t,a)},syncOfflineQueue:C,clearOfflineQueue:()=>{console.log("[RealtimeEvents] Clearing offline queue"),v.current=[]},getOfflineQueue:()=>[...v.current],getConflictedChanges:()=>new Map(y.conflictedChanges),resolveConflict:k}}function u(e,t={}){let{onRollback:r,onCommit:s,enableLogging:n=!0}=t,[i,l]=(0,a.useState)(e),[o,c]=(0,a.useState)(new Map),d=(0,a.useRef)([]),m=(0,a.useCallback)((e,t,a)=>{l(r=>{let s=t(r),i={id:e,previousState:r,optimisticState:s,timestamp:Date.now(),metadata:a};return c(t=>new Map(t).set(e,i)),d.current.push(i),n&&console.log("[OptimisticState] Applied optimistic update:",e,{previous:r,optimistic:s}),s})},[n]),g=(0,a.useCallback)(e=>{c(t=>{let a=new Map(t),r=a.get(e);return r&&(n&&console.log("[OptimisticState] Committed update:",e),s?.(r),a.delete(e)),a})},[n,s]),x=(0,a.useCallback)((e,t)=>{c(a=>{let s=new Map(a),i=s.get(e);return i&&(l(t??i.previousState),n&&console.log("[OptimisticState] Rolled back update:",e,{previousState:i.previousState}),r?.(i),s.delete(e)),s})},[n,r]);return{state:i,pendingUpdates:o,updateOptimistic:m,commitOptimistic:g,rollbackOptimistic:x,rollbackAll:(0,a.useCallback)(()=>{c(e=>{if(0===e.size)return e;let t=Array.from(e.values()),a=t[0]?.previousState;return a&&(l(a),n&&console.log("[OptimisticState] Rolled back all updates:",e.size),t.forEach(e=>r?.(e))),new Map})},[n,r]),batchUpdate:(0,a.useCallback)(e=>{l(t=>{let a=t;return e.forEach(({id:e,updater:r,metadata:s})=>{let i={id:e,previousState:t,optimisticState:a=r(a),timestamp:Date.now(),metadata:s};c(t=>new Map(t).set(e,i)),d.current.push(i),n&&console.log("[OptimisticState] Batched update:",e)}),a})},[n]),getPendingCount:()=>o.size,hasPendingUpdates:()=>o.size>0,getUpdateQueue:()=>[...d.current]}}function m(e={}){let{onError:t,onRetry:r,onCircuitBreakerChange:s,retryConfig:n,circuitBreakerConfig:i,enableLogging:l=!0}=e,o={maxAttempts:3,initialDelay:1e3,maxDelay:3e4,backoffMultiplier:2,jitter:!0,...n},c={failureThreshold:5,successThreshold:2,timeout:6e4,...i},[d,u]=(0,a.useState)(new Map),[g,x]=(0,a.useState)({state:"CLOSED",failureCount:0,successCount:0,lastStateChangeTime:Date.now()}),h=(0,a.useRef)(new Map),p=(0,a.useCallback)(e=>{let t=Math.min(o.initialDelay*Math.pow(o.backoffMultiplier,e),o.maxDelay);return Math.floor(o.jitter?t*(.5+Math.random()):t)},[o]),f=(0,a.useCallback)(e=>{x(t=>{let a=t.state,r=t.failureCount,n=t.successCount;return e?(r=0,n=t.successCount+1,"HALF_OPEN"===t.state&&n>=c.successThreshold&&(a="CLOSED",n=0,l&&console.log("[ErrorRecovery] Circuit breaker CLOSED after successful recovery"),s?.(!1))):(n=0,(r=t.failureCount+1)>=c.failureThreshold&&"CLOSED"===t.state&&(a="OPEN",l&&console.log("[ErrorRecovery] Circuit breaker OPENED due to repeated failures"),s?.(!0))),{...t,state:a,failureCount:r,successCount:n,lastFailureTime:e?t.lastFailureTime:Date.now(),lastStateChangeTime:a!==t.state?Date.now():t.lastStateChangeTime}})},[c,l,s]),y=(0,a.useCallback)(()=>{x(e=>"OPEN"===e.state&&Date.now()-e.lastStateChangeTime>=c.timeout?(l&&console.log("[ErrorRecovery] Circuit breaker transitioning to HALF_OPEN"),{...e,state:"HALF_OPEN",successCount:0,failureCount:0,lastStateChangeTime:Date.now()}):e)},[c.timeout,l]),b=(0,a.useCallback)((e,a,r="warning",s)=>{let n={id:e,error:a,severity:r,timestamp:Date.now(),retryCount:0,context:s};u(t=>new Map(t).set(e,n)),f(!1),t?.(n),l&&console.error("[ErrorRecovery] Error recorded:",{id:e,error:a instanceof Error?a.message:a,severity:r})},[f,t,l]),v=(0,a.useCallback)((e,t,a,s)=>{if(y(),"OPEN"===g.state){let t=Error("Circuit breaker is OPEN - too many failures");return b(e,t,"critical"),s?.(t),Promise.reject(t)}let n=(i=0)=>{if(i>=o.maxAttempts){let t=Error(`Max retry attempts (${o.maxAttempts}) exceeded for ${e}`);return b(e,t,"critical",{retryCount:i}),s?.(t),Promise.reject(t)}return t().then(t=>(h.current.delete(e),u(t=>{let a=new Map(t);return a.delete(e),a}),f(!0),a?.(t),l&&console.log("[ErrorRecovery] Operation succeeded:",{id:e,retryCount:i}),t)).catch(t=>{let a=p(i),s=Date.now()+a;return u(a=>{let r=new Map(a),n=r.get(e)??{id:e,error:t,severity:"warning",timestamp:Date.now(),retryCount:0};return n.retryCount=i+1,n.lastRetryTime=Date.now(),n.nextRetryTime=s,r.set(e,n),r}),r?.({id:e,error:t,severity:"warning",timestamp:Date.now(),retryCount:i+1,lastRetryTime:Date.now(),nextRetryTime:s}),l&&console.log("[ErrorRecovery] Retrying after",a,"ms:",{id:e,attempt:i+1,maxAttempts:o.maxAttempts}),new Promise((t,r)=>{let s=setTimeout(()=>n(i+1).then(t).catch(r),a),l=h.current.get(e)??{count:0};l.timeout=s,h.current.set(e,l)})})};return n()},[o,g,p,b,f,y,l]),w=(0,a.useCallback)(e=>{u(t=>{let a=new Map(t);return a.delete(e),a});let t=h.current.get(e);t?.timeout&&clearTimeout(t.timeout),h.current.delete(e)},[]),k=(0,a.useCallback)(()=>{h.current.forEach(({timeout:e})=>{e&&clearTimeout(e)}),h.current.clear(),u(new Map)},[]),C=(0,a.useCallback)(()=>{x({state:"CLOSED",failureCount:0,successCount:0,lastStateChangeTime:Date.now()}),l&&console.log("[ErrorRecovery] Circuit breaker reset to CLOSED"),s?.(!1)},[l,s]);return{errors:d,circuitBreaker:g,isCircuitBreakerOpen:"OPEN"===g.state,recordError:b,retry:v,clearError:w,clearAllErrors:k,resetCircuitBreaker:C,getError:e=>d.get(e),getAllErrors:()=>new Map(d),getErrorCount:()=>d.size,hasCriticalErrors:()=>Array.from(d.values()).some(e=>"critical"===e.severity)}}e.s(["useBandwidthUsage",()=>o,"useContentPerformance",()=>n,"useDeviceDistribution",()=>l,"useDeviceMetrics",()=>s,"usePlaylistPerformance",()=>c,"useUsageTrends",()=>i],50079),e.s(["useRealtimeEvents",()=>d],65255),e.s(["useOptimisticState",()=>u],62211),e.s(["useErrorRecovery",()=>m],47348),e.s([],69381)},39280,e=>{"use strict";var t=e.i(13509);function a({value:e,onChange:a,placeholder:r="Search...",className:s=""}){return(0,t.jsx)("div",{className:`bg-white dark:bg-gray-900 rounded-lg shadow p-4 ${s}`,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:r,className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"off"}),(0,t.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e&&(0,t.jsx)("button",{onClick:()=>a(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}e.s(["default",()=>a])},28885,e=>{"use strict";var t=e.i(13509),a=e.i(26670),r=e.i(80549),s=e.i(24741),n=e.i(10621),i=e.i(67236),l=e.i(63358),o=e.i(69684),c=e.i(39280),d=e.i(99057);let u={online:{color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900",dotColor:"bg-green-500",label:"Online",icon:"check"},offline:{color:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900",dotColor:"bg-red-500",label:"Offline",icon:"x"},idle:{color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-100 dark:bg-yellow-900",dotColor:"bg-yellow-500",label:"Idle",icon:"pause"},error:{color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100 dark:bg-orange-900",dotColor:"bg-orange-500",label:"Error",icon:"alertTriangle"}};function m({deviceId:e,showLabel:r=!0,showTime:s=!1,className:n=""}){let{getDeviceStatus:i,subscribeToDevice:l}=(0,d.useDeviceStatus)(),[o,c]=(0,a.useState)("offline"),[m,g]=(0,a.useState)(null),[x,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=l(e,e=>{c(e.status),g(new Date(e.timestamp)),h(!0),setTimeout(()=>h(!1),600)}),a=i(e);return a&&(c(a.status),g(new Date(a.timestamp))),t},[e]);let p=u[o];return(0,t.jsxs)("div",{className:`flex items-center gap-2 ${n}`,children:[(0,t.jsxs)("div",{className:`relative w-3 h-3 rounded-full ${p.dotColor}`,children:["online"===o&&(0,t.jsx)("div",{className:`absolute inset-0 rounded-full ${p.dotColor} animate-pulse opacity-75`}),x&&(0,t.jsx)("div",{className:`absolute inset-0 rounded-full ${p.dotColor} animate-pulse`})]}),r&&(0,t.jsx)("div",{className:`px-2 py-1 rounded-md text-xs font-semibold ${p.bgColor} ${p.color}`,children:p.label}),s&&m&&(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:(()=>{if(!m)return"";let e=Math.floor((new Date().getTime()-m.getTime())/1e3),t=Math.floor(e/60),a=Math.floor(t/60);return e<60?`${e}s ago`:t<60?`${t}m ago`:a<24?`${a}h ago`:m.toLocaleDateString()})()})]})}var g=e.i(62821),x=e.i(51430);e.i(69381);var h=e.i(65255),p=e.i(62211),f=e.i(47348),y=e.i(29554);function b(){let e=(0,r.useRouter)(),d=(0,g.useToast)(),[u,b]=(0,a.useState)([]),[v,w]=(0,a.useState)([]),[k,C]=(0,a.useState)([{id:"group-1",name:"Store Locations",description:"All retail store displays",deviceIds:[]},{id:"group-2",name:"Corporate Office",description:"Main office lobby and conference rooms",deviceIds:[]},{id:"group-3",name:"Digital Kiosks",description:"Self-service kiosks",parentGroupId:void 0,deviceIds:[]}]),[j,N]=(0,a.useState)([]),[S,E]=(0,a.useState)(!0),[D,M]=(0,a.useState)(null),[T,P]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),[O,A]=(0,a.useState)(!1),[I,$]=(0,a.useState)(""),[F,z]=(0,a.useState)({nickname:"",location:""}),[U,B]=(0,a.useState)(!1),[_,q]=(0,a.useState)(""),Q=(0,x.useDebounce)(_,300),[H,K]=(0,a.useState)(null),[W,V]=(0,a.useState)("asc"),[G,J]=(0,a.useState)(1),[X,Y]=(0,a.useState)(10),[Z,ee]=(0,a.useState)(!1),[et,ea]=(0,a.useState)("offline"),er=(0,a.useCallback)(e=>{b(t=>t.map(t=>t.id===e.deviceId?{...t,status:e.status,lastSeen:e.lastSeen,currentPlaylistId:e.currentPlaylistId??t.currentPlaylistId}:t)),ea("connected"),console.log("[DevicesPage] Device status updated:",e)},[]),es=(0,a.useCallback)(e=>{ea(e?"connected":"offline"),e&&d.info("Real-time connection established")},[d]),{isConnected:en,isOffline:ei,emitDeviceUpdate:el}=(0,h.useRealtimeEvents)({enabled:!0,onDeviceStatusChange:er,onConnectionChange:es}),{updateOptimistic:eo,commitOptimistic:ec,rollbackOptimistic:ed,hasPendingUpdates:eu}=(0,p.useOptimisticState)(u),{retry:em,recordError:eg,clearError:ex}=(0,f.useErrorRecovery)({onError:e=>{"critical"===e.severity&&d.error(`Critical: ${e.error}`)},retryConfig:{maxAttempts:3,initialDelay:1e3}});(0,a.useEffect)(()=>{eh(),ep()},[]);let eh=async()=>{try{E(!0),await em("loadDevices",async()=>{let e=await s.apiClient.getDisplays(),t=e.data||e||[];return b(t),ex("loadDevices"),t},void 0,e=>{d.error("Failed to load devices: "+(e.message||"Unknown error"))})}catch(e){eg("loadDevices",e,"warning")}finally{E(!1)}},ep=async()=>{try{let e=await s.apiClient.getPlaylists();w(e.data||e||[])}catch(e){}},ef=e=>{if(!e)return null;let t=v.find(t=>t.id===e);return t?.name||null},ey=async()=>{if(D)try{B(!0);let e=`edit_${D.id}_${Date.now()}`;eo(e,e=>e.map(e=>e.id===D.id?{...e,nickname:F.nickname,location:F.location}:e)),await em(e,async()=>(await s.apiClient.updateDisplay(D.id,F),!0),()=>{ec(e),d.success("Device updated successfully"),P(!1),el({deviceId:D.id,status:D.status,lastSeen:new Date().toISOString()})},t=>{ed(e),d.error("Failed to update device: "+(t.message||"Unknown error")),eg(e,t,"warning")})}catch(e){d.error(e.message||"Failed to update device")}finally{B(!1)}},eb=async()=>{if(D)try{B(!0);let e=`delete_${D.id}_${Date.now()}`,t=D.id;eo(e,e=>e.filter(e=>e.id!==t)),await em(e,async()=>(await s.apiClient.deleteDisplay(t),!0),()=>{ec(e),d.success("Device deleted successfully"),R(!1),M(null)},t=>{ed(e),d.error("Failed to delete device: "+(t.message||"Unknown error")),eg(e,t,"warning")})}catch(e){d.error(e.message||"Failed to delete device")}finally{B(!1)}},ev=async e=>{try{B(!0);let t=await s.apiClient.generatePairingToken(e.id);$(t.pairingCode||"N/A"),M(e),A(!0)}catch(e){d.error(e.message||"Failed to generate pairing code")}finally{B(!1)}},ew=e=>{H===e?"asc"===W?V("desc"):K(null):(K(e),V("asc"))},ek=u.filter(e=>!Q||e.nickname.toLowerCase().includes(Q.toLowerCase())||e.location&&e.location.toLowerCase().includes(Q.toLowerCase())).sort((e,t)=>{if(!H)return 0;let a=e[H],r=t[H];return null==a&&null==r?0:null==a?1:null==r?-1:a<r?"asc"===W?-1:1:a>r?"asc"===W?1:-1:0}),eC=ek.length,ej=Math.ceil(eC/X),eN=(G-1)*X,eS=eN+X,eE=ek.slice(eN,eS);(0,a.useEffect)(()=>{J(1)},[Q]);let eD=e=>H!==e?null:"asc"===W?" ↑":" ↓";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(d.ToastContainer,{}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50",children:"Devices"}),(0,t.jsxs)("div",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${"connected"===et?"bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200":"offline"===et?"bg-warning-100 text-warning-800 dark:bg-warning-900 dark:text-warning-200":"bg-error-100 text-error-800 dark:bg-error-900 dark:text-error-200"}`,children:[(0,t.jsx)("span",{className:`h-2 w-2 rounded-full ${"connected"===et?"bg-success-500":"offline"===et?"bg-warning-500":"bg-error-500"}`}),"connected"===et?"Live":"offline"===et?"Offline":"Error"]})]}),(0,t.jsxs)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["Manage your paired display devices (",u.length," total)",eu()&&" • Syncing changes..."]})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard/devices/pair"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold shadow-md hover:shadow-lg flex items-center gap-2",children:[(0,t.jsx)(y.Icon,{name:"add",size:"lg",className:"text-white"}),(0,t.jsx)("span",{children:"Pair New Device"})]})]}),(0,t.jsx)(c.default,{value:_,onChange:q,placeholder:"Search devices by name or location..."}),S?(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-12",children:(0,t.jsx)(l.default,{size:"lg"})}):0===u.length?(0,t.jsx)(o.default,{icon:"devices",title:"No devices yet",description:"Get started by pairing your first display device",action:{label:"Pair Device",onClick:()=>e.push("/dashboard/devices/pair")}}):(0,t.jsxs)(t.Fragment,{children:[Q&&(0,t.jsx)("div",{className:"bg-info-50 dark:bg-info-900 border border-info-200 dark:border-info-700 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-info-800 dark:text-info-200",children:[eE.length," ",1===eE.length?"result":"results"," found"]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,t.jsxs)("tr",{children:[(0,t.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 select-none",onClick:()=>ew("nickname"),children:["Device",eD("nickname")]}),(0,t.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 select-none",onClick:()=>ew("status"),children:["Status",eD("status")]}),(0,t.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 select-none",onClick:()=>ew("location"),children:["Location",eD("location")]}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Currently Playing"}),(0,t.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 select-none",onClick:()=>ew("lastSeen"),children:["Last Seen",eD("lastSeen")]}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:eE.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.Icon,{name:"devices",size:"xl",className:"mr-3 text-gray-600 dark:text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:e.nickname}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",e.id]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)(m,{deviceId:e.id,showLabel:!0,showTime:!0})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.location||"—"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ef(e.currentPlaylistId)?(0,t.jsxs)("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-xs font-semibold flex items-center gap-1 w-fit",children:[(0,t.jsx)(y.Icon,{name:"playlists",size:"sm",className:"text-primary-800 dark:text-primary-200"}),(0,t.jsx)("span",{children:ef(e.currentPlaylistId)})]}):(0,t.jsx)("span",{className:"text-gray-400 dark:text-gray-600 italic",children:"No playlist"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.lastSeen?new Date(e.lastSeen).toLocaleString():"Never"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>{M(e),z({nickname:e.nickname,location:e.location||""}),P(!0)},className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-3 py-1 rounded transition font-medium",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>ev(e),className:"text-purple-600 hover:text-purple-800 hover:bg-purple-50 px-3 py-1 rounded transition font-medium",children:"Pair"}),(0,t.jsx)("button",{onClick:()=>{M(e),R(!0)},className:"text-red-600 hover:text-red-800 hover:bg-red-50 px-3 py-1 rounded transition font-medium",children:"Delete"})]})})]},e.id))})]})}),eC>0&&(0,t.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-b-lg",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)("button",{onClick:()=>J(e=>Math.max(1,e-1)),disabled:1===G,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>J(e=>Math.min(ej,e+1)),disabled:G===ej,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:eN+1})," to"," ",(0,t.jsx)("span",{className:"font-medium",children:Math.min(eS,eC)})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:eC})," devices"]}),(0,t.jsxs)("select",{value:X,onChange:e=>{Y(Number(e.target.value)),J(1)},className:"text-sm border-gray-300 rounded-md",children:[(0,t.jsx)("option",{value:10,children:"10 per page"}),(0,t.jsx)("option",{value:25,children:"25 per page"}),(0,t.jsx)("option",{value:50,children:"50 per page"}),(0,t.jsx)("option",{value:100,children:"100 per page"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,t.jsx)("button",{onClick:()=>J(e=>Math.max(1,e-1)),disabled:1===G,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Previous"}),Array.from({length:Math.min(5,ej)},(e,a)=>{let r;return r=ej<=5||G<=3?a+1:G>=ej-2?ej-4+a:G-2+a,(0,t.jsx)("button",{onClick:()=>J(r),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${G===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:r},r)}),(0,t.jsx)("button",{onClick:()=>J(e=>Math.min(ej,e+1)),disabled:G===ej,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next →"})]})})]})]})]}),(0,t.jsx)(n.default,{isOpen:T,onClose:()=>P(!1),title:"Edit Device",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Device Nickname"}),(0,t.jsx)("input",{type:"text",value:F.nickname,onChange:e=>z({...F,nickname:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Store Front Display"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (Optional)"}),(0,t.jsx)("input",{type:"text",value:F.location,onChange:e=>z({...F,location:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Main Entrance"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>P(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition",disabled:U,children:"Cancel"}),(0,t.jsxs)("button",{onClick:ey,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",disabled:U||!F.nickname.trim(),children:[U&&(0,t.jsx)(l.default,{size:"sm"}),"Save Changes"]})]})]})}),(0,t.jsx)(n.default,{isOpen:O,onClose:()=>A(!1),title:"Pairing Code",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Enter this code on your display device to pair it:"}),(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg p-6",children:(0,t.jsx)("div",{className:"text-4xl font-bold text-blue-600 tracking-widest",children:I})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"This code will expire in 5 minutes"}),(0,t.jsx)("button",{onClick:()=>A(!1),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:"Done"})]})}),(0,t.jsx)(i.default,{isOpen:L,onClose:()=>R(!1),onConfirm:eb,title:"Delete Device",message:`Are you sure you want to delete "${D?.nickname}"? This action cannot be undone.`,confirmText:"Delete",type:"danger"})]})}e.s(["default",()=>b],28885)}]);