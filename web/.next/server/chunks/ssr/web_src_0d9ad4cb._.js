module.exports=[51355,a=>{"use strict";var b=a.i(64239);function c({size:a="md"}){return(0,b.jsx)("div",{className:"flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading",children:(0,b.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[a]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`,"aria-hidden":"true"})})}a.s(["default",()=>c])},57052,a=>{"use strict";var b=a.i(64239),c=a.i(872),d=a.i(31525);function e({message:a,type:e,onClose:f,duration:g=5e3}){let[h,i]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let a=setTimeout(()=>{i(!1),setTimeout(f,300)},g);return()=>clearTimeout(a)},[g,f]),(0,b.jsxs)("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${{success:"bg-success-500 text-white",error:"bg-error-500 text-white",info:"bg-info-500 text-white",warning:"bg-warning-500 text-white"}[e]} transform transition-all duration-300 ${h?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[(0,b.jsx)(d.Icon,{name:{success:"success",error:"delete",info:"info",warning:"warning"}[e],size:"md",className:"text-white"}),(0,b.jsx)("span",{className:"font-medium",children:a}),(0,b.jsx)("button",{onClick:()=>{i(!1),setTimeout(f,300)},className:"ml-4 hover:opacity-75 transition",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function f(){let[a,d]=(0,c.useState)([]),f=(0,c.useCallback)(a=>{d(b=>b.filter(b=>b.id!==a))},[]),g=(0,c.useCallback)((a,b="info",c=5e3)=>{let e=Math.random().toString(36).substring(7);d(c=>[...c,{id:e,message:a,type:b}]),c>0&&setTimeout(()=>{f(e)},c)},[f]);return{showToast:g,success:a=>g(a,"success"),error:a=>g(a,"error"),info:a=>g(a,"info"),warning:a=>g(a,"warning"),ToastContainer:(0,c.useCallback)(()=>(0,b.jsx)(b.Fragment,{children:a.map(a=>(0,b.jsx)(e,{message:a.message,type:a.type,onClose:()=>f(a.id)},a.id))}),[a,f])}}a.s(["useToast",()=>f],57052)},60547,a=>{"use strict";var b=a.i(64239),c=a.i(31525);function d({icon:a,title:d,description:e,action:f,variant:g="default"}){return"minimal"===g?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,b.jsx)(c.Icon,{name:a,size:"2xl",className:"text-gray-300 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:d}),(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:e}),f&&(0,b.jsx)("button",{onClick:f.onClick,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:f.label})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm",children:(0,b.jsx)(c.Icon,{name:a,size:"2xl",className:"text-blue-600"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:d}),(0,b.jsx)("p",{className:"text-gray-600 text-center max-w-sm mb-6",children:e}),f&&(0,b.jsx)("button",{onClick:f.onClick,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:f.label})]})}a.s(["default",()=>d])},16569,38982,a=>{"use strict";var b=a.i(64239);function c({value:a,onChange:c,placeholder:d="Search...",className:e=""}){return(0,b.jsx)("div",{className:`bg-white dark:bg-gray-900 rounded-lg shadow p-4 ${e}`,children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:a,onChange:a=>c(a.target.value),placeholder:d,className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"off"}),(0,b.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a&&(0,b.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}a.s(["default",()=>c],16569);var d=a.i(872);function e(a,b=300){let[c,f]=(0,d.useState)(a);return(0,d.useEffect)(()=>{let c=setTimeout(()=>{f(a)},b);return()=>{clearTimeout(c)}},[a,b]),c}a.s(["useDebounce",()=>e],38982)},81139,a=>{"use strict";var b=a.i(64239),c=a.i(872),d=a.i(79412),e=a.i(31525);let f=({label:a,value:c,unit:d,thresholds:e})=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:a}),(0,b.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[c.toFixed(1),d]})]}),(0,b.jsx)("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full ${c>=e.critical?"bg-red-500":c>=e.warning?"bg-yellow-500":"bg-green-500"} transition-all`,style:{width:`${Math.min(c,100)}%`}})})]});function g({health:a,showTemperature:c=!0,showUptime:d=!0,compact:g=!1,className:h=""}){var i;let j=(i=a.score)>=90?{label:"Excellent",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900"}:i>=70?{label:"Good",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900"}:i>=50?{label:"Fair",color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-100 dark:bg-yellow-900"}:{label:"Poor",color:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900"};return g?(0,b.jsxs)("div",{className:`flex items-center gap-2 ${h}`,children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Health:"}),(0,b.jsxs)("div",{className:`px-2 py-1 rounded text-xs font-semibold ${j.bgColor} ${j.color}`,children:[a.score,"%"]}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.label})]}):(0,b.jsxs)("div",{className:`bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 p-4 space-y-4 ${h}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:"Device Health"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Updated ",new Date(a.lastHeartbeat).toLocaleTimeString()]})]}),(0,b.jsxs)("div",{className:`text-right ${j.color}`,children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[a.score,"%"]}),(0,b.jsx)("div",{className:"text-xs font-medium",children:j.label})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsx)(f,{label:"CPU",value:a.cpuUsage,unit:"%",thresholds:{warning:70,critical:85}})}),(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsx)(f,{label:"Memory",value:a.memoryUsage,unit:"%",thresholds:{warning:75,critical:90}})}),(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsx)(f,{label:"Storage",value:a.storageUsage,unit:"%",thresholds:{warning:80,critical:95}})}),c&&(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsx)(f,{label:"Temperature",value:a.temperature,unit:"¬∞C",thresholds:{warning:50,critical:65}})})]}),d&&(0,b.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Uptime"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:a.uptime>=24?`${(a.uptime/24).toFixed(1)} days`:`${a.uptime.toFixed(1)} hours`})]})}),a.score<70&&(0,b.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-800",children:(0,b.jsxs)("div",{className:`px-3 py-2 rounded text-xs font-medium ${j.bgColor} ${j.color} flex items-center gap-2`,children:[(0,b.jsx)(e.Icon,{name:"alertTriangle",size:"sm"}),(0,b.jsx)("span",{children:a.score<50?"Device health is poor. Recommended immediate maintenance.":"Device health is degraded. Monitor closely."})]})})]})}var h=a.i(51355),i=a.i(60547),j=a.i(16569),k=a.i(57052),l=a.i(38982);function m(){let a=(0,k.useToast)(),[f,m]=(0,c.useState)([]),[n,o]=(0,c.useState)({}),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(""),t=(0,l.useDebounce)(r,300),[u,v]=(0,c.useState)("health"),[w,x]=(0,c.useState)("desc");(0,c.useEffect)(()=>{y()},[]),(0,c.useEffect)(()=>{let a=setInterval(()=>{y()},1e4);return()=>clearInterval(a)},[]);let y=async()=>{try{q(!0);let a=await d.apiClient.getDisplays(),b=a.data||a||[];m(b);let c={};b.forEach(a=>{var b;let d;c[a.id]=(b=a.id,a.nickname,d=40*Math.random()+60,{deviceId:b,cpuUsage:Math.floor(80*Math.random()),memoryUsage:Math.floor(75*Math.random()),storageUsage:Math.floor(60*Math.random()),temperature:Math.floor(30*Math.random()+35),uptime:Math.floor(720*Math.random()),lastHeartbeat:new Date(Date.now()-3e5*Math.random()),score:Math.floor(d)})}),o(c)}catch(b){a.error(b.message||"Failed to load device health")}finally{q(!1)}},z=[...f.filter(a=>!t||a.nickname.toLowerCase().includes(t.toLowerCase())||a.location&&a.location.toLowerCase().includes(t.toLowerCase()))].sort((a,b)=>{let c=0,d=n[a.id],e=n[b.id];switch(u){case"name":c=a.nickname.localeCompare(b.nickname);break;case"health":c=(d?.score||0)-(e?.score||0);break;case"cpu":c=(d?.cpuUsage||0)-(e?.cpuUsage||0);break;case"memory":c=(d?.memoryUsage||0)-(e?.memoryUsage||0);break;default:c=0}return"asc"===w?c:-c}),A={totalDevices:f.length,healthy:f.filter(a=>(n[a.id]?.score||0)>=80).length,warning:f.filter(a=>{let b=n[a.id]?.score||0;return b>=50&&b<80}).length,critical:f.filter(a=>50>(n[a.id]?.score||0)).length};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(a.ToastContainer,{}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50",children:"Device Health"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Monitor device performance and system health"})]}),(0,b.jsxs)("button",{onClick:y,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold shadow-md hover:shadow-lg flex items-center gap-2",children:[(0,b.jsx)(e.Icon,{name:"download",size:"lg",className:"text-white"}),(0,b.jsx)("span",{children:"Refresh"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-blue-500",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Devices"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-50 mt-2",children:A.totalDevices})]}),(0,b.jsx)(e.Icon,{name:"devices",size:"3xl",className:"text-blue-500 opacity-20"})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-green-500",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Healthy"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:A.healthy})]}),(0,b.jsx)(e.Icon,{name:"success",size:"3xl",className:"text-green-500 opacity-20"})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-yellow-500",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Warnings"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:A.warning})]}),(0,b.jsx)(e.Icon,{name:"warning",size:"3xl",className:"text-yellow-500 opacity-20"})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-red-500",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Critical"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-2",children:A.critical})]}),(0,b.jsx)(e.Icon,{name:"error",size:"3xl",className:"text-red-500 opacity-20"})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:items-end",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(j.default,{value:r,onChange:s,placeholder:"Search devices by name or location..."})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"health",children:"Sort by Health"}),(0,b.jsx)("option",{value:"name",children:"Sort by Name"}),(0,b.jsx)("option",{value:"cpu",children:"Sort by CPU"}),(0,b.jsx)("option",{value:"memory",children:"Sort by Memory"})]}),(0,b.jsx)("button",{onClick:()=>x("asc"===w?"desc":"asc"),className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 transition font-medium",children:"asc"===w?"‚Üë":"‚Üì"})]})]}),p?(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-12",children:(0,b.jsx)(h.default,{size:"lg"})}):0===z.length?(0,b.jsx)(i.default,{icon:"devices",title:"No devices found",description:"Pair a device to begin monitoring health metrics",action:{label:"Pair Device",onClick:()=>window.location.href="/dashboard/devices/pair"}}):(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:z.map(a=>{var c,d;let e=n[a.id];if(!e)return null;let f=(c=e.score)>=90?{label:"Excellent",color:"text-green-700 dark:text-green-300"}:c>=70?{label:"Good",color:"text-blue-700 dark:text-blue-300"}:c>=50?{label:"Fair",color:"text-yellow-700 dark:text-yellow-300"}:{label:"Poor",color:"text-red-700 dark:text-red-300"};return(0,b.jsxs)("div",{className:`rounded-lg shadow border p-6 transition-all hover:shadow-lg ${(d=e.score)>=90?"bg-green-50 dark:bg-green-900 border-green-200 dark:border-green-700":d>=70?"bg-blue-50 dark:bg-blue-900 border-blue-200 dark:border-blue-700":d>=50?"bg-yellow-50 dark:bg-yellow-900 border-yellow-200 dark:border-yellow-700":"bg-red-50 dark:bg-red-900 border-red-200 dark:border-red-700"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:a.nickname}),a.location&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["üìç ",a.location]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:`text-2xl font-bold ${f.color}`,children:e.score}),(0,b.jsx)("p",{className:`text-xs font-semibold ${f.color}`,children:f.label})]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(g,{health:e,showTemperature:!0,showUptime:!0,compact:!1})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 p-2 rounded",children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Uptime"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-50",children:[Math.floor(e.uptime/24),"d ",e.uptime%24,"h"]})]}),(0,b.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 p-2 rounded",children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Temp"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-50",children:[e.temperature,"¬∞C"]})]}),(0,b.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 p-2 rounded col-span-2",children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Last Heartbeat"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-50 text-xs",children:[Math.round((Date.now()-e.lastHeartbeat.getTime())/1e3),"s ago"]})]})]}),e.score<50&&(0,b.jsx)("div",{className:"mt-4 bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 rounded p-3",children:(0,b.jsx)("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"‚ö†Ô∏è Critical: Device performance degraded. Consider maintenance."})}),e.score<70&&e.score>=50&&(0,b.jsx)("div",{className:"mt-4 bg-yellow-100 dark:bg-yellow-900 border border-yellow-300 dark:border-yellow-700 rounded p-3",children:(0,b.jsx)("p",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-200",children:"‚ö° Warning: Some metrics need attention."})})]},a.id)})})]})}a.s(["default",()=>m],81139)}];

//# sourceMappingURL=web_src_0d9ad4cb._.js.map