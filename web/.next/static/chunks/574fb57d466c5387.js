(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69684,e=>{"use strict";var t=e.i(13509),a=e.i(29554);function r({icon:e,title:r,description:s,action:l,variant:n="default"}){return"minimal"===n?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,t.jsx)(a.Icon,{name:e,size:"2xl",className:"text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:r}),(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:s}),l&&(0,t.jsx)("button",{onClick:l.onClick,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:l.label})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm",children:(0,t.jsx)(a.Icon,{name:e,size:"2xl",className:"text-blue-600"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r}),(0,t.jsx)("p",{className:"text-gray-600 text-center max-w-sm mb-6",children:s}),l&&(0,t.jsx)("button",{onClick:l.onClick,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:l.label})]})}e.s(["default",()=>r])},63358,e=>{"use strict";var t=e.i(13509);function a({size:e="md"}){return(0,t.jsx)("div",{className:"flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading",children:(0,t.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`,"aria-hidden":"true"})})}e.s(["default",()=>a])},62821,e=>{"use strict";var t=e.i(13509),a=e.i(26670),r=e.i(29554);function s({message:e,type:s,onClose:l,duration:n=5e3}){let[i,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{d(!1),setTimeout(l,300)},n);return()=>clearTimeout(e)},[n,l]),(0,t.jsxs)("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${{success:"bg-success-500 text-white",error:"bg-error-500 text-white",info:"bg-info-500 text-white",warning:"bg-warning-500 text-white"}[s]} transform transition-all duration-300 ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[(0,t.jsx)(r.Icon,{name:{success:"success",error:"delete",info:"info",warning:"warning"}[s],size:"md",className:"text-white"}),(0,t.jsx)("span",{className:"font-medium",children:e}),(0,t.jsx)("button",{onClick:()=>{d(!1),setTimeout(l,300)},className:"ml-4 hover:opacity-75 transition",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function l(){let[e,r]=(0,a.useState)([]),l=(0,a.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),n=(0,a.useCallback)((e,t="info",a=5e3)=>{let s=Math.random().toString(36).substring(7);r(a=>[...a,{id:s,message:e,type:t}]),a>0&&setTimeout(()=>{l(s)},a)},[l]);return{showToast:n,success:e=>n(e,"success"),error:e=>n(e,"error"),info:e=>n(e,"info"),warning:e=>n(e,"warning"),ToastContainer:(0,a.useCallback)(()=>(0,t.jsx)(t.Fragment,{children:e.map(e=>(0,t.jsx)(s,{message:e.message,type:e.type,onClose:()=>l(e.id)},e.id))}),[e,l])}}e.s(["useToast",()=>l],62821)},35830,e=>{"use strict";e.i(92762),e.s([])},51430,e=>{"use strict";var t=e.i(26670);function a(e,r=300){let[s,l]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let t=setTimeout(()=>{l(e)},r);return()=>{clearTimeout(t)}},[e,r]),s}e.s(["useDebounce",()=>a])},69381,50079,65255,62211,47348,e=>{"use strict";e.i(69461);var t=e.i(82580);e.i(62821),e.i(35830),e.i(51430);var a=e.i(26670),r=e.i(24741);function s(e="month"){let[t,l]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{i(!0),o(null);let t={week:7,month:30,year:365}[e];try{let t=await r.apiClient.getDeviceMetrics?.(e);if(t&&t.length>0)return void l(t)}catch(e){console.log("Analytics API not available, using mock data")}let a=Array.from({length:t},(e,a)=>({date:new Date(Date.now()-(t-1-a)*864e5).toLocaleDateString("en-US",{month:"short",day:"numeric"}),mobile:85+10*Math.random(),tablet:92+8*Math.random(),desktop:98+2*Math.random()}));l(a)}catch(e){o(e instanceof Error?e.message:"Failed to fetch device metrics"),l([])}finally{i(!1)}})()},[e]),{data:t,loading:n,error:d,dateRange:e}}function l(e="month"){let[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{i(!0),o(null);try{let t=await r.apiClient.getContentPerformance?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Content performance API not available, using mock data")}s([{title:"Welcome Video",views:1240,engagement:87,shares:45},{title:"Product Demo",views:980,engagement:76,shares:32},{title:"Tutorial Series",views:2100,engagement:92,shares:58},{title:"Company Overview",views:650,engagement:64,shares:18},{title:"Customer Testimonials",views:1580,engagement:89,shares:42},{title:"FAQ Section",views:420,engagement:45,shares:12}])}catch(e){o(e instanceof Error?e.message:"Failed to fetch content performance"),s([])}finally{i(!1)}})()},[e]),{data:t,loading:n,error:d,dateRange:e}}function n(e="month"){let[t,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{i(!0),o(null);let t={week:7,month:30,year:365}[e];try{let t=await r.apiClient.getUsageTrends?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Usage trends API not available, using mock data")}let a=Array.from({length:t},(e,a)=>({date:new Date(Date.now()-(t-1-a)*864e5).toLocaleDateString("en-US",{month:"short",day:"numeric"}),video:2400+800*Math.random(),image:1200+400*Math.random(),text:600+300*Math.random(),interactive:800+400*Math.random()}));s(a)}catch(e){o(e instanceof Error?e.message:"Failed to fetch usage trends"),s([])}finally{i(!1)}})()},[e]),{data:t,loading:l,error:d,dateRange:e}}function i(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[n,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{l(!0),i(null);try{let e=await r.apiClient.getDeviceDistribution?.();if(e&&e.length>0)return void t(e)}catch(e){console.log("Device distribution API not available, using mock data")}t([{name:"Smartphones",value:35,color:"#3B82F6"},{name:"Tablets",value:25,color:"#8B5CF6"},{name:"Desktop Displays",value:28,color:"#EC4899"},{name:"Smart TVs",value:8,color:"#F59E0B"},{name:"Interactive Kiosks",value:4,color:"#10B981"}])}catch(e){i(e instanceof Error?e.message:"Failed to fetch device distribution"),t([])}finally{l(!1)}})()},[]),{data:e,loading:s,error:n}}function d(e="month"){let[t,s]=(0,a.useState)([]),[l,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{n(!0),o(null);let t={week:7,month:30,year:365}[e];try{let t=await r.apiClient.getBandwidthUsage?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Bandwidth usage API not available, using mock data")}let a=Array.from({length:t},(e,a)=>({date:new Date(Date.now()-(t-1-a)*864e5).toLocaleDateString("en-US",{month:"short",day:"numeric"}),current:2400+1e3*Math.random(),average:2200,peak:3200}));s(a)}catch(e){o(e instanceof Error?e.message:"Failed to fetch bandwidth usage"),s([])}finally{n(!1)}})()},[e]),{data:t,loading:l,error:i,dateRange:e}}function o(e="month"){let[t,s]=(0,a.useState)([]),[l,n]=(0,a.useState)(!0),[i,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{n(!0),d(null);try{let t=await r.apiClient.getPlaylistPerformance?.(e);if(t&&t.length>0)return void s(t)}catch(e){console.log("Playlist performance API not available, using mock data")}s([{name:"Morning Promotions",plays:234,engagement:87,uniqueDevices:12},{name:"Lunch Specials",plays:189,engagement:92,uniqueDevices:10},{name:"Evening Content",plays:156,engagement:78,uniqueDevices:8},{name:"Educational Videos",plays:298,engagement:85,uniqueDevices:15},{name:"Emergency Alerts",plays:45,engagement:95,uniqueDevices:5}])}catch(e){d(e instanceof Error?e.message:"Failed to fetch playlist performance"),s([])}finally{n(!1)}})()},[e]),{data:t,loading:l,error:i,dateRange:e}}function c(e={}){let{enabled:r=!0,onDeviceStatusChange:s,onPlaylistChange:l,onHealthAlert:n,onScheduleExecution:i,onConnectionChange:d,onSyncStateChange:o,offlineQueueSize:u=50,retryAttempts:m=3}=e,{socket:g,isConnected:h,on:x}=(0,t.useSocket)(),[y,b]=(0,a.useState)(!1),[p,f]=(0,a.useState)({lastSyncTime:Date.now(),pendingChanges:new Map,conflictedChanges:new Map});(0,a.useRef)([]);let v=(0,a.useRef)([]),k=(0,a.useCallback)((e,t,a)=>{if(!g)return;let r=`${e}_${Date.now()}_${Math.random()}`;if(a?.optimistic&&f(a=>({...a,pendingChanges:new Map(a.pendingChanges).set(r,{event:e,data:t})})),h&&g)g.emit(e,{...t,eventId:r});else{let a={id:r,event:e,data:{...t,eventId:r},timestamp:Date.now(),retryCount:0};v.current.push(a),v.current.length>u&&v.current.shift(),console.log("[RealtimeEvents] Event queued offline:",e,a)}},[g,h,u]),w=(0,a.useCallback)((e,t)=>"object"!=typeof e||"object"!=typeof t||Array.isArray(e)?t:{...e,...t,_localTimestamp:e._localTimestamp,_remoteTimestamp:t._remoteTimestamp},[]),j=(0,a.useCallback)(async()=>{if(!h||!g)return;let e=[...v.current];for(let t of(console.log("[RealtimeEvents] Syncing offline queue, items:",e.length),e)){if(t.retryCount>=m){console.warn("[RealtimeEvents] Max retries exceeded for:",t.event,t.id),f(e=>({...e,conflictedChanges:new Map(e.conflictedChanges).set(t.id,t)}));continue}try{g.emit(t.event,t.data),t.retryCount++,v.current=v.current.filter(e=>e.id!==t.id),console.log("[RealtimeEvents] Successfully synced:",t.event)}catch(e){console.error("[RealtimeEvents] Failed to sync event:",e),t.retryCount++}}f(e=>({...e,lastSyncTime:Date.now()}))},[h,g,m]),C=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Device status update:",e),s?.(e),f(t=>({...t,pendingChanges:new Map([...t.pendingChanges].filter(([t,a])=>a.deviceId!==e.deviceId))}))},[s]),N=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Playlist update:",e),l?.(e),f(t=>{let a=[...t.pendingChanges.entries()].filter(([t,a])=>a.playlistId===e.playlistId);return a.length>0?(w(a[0][1],e.payload),{...t,pendingChanges:new Map([...t.pendingChanges].filter(([e])=>!a.some(([t])=>t===e)))}):t})},[l,w]),S=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Health alert:",e),n?.(e)},[n]),E=(0,a.useCallback)(e=>{console.log("[RealtimeEvents] Schedule execution:",e),i?.(e)},[i]);return(0,a.useEffect)(()=>{if(!r||!g)return;let e=x("device:status-update",C),t=x("playlist:updated",N),a=x("health:alert",S),s=x("schedule:executed",E),l=x("connect",()=>{b(!1),d?.(!0),console.log("[RealtimeEvents] Connected, syncing offline queue..."),j()}),n=x("disconnect",()=>{b(!0),d?.(!1),console.log("[RealtimeEvents] Disconnected, offline mode enabled")});return o&&o(p),()=>{e?.(),t?.(),a?.(),s?.(),l?.(),n?.()}},[r,g,x,C,N,S,E,d,o,p,j]),(0,a.useEffect)(()=>{let e=()=>{console.log("[RealtimeEvents] Browser online, attempting to sync..."),b(!1),h&&j()},t=()=>{console.log("[RealtimeEvents] Browser offline, queuing events..."),b(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[h,j]),{isConnected:h,isOffline:y,syncState:p,offlineQueueLength:v.current.length,emitDeviceUpdate:e=>{k("device:update",e,{optimistic:!0})},emitPlaylistUpdate:e=>{k("playlist:update",e,{optimistic:!0})},emitScheduleUpdate:e=>{k("schedule:update",e,{optimistic:!0})},emitCustomEvent:(e,t,a)=>{k(e,t,a)},syncOfflineQueue:j,clearOfflineQueue:()=>{console.log("[RealtimeEvents] Clearing offline queue"),v.current=[]},getOfflineQueue:()=>[...v.current],getConflictedChanges:()=>new Map(p.conflictedChanges),resolveConflict:w}}function u(e,t={}){let{onRollback:r,onCommit:s,enableLogging:l=!0}=t,[n,i]=(0,a.useState)(e),[d,o]=(0,a.useState)(new Map),c=(0,a.useRef)([]),m=(0,a.useCallback)((e,t,a)=>{i(r=>{let s=t(r),n={id:e,previousState:r,optimisticState:s,timestamp:Date.now(),metadata:a};return o(t=>new Map(t).set(e,n)),c.current.push(n),l&&console.log("[OptimisticState] Applied optimistic update:",e,{previous:r,optimistic:s}),s})},[l]),g=(0,a.useCallback)(e=>{o(t=>{let a=new Map(t),r=a.get(e);return r&&(l&&console.log("[OptimisticState] Committed update:",e),s?.(r),a.delete(e)),a})},[l,s]),h=(0,a.useCallback)((e,t)=>{o(a=>{let s=new Map(a),n=s.get(e);return n&&(i(t??n.previousState),l&&console.log("[OptimisticState] Rolled back update:",e,{previousState:n.previousState}),r?.(n),s.delete(e)),s})},[l,r]);return{state:n,pendingUpdates:d,updateOptimistic:m,commitOptimistic:g,rollbackOptimistic:h,rollbackAll:(0,a.useCallback)(()=>{o(e=>{if(0===e.size)return e;let t=Array.from(e.values()),a=t[0]?.previousState;return a&&(i(a),l&&console.log("[OptimisticState] Rolled back all updates:",e.size),t.forEach(e=>r?.(e))),new Map})},[l,r]),batchUpdate:(0,a.useCallback)(e=>{i(t=>{let a=t;return e.forEach(({id:e,updater:r,metadata:s})=>{let n={id:e,previousState:t,optimisticState:a=r(a),timestamp:Date.now(),metadata:s};o(t=>new Map(t).set(e,n)),c.current.push(n),l&&console.log("[OptimisticState] Batched update:",e)}),a})},[l]),getPendingCount:()=>d.size,hasPendingUpdates:()=>d.size>0,getUpdateQueue:()=>[...c.current]}}function m(e={}){let{onError:t,onRetry:r,onCircuitBreakerChange:s,retryConfig:l,circuitBreakerConfig:n,enableLogging:i=!0}=e,d={maxAttempts:3,initialDelay:1e3,maxDelay:3e4,backoffMultiplier:2,jitter:!0,...l},o={failureThreshold:5,successThreshold:2,timeout:6e4,...n},[c,u]=(0,a.useState)(new Map),[g,h]=(0,a.useState)({state:"CLOSED",failureCount:0,successCount:0,lastStateChangeTime:Date.now()}),x=(0,a.useRef)(new Map),y=(0,a.useCallback)(e=>{let t=Math.min(d.initialDelay*Math.pow(d.backoffMultiplier,e),d.maxDelay);return Math.floor(d.jitter?t*(.5+Math.random()):t)},[d]),b=(0,a.useCallback)(e=>{h(t=>{let a=t.state,r=t.failureCount,l=t.successCount;return e?(r=0,l=t.successCount+1,"HALF_OPEN"===t.state&&l>=o.successThreshold&&(a="CLOSED",l=0,i&&console.log("[ErrorRecovery] Circuit breaker CLOSED after successful recovery"),s?.(!1))):(l=0,(r=t.failureCount+1)>=o.failureThreshold&&"CLOSED"===t.state&&(a="OPEN",i&&console.log("[ErrorRecovery] Circuit breaker OPENED due to repeated failures"),s?.(!0))),{...t,state:a,failureCount:r,successCount:l,lastFailureTime:e?t.lastFailureTime:Date.now(),lastStateChangeTime:a!==t.state?Date.now():t.lastStateChangeTime}})},[o,i,s]),p=(0,a.useCallback)(()=>{h(e=>"OPEN"===e.state&&Date.now()-e.lastStateChangeTime>=o.timeout?(i&&console.log("[ErrorRecovery] Circuit breaker transitioning to HALF_OPEN"),{...e,state:"HALF_OPEN",successCount:0,failureCount:0,lastStateChangeTime:Date.now()}):e)},[o.timeout,i]),f=(0,a.useCallback)((e,a,r="warning",s)=>{let l={id:e,error:a,severity:r,timestamp:Date.now(),retryCount:0,context:s};u(t=>new Map(t).set(e,l)),b(!1),t?.(l),i&&console.error("[ErrorRecovery] Error recorded:",{id:e,error:a instanceof Error?a.message:a,severity:r})},[b,t,i]),v=(0,a.useCallback)((e,t,a,s)=>{if(p(),"OPEN"===g.state){let t=Error("Circuit breaker is OPEN - too many failures");return f(e,t,"critical"),s?.(t),Promise.reject(t)}let l=(n=0)=>{if(n>=d.maxAttempts){let t=Error(`Max retry attempts (${d.maxAttempts}) exceeded for ${e}`);return f(e,t,"critical",{retryCount:n}),s?.(t),Promise.reject(t)}return t().then(t=>(x.current.delete(e),u(t=>{let a=new Map(t);return a.delete(e),a}),b(!0),a?.(t),i&&console.log("[ErrorRecovery] Operation succeeded:",{id:e,retryCount:n}),t)).catch(t=>{let a=y(n),s=Date.now()+a;return u(a=>{let r=new Map(a),l=r.get(e)??{id:e,error:t,severity:"warning",timestamp:Date.now(),retryCount:0};return l.retryCount=n+1,l.lastRetryTime=Date.now(),l.nextRetryTime=s,r.set(e,l),r}),r?.({id:e,error:t,severity:"warning",timestamp:Date.now(),retryCount:n+1,lastRetryTime:Date.now(),nextRetryTime:s}),i&&console.log("[ErrorRecovery] Retrying after",a,"ms:",{id:e,attempt:n+1,maxAttempts:d.maxAttempts}),new Promise((t,r)=>{let s=setTimeout(()=>l(n+1).then(t).catch(r),a),i=x.current.get(e)??{count:0};i.timeout=s,x.current.set(e,i)})})};return l()},[d,g,y,f,b,p,i]),k=(0,a.useCallback)(e=>{u(t=>{let a=new Map(t);return a.delete(e),a});let t=x.current.get(e);t?.timeout&&clearTimeout(t.timeout),x.current.delete(e)},[]),w=(0,a.useCallback)(()=>{x.current.forEach(({timeout:e})=>{e&&clearTimeout(e)}),x.current.clear(),u(new Map)},[]),j=(0,a.useCallback)(()=>{h({state:"CLOSED",failureCount:0,successCount:0,lastStateChangeTime:Date.now()}),i&&console.log("[ErrorRecovery] Circuit breaker reset to CLOSED"),s?.(!1)},[i,s]);return{errors:c,circuitBreaker:g,isCircuitBreakerOpen:"OPEN"===g.state,recordError:f,retry:v,clearError:k,clearAllErrors:w,resetCircuitBreaker:j,getError:e=>c.get(e),getAllErrors:()=>new Map(c),getErrorCount:()=>c.size,hasCriticalErrors:()=>Array.from(c.values()).some(e=>"critical"===e.severity)}}e.s(["useBandwidthUsage",()=>d,"useContentPerformance",()=>l,"useDeviceDistribution",()=>i,"useDeviceMetrics",()=>s,"usePlaylistPerformance",()=>o,"useUsageTrends",()=>n],50079),e.s(["useRealtimeEvents",()=>c],65255),e.s(["useOptimisticState",()=>u],62211),e.s(["useErrorRecovery",()=>m],47348),e.s([],69381)},10621,67236,e=>{"use strict";var t=e.i(13509),a=e.i(26670);function r({isOpen:e,onClose:r,title:s,children:l,size:n="md"}){let i=(0,a.useRef)(null);return((0,a.useEffect)(()=>{if(e){document.body.style.overflow="hidden";let e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",e)}}document.body.style.overflow="unset"},[e,r]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r,"aria-hidden":"true"}),(0,t.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]} w-full transform transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsx)("h3",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:s}),(0,t.jsx)("button",{ref:i,onClick:r,className:"text-gray-400 hover:text-gray-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":"Close modal",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"p-6",children:l})]})]})}):null}e.s(["default",()=>r],10621);var s=e.i(29554);function l({isOpen:e,onClose:a,onConfirm:r,title:l,message:n,confirmText:i="Confirm",cancelText:d="Cancel",type:o="danger"}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full transform transition-all",children:[(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:`flex-shrink-0 ${{danger:"text-error-600 dark:text-error-500",warning:"text-warning-600 dark:text-warning-500",info:"text-info-600 dark:text-info-500"}[o]}`,children:["danger"===o&&(0,t.jsx)(s.Icon,{name:"error",size:"2xl"}),"warning"===o&&(0,t.jsx)(s.Icon,{name:"warning",size:"2xl"}),"info"===o&&(0,t.jsx)(s.Icon,{name:"info",size:"2xl"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-2",children:l}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 px-6 py-4 flex justify-end gap-3 rounded-b-lg",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition",children:d}),(0,t.jsx)("button",{onClick:()=>{r(),a()},className:`px-4 py-2 text-sm font-medium text-white rounded-md transition ${{danger:"bg-error-600 dark:bg-error-500 hover:bg-error-700 dark:hover:bg-error-600",warning:"bg-warning-600 dark:bg-warning-500 hover:bg-warning-700 dark:hover:bg-warning-600",info:"bg-info-600 dark:bg-info-500 hover:bg-info-700 dark:hover:bg-info-600"}[o]}`,children:i})]})]})]})}):null}e.s(["default",()=>l],67236)},91097,e=>{"use strict";var t=e.i(13509),a=e.i(26670),r=e.i(24741),s=e.i(10621),l=e.i(67236),n=e.i(63358),i=e.i(69684),d=e.i(29554);function o({value:e,onChange:r,interval:s=15,showFormat:l="24h",className:n=""}){let[i,o]=(0,a.useState)(!1),[c,u]=e.split(":").map(Number),m=(0,a.useMemo)(()=>{let e=[];for(let t=0;t<24;t++)for(let a=0;a<60;a+=s){let r,s=`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}`;if("12h"===l){let e=t>=12?"PM":"AM",s=0===t?12:t>12?t-12:t;r=`${s}:${String(a).padStart(2,"0")} ${e}`}else r=s;e.push({label:r,value:s})}return e},[s,l]),g=m.find(t=>t.value===e),h=g?.label||e;return(0,t.jsx)("div",{className:n,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>o(!i),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-600 transition-colors",children:[(0,t.jsx)("span",{children:h}),(0,t.jsx)(d.Icon,{name:"chevronDown",size:"sm"})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),(0,t.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 z-20 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 p-2",children:[(0,t.jsx)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-2 py-1",children:"Common Times"}),[{label:"Start of Business (9:00 AM)",value:"09:00"},{label:"Lunch Time (12:00 PM)",value:"12:00"},{label:"End of Business (5:00 PM)",value:"17:00"},{label:"Evening (7:00 PM)",value:"19:00"},{label:"Midnight",value:"00:00"}].map(a=>(0,t.jsx)("button",{onClick:()=>{r(a.value),o(!1)},className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${e===a.value?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 font-semibold":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.label},a.value))]}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto",children:m.map(a=>(0,t.jsx)("button",{onClick:()=>{r(a.value),o(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${e===a.value?"bg-blue-500 dark:bg-blue-600 text-white font-semibold":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.label},a.value))})]})]})]})})}let c=[{id:"Monday",label:"Mon",fullLabel:"Monday"},{id:"Tuesday",label:"Tue",fullLabel:"Tuesday"},{id:"Wednesday",label:"Wed",fullLabel:"Wednesday"},{id:"Thursday",label:"Thu",fullLabel:"Thursday"},{id:"Friday",label:"Fri",fullLabel:"Friday"},{id:"Saturday",label:"Sat",fullLabel:"Saturday"},{id:"Sunday",label:"Sun",fullLabel:"Sunday"}];function u({selected:e,onChange:a,className:r=""}){let s=["Monday","Tuesday","Wednesday","Thursday","Friday"].every(t=>e.includes(t)),l=["Saturday","Sunday"].every(t=>e.includes(t));return(0,t.jsx)("div",{className:r,children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{7===e.length?a([]):a(c.map(e=>e.id))},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${7===e.length?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"All Days"}),(0,t.jsx)("button",{onClick:()=>{let t=["Monday","Tuesday","Wednesday","Thursday","Friday"];if(t.every(t=>e.includes(t)))a(e.filter(e=>!t.includes(e)));else{let r=new Set(e);t.forEach(e=>r.add(e)),a(Array.from(r))}},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${s?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Weekdays"}),(0,t.jsx)("button",{onClick:()=>{let t=["Saturday","Sunday"];if(t.every(t=>e.includes(t)))a(e.filter(e=>!t.includes(e)));else{let r=new Set(e);t.forEach(e=>r.add(e)),a(Array.from(r))}},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${l?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Weekends"})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:c.map(r=>{let s=e.includes(r.id);return(0,t.jsx)("button",{onClick:()=>{var t;return t=r.id,void(e.includes(t)?a(e.filter(e=>e!==t)):a([...e,t]))},className:`py-3 px-2 rounded-lg font-semibold text-sm transition-all ${s?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:r.fullLabel,children:r.label},r.id)})}),e.length>0&&(0,t.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.length})," day",1!==e.length?"s":""," selected:"," ",e.map(e=>c.find(t=>t.id===e)?.fullLabel).join(", ")]})}),0===e.length&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:"Please select at least one day"})})]})})}var m=e.i(62821);e.i(69381);var g=e.i(65255);function h(){let e=(0,m.useToast)(),[c,h]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),[b,p]=(0,a.useState)([]),[f,v]=(0,a.useState)(!0),[k,w]=(0,a.useState)(!1),[j,C]=(0,a.useState)("offline"),[N,S]=(0,a.useState)({}),[E,D]=(0,a.useState)(!1),[T,I]=(0,a.useState)(!1),[M,A]=(0,a.useState)(!1),[P,L]=(0,a.useState)(null),[R,$]=(0,a.useState)({name:"",startTime:"09:00",duration:60,days:["Monday","Tuesday","Wednesday","Thursday","Friday"],timezone:"America/New_York",playlistId:"",deviceIds:[]}),[z,F]=(0,a.useState)({}),{isConnected:O}=(0,g.useRealtimeEvents)({enabled:!0,onScheduleExecution:t=>{switch(console.log("[SchedulesPage] Schedule execution:",t),S(e=>({...e,[t.scheduleId]:{action:t.action,timestamp:t.timestamp,error:t.error,displayId:t.displayId}})),t.action){case"started":e.info(`Schedule started on device ${t.displayId?.substring(0,8)}...`);break;case"completed":e.success(`Schedule completed on device ${t.displayId?.substring(0,8)}...`);break;case"failed":e.error(`Schedule failed: ${t.error||"Unknown error"}`)}h(e=>e.map(e=>e.id===t.scheduleId?{...e,lastExecution:{action:t.action,timestamp:t.timestamp}}:e))},onConnectionChange:t=>{C(t?"connected":"offline"),t&&e.info("Real-time schedule monitoring enabled")}});(0,a.useEffect)(()=>{U()},[]);let U=async()=>{try{v(!0);let[e,t,a]=await Promise.allSettled([r.apiClient.getSchedules(),r.apiClient.getDisplays(),r.apiClient.getPlaylists()]);"fulfilled"===e.status&&h(e.value||[]),"fulfilled"===t.status&&y(t.value||[]),"fulfilled"===a.status&&p(a.value||[])}catch(t){e.error(t.message||"Failed to load data")}finally{v(!1)}},B=()=>{let e={};return R.name.trim()||(e.name="Schedule name is required"),0===R.days.length&&(e.days="Select at least one day"),R.playlistId||(e.playlistId="Select a playlist"),0===R.deviceIds.length&&(e.deviceIds="Select at least one device"),(R.duration<1||R.duration>1440)&&(e.duration="Duration must be between 1 and 1440 minutes"),F(e),0===Object.keys(e).length},_=async()=>{if(B())try{w(!0);let t={...R,id:Math.random().toString(36).substr(2,9),active:!0,createdAt:new Date,updatedAt:new Date};h([...c,t]),H(),D(!1),e.success("Schedule created successfully")}catch(t){e.error(t.message||"Failed to create schedule")}finally{w(!1)}},q=async()=>{if(B()&&P)try{w(!0),h(c.map(e=>e.id===P.id?{...P,...R}:e)),H(),I(!1),e.success("Schedule updated successfully")}catch(t){e.error(t.message||"Failed to update schedule")}finally{w(!1)}},W=async()=>{if(P)try{w(!0),h(c.filter(e=>e.id!==P.id)),A(!1),L(null),e.success("Schedule deleted successfully")}catch(t){e.error(t.message||"Failed to delete schedule")}finally{w(!1)}},H=()=>{$({name:"",startTime:"09:00",duration:60,days:["Monday","Tuesday","Wednesday","Thursday","Friday"],timezone:"America/New_York",playlistId:"",deviceIds:[]}),F({}),L(null)};return f?(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-12",children:(0,t.jsx)(n.default,{size:"lg"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50",children:"Schedules"}),(0,t.jsxs)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["Automate content playback with schedules (",c.length," total)"]})]}),(0,t.jsxs)("button",{onClick:()=>{H(),D(!0)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold shadow-md hover:shadow-lg flex items-center gap-2 active:scale-95",children:[(0,t.jsx)(d.Icon,{name:"add",size:"lg",className:"text-white"}),(0,t.jsx)("span",{children:"Create Schedule"})]})]}),0===c.length?(0,t.jsx)(i.default,{icon:"schedules",title:"No schedules yet",description:"Create your first schedule to automate content playback on your devices",action:{label:"Create Schedule",onClick:()=>{H(),D(!0)}}}):(0,t.jsx)("div",{className:"space-y-4",children:c.map(e=>{let a;return(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6 hover:shadow-lg transition border-l-4 border-blue-500",children:[(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)(d.Icon,{name:"schedules",size:"2xl",className:"text-blue-600 dark:text-blue-400"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-50 truncate",children:e.name}),(0,t.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",children:"Active"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Time:"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:((e,t)=>{let[a,r]=e.split(":").map(Number),s=Math.floor((60*a+r+t)/60)%24;return`${String(a).padStart(2,"0")}:${String(r).padStart(2,"0")} - ${String(s).padStart(2,"0")}:${String((60*a+r+t)%60).padStart(2,"0")}`})(e.startTime,e.duration)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Days:"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.days.join(", ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Playlist:"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 truncate",children:(a=e.playlistId,b.find(e=>e.id===a)?.name||"Unknown Playlist")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Devices:"}),(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 truncate",children:[e.deviceIds.length," device",1!==e.deviceIds.length?"s":""]})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{L(e),$({name:e.name,startTime:e.startTime,duration:e.duration,days:e.days,timezone:e.timezone,playlistId:e.playlistId,deviceIds:e.deviceIds}),F({}),I(!0)},className:"px-4 py-2 text-sm bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-200 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-800 transition font-medium active:scale-95",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>{L(e),$({name:e.name,startTime:e.startTime,duration:e.duration,days:e.days,timezone:e.timezone,playlistId:e.playlistId,deviceIds:e.deviceIds}),D(!0)},className:"px-4 py-2 text-sm bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition font-medium active:scale-95",children:"Duplicate"}),(0,t.jsx)("button",{onClick:()=>{L(e),A(!0)},className:"px-4 py-2 text-sm bg-red-50 dark:bg-red-900 text-red-600 dark:text-red-200 rounded-lg hover:bg-red-100 dark:hover:bg-red-800 transition font-medium active:scale-95",children:"Delete"})]})]},e.id)})}),c.length>0&&(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-3 flex items-center gap-2",children:[(0,t.jsx)(d.Icon,{name:"info",size:"md",className:"text-blue-600 dark:text-blue-400"}),"Tips for Using Schedules"]}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-2",children:[(0,t.jsx)("li",{children:"• Schedules automatically control which playlist plays at specific times"}),(0,t.jsx)("li",{children:"• You can overlap schedules - the most recently created one takes precedence"}),(0,t.jsx)("li",{children:"• Devices will sync schedule changes automatically"}),(0,t.jsx)("li",{children:"• If a device is offline, it will apply the schedule when it comes back online"})]})]}),(E||T)&&(0,t.jsx)(s.default,{open:E||T,onClose:()=>{E&&D(!1),T&&I(!1),H()},title:P?"Edit Schedule":"Create Schedule",actions:[{label:"Cancel",onClick:()=>{E&&D(!1),T&&I(!1),H()},variant:"secondary"},{label:P?"Update":"Create",onClick:P?q:_,loading:k,variant:"primary"}],children:(0,t.jsxs)("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-2",children:["Schedule Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:R.name,onChange:e=>{$({...R,name:e.target.value}),z.name&&F({...z,name:""})},placeholder:"e.g., Morning Content, Holiday Special",className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500 transition ${z.name?"border-red-500":"border-gray-300 dark:border-gray-700"}`}),z.name&&(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:z.name})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-2",children:["Start Time ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(o,{value:R.startTime,onChange:e=>$({...R,startTime:e}),interval:15,showFormat:"24h"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-2",children:["Duration (minutes) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",value:R.duration,onChange:e=>{$({...R,duration:Math.max(1,parseInt(e.target.value)||0)}),z.duration&&F({...z,duration:""})},min:"1",max:"1440",className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500 transition ${z.duration?"border-red-500":"border-gray-300 dark:border-gray-700"}`}),z.duration&&(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:z.duration})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-2",children:["Timezone ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:R.timezone,onChange:e=>$({...R,timezone:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500 transition",children:[(0,t.jsx)("option",{value:"America/New_York",children:"Eastern (America/New_York)"}),(0,t.jsx)("option",{value:"America/Chicago",children:"Central (America/Chicago)"}),(0,t.jsx)("option",{value:"America/Denver",children:"Mountain (America/Denver)"}),(0,t.jsx)("option",{value:"America/Los_Angeles",children:"Pacific (America/Los_Angeles)"}),(0,t.jsx)("option",{value:"UTC",children:"UTC"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-3",children:["Schedule Days ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(u,{selected:R.days,onChange:e=>{$({...R,days:e}),z.days&&F({...z,days:""})}}),z.days&&(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2",children:z.days})]}),R.days.length>0&&(0,t.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-purple-900 dark:text-purple-200 mb-2",children:"Next 10 Occurrences:"}),(0,t.jsx)("div",{className:"text-xs text-purple-800 dark:text-purple-300",children:(()=>{let e=[],t=new Date(new Date);for(;e.length<10;){let a=t.toLocaleDateString("en-US",{weekday:"long"});R.days.includes(a)&&e.push(t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})),t.setDate(t.getDate()+1)}return e})().join(" • ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-2",children:["Playlist ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:R.playlistId,onChange:e=>{$({...R,playlistId:e.target.value}),z.playlistId&&F({...z,playlistId:""})},className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500 transition ${z.playlistId?"border-red-500":"border-gray-300 dark:border-gray-700"}`,children:[(0,t.jsx)("option",{value:"",children:"Select a playlist..."}),b.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),z.playlistId&&(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:z.playlistId})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-50 mb-2",children:["Devices ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-300 dark:border-gray-700 rounded-lg p-3 bg-white dark:bg-gray-800",children:0===x.length?(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No devices available"}):x.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.deviceIds.includes(e.id),onChange:t=>{let a=t.target.checked?[...R.deviceIds,e.id]:R.deviceIds.filter(t=>t!==e.id);$({...R,deviceIds:a}),z.deviceIds&&F({...z,deviceIds:""})},className:"rounded border-gray-300 dark:border-gray-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.nickname})]},e.id))}),z.deviceIds&&(0,t.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:z.deviceIds}),R.deviceIds.length>0&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[R.deviceIds.length," device",1!==R.deviceIds.length?"s":""," selected"]})]})]})}),M&&P&&(0,t.jsx)(l.default,{open:M,onClose:()=>{A(!1),L(null)},title:"Delete Schedule",description:`Are you sure you want to delete "${P.name}"? This action cannot be undone.`,onConfirm:W,loading:k,variant:"danger"})]})}e.s(["default",()=>h],91097)}]);