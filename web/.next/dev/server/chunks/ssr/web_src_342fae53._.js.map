{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/api.ts"],"sourcesContent":["// API Client for Vizora Middleware\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';\n\nclass ApiClient {\n  private baseUrl: string;\n  private token: string | null = null;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n    // Load token from localStorage if available\n    if (typeof window !== 'undefined') {\n      this.token = localStorage.getItem('authToken');\n    }\n  }\n\n  setToken(token: string) {\n    this.token = token;\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('authToken', token);\n    }\n  }\n\n  clearToken() {\n    this.token = null;\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('authToken');\n    }\n  }\n\n  private async request<T>(\n    endpoint: string,\n    options: RequestInit = {}\n  ): Promise<T> {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n      ...(this.token && { Authorization: `Bearer ${this.token}` }),\n      ...options.headers,\n    };\n\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      ...options,\n      headers,\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ message: 'Request failed' }));\n      throw new Error(error.message || `HTTP ${response.status}`);\n    }\n\n    return response.json();\n  }\n\n  // Auth\n  async login(email: string, password: string) {\n    const data = await this.request<{ access_token: string }>('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n    this.setToken(data.access_token);\n    return data;\n  }\n\n  async register(email: string, password: string, organizationName: string) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify({ email, password, organizationName }),\n    });\n  }\n\n  // Displays\n  async getDisplays(params?: { page?: number; limit?: number }) {\n    const query = new URLSearchParams(params as any).toString();\n    return this.request<any>(`/displays${query ? `?${query}` : ''}`);\n  }\n\n  async getDisplay(id: string) {\n    return this.request<any>(`/displays/${id}`);\n  }\n\n  async createDisplay(data: { nickname: string; location?: string }) {\n    return this.request<any>('/displays', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateDisplay(id: string, data: Partial<{ nickname: string; location?: string }>) {\n    return this.request<any>(`/displays/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteDisplay(id: string) {\n    return this.request<any>(`/displays/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async generatePairingToken(id: string) {\n    return this.request<{ pairingCode: string }>(`/displays/${id}/pair`, {\n      method: 'POST',\n    });\n  }\n\n  // Content\n  async getContent(params?: { page?: number; limit?: number; type?: string; status?: string }) {\n    const query = new URLSearchParams(params as any).toString();\n    return this.request<any>(`/content${query ? `?${query}` : ''}`);\n  }\n\n  async getContentItem(id: string) {\n    return this.request<any>(`/content/${id}`);\n  }\n\n  async createContent(data: {\n    title: string;\n    type: string;\n    url?: string;\n    metadata?: any;\n  }) {\n    return this.request<any>('/content', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateContent(id: string, data: Partial<{ title: string; metadata?: any }>) {\n    return this.request<any>(`/content/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteContent(id: string) {\n    return this.request<any>(`/content/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async archiveContent(id: string) {\n    return this.request<any>(`/content/${id}/archive`, {\n      method: 'POST',\n    });\n  }\n\n  // Playlists\n  async getPlaylists(params?: { page?: number; limit?: number }) {\n    const query = new URLSearchParams(params as any).toString();\n    return this.request<any>(`/playlists${query ? `?${query}` : ''}`);\n  }\n\n  async getPlaylist(id: string) {\n    return this.request<any>(`/playlists/${id}`);\n  }\n\n  async createPlaylist(data: {\n    name: string;\n    description?: string;\n    items?: Array<{ contentId: string; duration?: number }>;\n  }) {\n    return this.request<any>('/playlists', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updatePlaylist(id: string, data: Partial<{\n    name: string;\n    description?: string;\n  }>) {\n    return this.request<any>(`/playlists/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deletePlaylist(id: string) {\n    return this.request<any>(`/playlists/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async addPlaylistItem(playlistId: string, contentId: string, duration?: number) {\n    return this.request<any>(`/playlists/${playlistId}/items`, {\n      method: 'POST',\n      body: JSON.stringify({ contentId, duration }),\n    });\n  }\n\n  async removePlaylistItem(playlistId: string, itemId: string) {\n    return this.request<any>(`/playlists/${playlistId}/items/${itemId}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Schedules\n  async getSchedules(params?: { page?: number; limit?: number }) {\n    const query = new URLSearchParams(params as any).toString();\n    return this.request<any>(`/schedules${query ? `?${query}` : ''}`);\n  }\n\n  async createSchedule(data: any) {\n    return this.request<any>('/schedules', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateSchedule(id: string, data: any) {\n    return this.request<any>(`/schedules/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteSchedule(id: string) {\n    return this.request<any>(`/schedules/${id}`, {\n      method: 'DELETE',\n    });\n  }\n}\n\nexport const apiClient = new ApiClient(API_BASE_URL);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/LoadingSpinner.tsx"],"sourcesContent":["export default function LoadingSpinner({ size = 'md' }: { size?: 'sm' | 'md' | 'lg' }) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  return (\n    <div className=\"flex items-center justify-center\">\n      <div\n        className={`${sizeClasses[size]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,eAAe,EAAE,OAAO,IAAI,EAAiC;IACnF,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6VAAC;QAAI,WAAU;kBACb,cAAA,6VAAC;YACC,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,qEAAqE,CAAC;;;;;;;;;;;AAI9G"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/components/Toast.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport type ToastType = 'success' | 'error' | 'info' | 'warning';\n\ninterface ToastProps {\n  message: string;\n  type: ToastType;\n  onClose: () => void;\n  duration?: number;\n}\n\nexport default function Toast({ message, type, onClose, duration = 5000 }: ToastProps) {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsVisible(false);\n      setTimeout(onClose, 300);\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  const colors = {\n    success: 'bg-green-500',\n    error: 'bg-red-500',\n    info: 'bg-blue-500',\n    warning: 'bg-yellow-500',\n  };\n\n  const icons = {\n    success: '‚úì',\n    error: '‚úï',\n    info: '‚Ñπ',\n    warning: '‚ö†',\n  };\n\n  return (\n    <div\n      className={`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${\n        colors[type]\n      } transform transition-all duration-300 ${\n        isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'\n      }`}\n    >\n      <span className=\"text-xl font-bold\">{icons[type]}</span>\n      <span className=\"font-medium\">{message}</span>\n      <button\n        onClick={() => {\n          setIsVisible(false);\n          setTimeout(onClose, 300);\n        }}\n        className=\"ml-4 hover:opacity-75 transition\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path\n            fillRule=\"evenodd\"\n            d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAae,SAAS,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,IAAI,EAAc;IACnF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAE3C,IAAA,iUAAS,EAAC;QACR,MAAM,QAAQ,WAAW;YACvB,aAAa;YACb,WAAW,SAAS;QACtB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,SAAS;QACb,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,qBACE,6VAAC;QACC,WAAW,CAAC,2FAA2F,EACrG,MAAM,CAAC,KAAK,CACb,uCAAuC,EACtC,YAAY,8BAA8B,8BAC1C;;0BAEF,6VAAC;gBAAK,WAAU;0BAAqB,KAAK,CAAC,KAAK;;;;;;0BAChD,6VAAC;gBAAK,WAAU;0BAAe;;;;;;0BAC/B,6VAAC;gBACC,SAAS;oBACP,aAAa;oBACb,WAAW,SAAS;gBACtB;gBACA,WAAU;0BAEV,cAAA,6VAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAe,SAAQ;8BACnD,cAAA,6VAAC;wBACC,UAAS;wBACT,GAAE;wBACF,UAAS;;;;;;;;;;;;;;;;;;;;;;AAMrB"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/lib/hooks/useToast.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport Toast, { ToastType } from '@/components/Toast';\n\ninterface ToastItem {\n  id: string;\n  message: string;\n  type: ToastType;\n}\n\nexport function useToast() {\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\n\n  const showToast = useCallback((message: string, type: ToastType = 'info') => {\n    const id = Math.random().toString(36).substring(7);\n    setToasts((prev) => [...prev, { id, message, type }]);\n  }, []);\n\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  const ToastContainer = useCallback(\n    () => (\n      <>\n        {toasts.map((toast) => (\n          <Toast\n            key={toast.id}\n            message={toast.message}\n            type={toast.type}\n            onClose={() => removeToast(toast.id)}\n          />\n        ))}\n      </>\n    ),\n    [toasts, removeToast]\n  );\n\n  return {\n    showToast,\n    success: (message: string) => showToast(message, 'success'),\n    error: (message: string) => showToast(message, 'error'),\n    info: (message: string) => showToast(message, 'info'),\n    warning: (message: string) => showToast(message, 'warning'),\n    ToastContainer,\n  };\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gUAAQ,EAAc,EAAE;IAEpD,MAAM,YAAY,IAAA,mUAAW,EAAC,CAAC,SAAiB,OAAkB,MAAM;QACtE,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC;QAChD,UAAU,CAAC,OAAS;mBAAI;gBAAM;oBAAE;oBAAI;oBAAS;gBAAK;aAAE;IACtD,GAAG,EAAE;IAEL,MAAM,cAAc,IAAA,mUAAW,EAAC,CAAC;QAC/B,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;IAC1D,GAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,mUAAW,EAChC,kBACE;sBACG,OAAO,GAAG,CAAC,CAAC,sBACX,6VAAC,6IAAK;oBAEJ,SAAS,MAAM,OAAO;oBACtB,MAAM,MAAM,IAAI;oBAChB,SAAS,IAAM,YAAY,MAAM,EAAE;mBAH9B,MAAM,EAAE;;;;;2BAQrB;QAAC;QAAQ;KAAY;IAGvB,OAAO;QACL;QACA,SAAS,CAAC,UAAoB,UAAU,SAAS;QACjD,OAAO,CAAC,UAAoB,UAAU,SAAS;QAC/C,MAAM,CAAC,UAAoB,UAAU,SAAS;QAC9C,SAAS,CAAC,UAAoB,UAAU,SAAS;QACjD;IACF;AACF"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/vizora/vizora/web/src/app/dashboard/devices/pair/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { apiClient } from '@/lib/api';\nimport LoadingSpinner from '@/components/LoadingSpinner';\nimport { useToast } from '@/lib/hooks/useToast';\n\nexport default function PairDevicePage() {\n  const router = useRouter();\n  const toast = useToast();\n  const [step, setStep] = useState(1);\n  const [form, setForm] = useState({\n    nickname: '',\n    location: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [pairingCode, setPairingCode] = useState('');\n  const [deviceId, setDeviceId] = useState('');\n\n  const handleCreateDevice = async () => {\n    if (!form.nickname.trim()) {\n      toast.error('Please enter a device nickname');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const device = await apiClient.createDisplay({\n        nickname: form.nickname,\n        location: form.location || undefined,\n      });\n      setDeviceId(device.id);\n\n      // Generate pairing code\n      const pairingRes = await apiClient.generatePairingToken(device.id);\n      setPairingCode(pairingRes.pairingCode || 'N/A');\n      \n      toast.success('Device created successfully!');\n      setStep(2);\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to create device');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFinish = () => {\n    router.push('/dashboard/devices');\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto space-y-6\">\n      <toast.ToastContainer />\n\n      {/* Header */}\n      <div className=\"text-center\">\n        <h2 className=\"text-3xl font-bold text-gray-900\">Pair New Device</h2>\n        <p className=\"mt-2 text-gray-600\">\n          Follow these steps to add a new display device\n        </p>\n      </div>\n\n      {/* Progress Steps */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"flex items-center justify-center gap-4\">\n          <div\n            className={`flex items-center justify-center w-10 h-10 rounded-full font-bold ${\n              step >= 1\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-200 text-gray-500'\n            }`}\n          >\n            1\n          </div>\n          <div\n            className={`h-1 w-20 ${\n              step >= 2 ? 'bg-blue-600' : 'bg-gray-200'\n            }`}\n          />\n          <div\n            className={`flex items-center justify-center w-10 h-10 rounded-full font-bold ${\n              step >= 2\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-200 text-gray-500'\n            }`}\n          >\n            2\n          </div>\n          <div\n            className={`h-1 w-20 ${\n              step >= 3 ? 'bg-blue-600' : 'bg-gray-200'\n            }`}\n          />\n          <div\n            className={`flex items-center justify-center w-10 h-10 rounded-full font-bold ${\n              step >= 3\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-200 text-gray-500'\n            }`}\n          >\n            3\n          </div>\n        </div>\n        <div className=\"flex items-center justify-between mt-3 text-sm\">\n          <span className={step >= 1 ? 'text-blue-600 font-medium' : 'text-gray-500'}>\n            Device Info\n          </span>\n          <span className={step >= 2 ? 'text-blue-600 font-medium' : 'text-gray-500'}>\n            Pairing Code\n          </span>\n          <span className={step >= 3 ? 'text-blue-600 font-medium' : 'text-gray-500'}>\n            Complete\n          </span>\n        </div>\n      </div>\n\n      {/* Step 1: Device Information */}\n      {step === 1 && (\n        <div className=\"bg-white rounded-lg shadow-md p-8\">\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">\n            Step 1: Device Information\n          </h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Device Nickname *\n              </label>\n              <input\n                type=\"text\"\n                value={form.nickname}\n                onChange={(e) => setForm({ ...form, nickname: e.target.value })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"e.g., Store Front Display, Lobby Screen\"\n                autoFocus\n              />\n              <p className=\"mt-2 text-xs text-gray-500\">\n                Choose a name that helps you identify this device\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Location (Optional)\n              </label>\n              <input\n                type=\"text\"\n                value={form.location}\n                onChange={(e) => setForm({ ...form, location: e.target.value })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"e.g., Main Entrance, Floor 2\"\n              />\n              <p className=\"mt-2 text-xs text-gray-500\">\n                Physical location of the display (optional)\n              </p>\n            </div>\n            <div className=\"flex justify-between pt-6\">\n              <button\n                onClick={() => router.push('/dashboard/devices')}\n                className=\"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCreateDevice}\n                className=\"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2\"\n                disabled={loading || !form.nickname.trim()}\n              >\n                {loading && <LoadingSpinner size=\"sm\" />}\n                Continue\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Step 2: Pairing Code */}\n      {step === 2 && (\n        <div className=\"bg-white rounded-lg shadow-md p-8\">\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">\n            Step 2: Enter Pairing Code on Device\n          </h3>\n          <div className=\"text-center space-y-6\">\n            <div className=\"text-6xl mb-4\">üì∫</div>\n            <p className=\"text-gray-600\">\n              Open the Vizora Display App on your device and enter this pairing code:\n            </p>\n            <div className=\"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-8\">\n              <div className=\"text-6xl font-bold text-blue-600 tracking-widest\">\n                {pairingCode}\n              </div>\n            </div>\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n              <p className=\"text-sm text-yellow-800\">\n                ‚è∞ This code will expire in 5 minutes\n              </p>\n            </div>\n            <div className=\"pt-6 space-y-3\">\n              <p className=\"text-sm text-gray-600\">\n                Once the device is paired, click the button below to continue.\n              </p>\n              <button\n                onClick={() => setStep(3)}\n                className=\"w-full px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition\"\n              >\n                Device Paired - Continue\n              </button>\n              <button\n                onClick={async () => {\n                  try {\n                    setLoading(true);\n                    const pairingRes = await apiClient.generatePairingToken(deviceId);\n                    setPairingCode(pairingRes.pairingCode || 'N/A');\n                    toast.success('New pairing code generated');\n                  } catch (error: any) {\n                    toast.error(error.message || 'Failed to generate new code');\n                  } finally {\n                    setLoading(false);\n                  }\n                }}\n                className=\"w-full px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n                disabled={loading}\n              >\n                Generate New Code\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Complete */}\n      {step === 3 && (\n        <div className=\"bg-white rounded-lg shadow-md p-8\">\n          <div className=\"text-center space-y-6\">\n            <div className=\"text-6xl mb-4\">‚úÖ</div>\n            <h3 className=\"text-2xl font-semibold text-gray-900\">\n              Device Paired Successfully!\n            </h3>\n            <p className=\"text-gray-600\">\n              Your device \"{form.nickname}\" has been added to your account.\n            </p>\n            <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6\">\n              <h4 className=\"font-semibold text-gray-900 mb-3\">Next Steps:</h4>\n              <ul className=\"text-left text-sm text-gray-700 space-y-2\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600\">üì§</span>\n                  <span>Upload content to your library</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-purple-600\">üìã</span>\n                  <span>Create a playlist with your content</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-green-600\">üöÄ</span>\n                  <span>Assign the playlist to your device</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-orange-600\">üìÖ</span>\n                  <span>Set up schedules (optional)</span>\n                </li>\n              </ul>\n            </div>\n            <div className=\"flex gap-3 pt-6\">\n              <button\n                onClick={() => router.push('/dashboard/content')}\n                className=\"flex-1 px-6 py-3 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition\"\n              >\n                Upload Content\n              </button>\n              <button\n                onClick={handleFinish}\n                className=\"flex-1 px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition\"\n              >\n                View Devices\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Help Section */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n        <h4 className=\"font-semibold text-blue-900 mb-3\">Need Help?</h4>\n        <ul className=\"text-sm text-blue-800 space-y-2\">\n          <li>‚Ä¢ Make sure the Vizora Display App is installed on your device</li>\n          <li>‚Ä¢ Ensure the device is connected to the internet</li>\n          <li>‚Ä¢ The pairing code is case-sensitive</li>\n          <li>‚Ä¢ Contact support if you encounter any issues</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}