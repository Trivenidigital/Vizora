(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63358,e=>{"use strict";var r=e.i(13509);function t({size:e="md"}){return(0,r.jsx)("div",{className:"flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading",children:(0,r.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`,"aria-hidden":"true"})})}e.s(["default",()=>t])},62821,e=>{"use strict";var r=e.i(13509),t=e.i(26670),a=e.i(29554);function s({message:e,type:s,onClose:l,duration:i=5e3}){let[d,o]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{let e=setTimeout(()=>{o(!1),setTimeout(l,300)},i);return()=>clearTimeout(e)},[i,l]),(0,r.jsxs)("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-6 py-4 rounded-lg shadow-lg text-white ${{success:"bg-success-500 text-white",error:"bg-error-500 text-white",info:"bg-info-500 text-white",warning:"bg-warning-500 text-white"}[s]} transform transition-all duration-300 ${d?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[(0,r.jsx)(a.Icon,{name:{success:"success",error:"delete",info:"info",warning:"warning"}[s],size:"md",className:"text-white"}),(0,r.jsx)("span",{className:"font-medium",children:e}),(0,r.jsx)("button",{onClick:()=>{o(!1),setTimeout(l,300)},className:"ml-4 hover:opacity-75 transition",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function l(){let[e,a]=(0,t.useState)([]),l=(0,t.useCallback)(e=>{a(r=>r.filter(r=>r.id!==e))},[]),i=(0,t.useCallback)((e,r="info",t=5e3)=>{let s=Math.random().toString(36).substring(7);a(t=>[...t,{id:s,message:e,type:r}]),t>0&&setTimeout(()=>{l(s)},t)},[l]);return{showToast:i,success:e=>i(e,"success"),error:e=>i(e,"error"),info:e=>i(e,"info"),warning:e=>i(e,"warning"),ToastContainer:(0,t.useCallback)(()=>(0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(s,{message:e.message,type:e.type,onClose:()=>l(e.id)},e.id))}),[e,l])}}e.s(["useToast",()=>l],62821)},69684,e=>{"use strict";var r=e.i(13509),t=e.i(29554);function a({icon:e,title:a,description:s,action:l,variant:i="default"}){return"minimal"===i?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,r.jsx)(t.Icon,{name:e,size:"2xl",className:"text-gray-300 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a}),(0,r.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:s}),l&&(0,r.jsx)("button",{onClick:l.onClick,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:l.label})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm",children:(0,r.jsx)(t.Icon,{name:e,size:"2xl",className:"text-blue-600"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a}),(0,r.jsx)("p",{className:"text-gray-600 text-center max-w-sm mb-6",children:s}),l&&(0,r.jsx)("button",{onClick:l.onClick,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:l.label})]})}e.s(["default",()=>a])},39280,51430,e=>{"use strict";var r=e.i(13509);function t({value:e,onChange:t,placeholder:a="Search...",className:s=""}){return(0,r.jsx)("div",{className:`bg-white dark:bg-gray-900 rounded-lg shadow p-4 ${s}`,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:a,className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"off"}),(0,r.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e&&(0,r.jsx)("button",{onClick:()=>t(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}e.s(["default",()=>t],39280);var a=e.i(26670);function s(e,r=300){let[t,l]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let t=setTimeout(()=>{l(e)},r);return()=>{clearTimeout(t)}},[e,r]),t}e.s(["useDebounce",()=>s],51430)},54678,e=>{"use strict";var r=e.i(13509),t=e.i(26670),a=e.i(24741),s=e.i(29554);let l=({label:e,value:t,unit:a,thresholds:s})=>(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e}),(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[t.toFixed(1),a]})]}),(0,r.jsx)("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:`h-full ${t>=s.critical?"bg-red-500":t>=s.warning?"bg-yellow-500":"bg-green-500"} transition-all`,style:{width:`${Math.min(t,100)}%`}})})]});function i({health:e,showTemperature:t=!0,showUptime:a=!0,compact:i=!1,className:d=""}){var o;let n=(o=e.score)>=90?{label:"Excellent",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900"}:o>=70?{label:"Good",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900"}:o>=50?{label:"Fair",color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-100 dark:bg-yellow-900"}:{label:"Poor",color:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900"};return i?(0,r.jsxs)("div",{className:`flex items-center gap-2 ${d}`,children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Health:"}),(0,r.jsxs)("div",{className:`px-2 py-1 rounded text-xs font-semibold ${n.bgColor} ${n.color}`,children:[e.score,"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.label})]}):(0,r.jsxs)("div",{className:`bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 p-4 space-y-4 ${d}`,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:"Device Health"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Updated ",new Date(e.lastHeartbeat).toLocaleTimeString()]})]}),(0,r.jsxs)("div",{className:`text-right ${n.color}`,children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[e.score,"%"]}),(0,r.jsx)("div",{className:"text-xs font-medium",children:n.label})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)(l,{label:"CPU",value:e.cpuUsage,unit:"%",thresholds:{warning:70,critical:85}})}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)(l,{label:"Memory",value:e.memoryUsage,unit:"%",thresholds:{warning:75,critical:90}})}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)(l,{label:"Storage",value:e.storageUsage,unit:"%",thresholds:{warning:80,critical:95}})}),t&&(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)(l,{label:"Temperature",value:e.temperature,unit:"¬∞C",thresholds:{warning:50,critical:65}})})]}),a&&(0,r.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Uptime"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:e.uptime>=24?`${(e.uptime/24).toFixed(1)} days`:`${e.uptime.toFixed(1)} hours`})]})}),e.score<70&&(0,r.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-800",children:(0,r.jsxs)("div",{className:`px-3 py-2 rounded text-xs font-medium ${n.bgColor} ${n.color} flex items-center gap-2`,children:[(0,r.jsx)(s.Icon,{name:"alertTriangle",size:"sm"}),(0,r.jsx)("span",{children:e.score<50?"Device health is poor. Recommended immediate maintenance.":"Device health is degraded. Monitor closely."})]})})]})}var d=e.i(63358),o=e.i(69684),n=e.i(39280),c=e.i(62821),x=e.i(51430);function m(){let e=(0,c.useToast)(),[l,m]=(0,t.useState)([]),[g,h]=(0,t.useState)({}),[u,b]=(0,t.useState)(!0),[y,p]=(0,t.useState)(""),j=(0,x.useDebounce)(y,300),[f,v]=(0,t.useState)("health"),[w,N]=(0,t.useState)("desc");(0,t.useEffect)(()=>{k()},[]),(0,t.useEffect)(()=>{let e=setInterval(()=>{k()},1e4);return()=>clearInterval(e)},[]);let k=async()=>{try{b(!0);let e=await a.apiClient.getDisplays(),r=e.data||e||[];m(r);let t={};r.forEach(e=>{var r;let a;t[e.id]=(r=e.id,e.nickname,a=40*Math.random()+60,{deviceId:r,cpuUsage:Math.floor(80*Math.random()),memoryUsage:Math.floor(75*Math.random()),storageUsage:Math.floor(60*Math.random()),temperature:Math.floor(30*Math.random()+35),uptime:Math.floor(720*Math.random()),lastHeartbeat:new Date(Date.now()-3e5*Math.random()),score:Math.floor(a)})}),h(t)}catch(r){e.error(r.message||"Failed to load device health")}finally{b(!1)}},C=[...l.filter(e=>!j||e.nickname.toLowerCase().includes(j.toLowerCase())||e.location&&e.location.toLowerCase().includes(j.toLowerCase()))].sort((e,r)=>{let t=0,a=g[e.id],s=g[r.id];switch(f){case"name":t=e.nickname.localeCompare(r.nickname);break;case"health":t=(a?.score||0)-(s?.score||0);break;case"cpu":t=(a?.cpuUsage||0)-(s?.cpuUsage||0);break;case"memory":t=(a?.memoryUsage||0)-(s?.memoryUsage||0);break;default:t=0}return"asc"===w?t:-t}),M={totalDevices:l.length,healthy:l.filter(e=>(g[e.id]?.score||0)>=80).length,warning:l.filter(e=>{let r=g[e.id]?.score||0;return r>=50&&r<80}).length,critical:l.filter(e=>50>(g[e.id]?.score||0)).length};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(e.ToastContainer,{}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50",children:"Device Health"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Monitor device performance and system health"})]}),(0,r.jsxs)("button",{onClick:k,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold shadow-md hover:shadow-lg flex items-center gap-2",children:[(0,r.jsx)(s.Icon,{name:"download",size:"lg",className:"text-white"}),(0,r.jsx)("span",{children:"Refresh"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-blue-500",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Devices"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-50 mt-2",children:M.totalDevices})]}),(0,r.jsx)(s.Icon,{name:"devices",size:"3xl",className:"text-blue-500 opacity-20"})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-green-500",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Healthy"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:M.healthy})]}),(0,r.jsx)(s.Icon,{name:"success",size:"3xl",className:"text-green-500 opacity-20"})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-yellow-500",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Warnings"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:M.warning})]}),(0,r.jsx)(s.Icon,{name:"warning",size:"3xl",className:"text-yellow-500 opacity-20"})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-6 border-t-4 border-red-500",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Critical"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-2",children:M.critical})]}),(0,r.jsx)(s.Icon,{name:"error",size:"3xl",className:"text-red-500 opacity-20"})]})})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:items-end",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(n.default,{value:y,onChange:p,placeholder:"Search devices by name or location..."})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"health",children:"Sort by Health"}),(0,r.jsx)("option",{value:"name",children:"Sort by Name"}),(0,r.jsx)("option",{value:"cpu",children:"Sort by CPU"}),(0,r.jsx)("option",{value:"memory",children:"Sort by Memory"})]}),(0,r.jsx)("button",{onClick:()=>N("asc"===w?"desc":"asc"),className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 transition font-medium",children:"asc"===w?"‚Üë":"‚Üì"})]})]}),u?(0,r.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-12",children:(0,r.jsx)(d.default,{size:"lg"})}):0===C.length?(0,r.jsx)(o.default,{icon:"devices",title:"No devices found",description:"Pair a device to begin monitoring health metrics",action:{label:"Pair Device",onClick:()=>window.location.href="/dashboard/devices/pair"}}):(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:C.map(e=>{var t,a;let s=g[e.id];if(!s)return null;let l=(t=s.score)>=90?{label:"Excellent",color:"text-green-700 dark:text-green-300"}:t>=70?{label:"Good",color:"text-blue-700 dark:text-blue-300"}:t>=50?{label:"Fair",color:"text-yellow-700 dark:text-yellow-300"}:{label:"Poor",color:"text-red-700 dark:text-red-300"};return(0,r.jsxs)("div",{className:`rounded-lg shadow border p-6 transition-all hover:shadow-lg ${(a=s.score)>=90?"bg-green-50 dark:bg-green-900 border-green-200 dark:border-green-700":a>=70?"bg-blue-50 dark:bg-blue-900 border-blue-200 dark:border-blue-700":a>=50?"bg-yellow-50 dark:bg-yellow-900 border-yellow-200 dark:border-yellow-700":"bg-red-50 dark:bg-red-900 border-red-200 dark:border-red-700"}`,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:e.nickname}),e.location&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["üìç ",e.location]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:`text-2xl font-bold ${l.color}`,children:s.score}),(0,r.jsx)("p",{className:`text-xs font-semibold ${l.color}`,children:l.label})]})]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(i,{health:s,showTemperature:!0,showUptime:!0,compact:!1})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,r.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 p-2 rounded",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Uptime"}),(0,r.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-50",children:[Math.floor(s.uptime/24),"d ",s.uptime%24,"h"]})]}),(0,r.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 p-2 rounded",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Temp"}),(0,r.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-50",children:[s.temperature,"¬∞C"]})]}),(0,r.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 p-2 rounded col-span-2",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-1",children:"Last Heartbeat"}),(0,r.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-50 text-xs",children:[Math.round((Date.now()-s.lastHeartbeat.getTime())/1e3),"s ago"]})]})]}),s.score<50&&(0,r.jsx)("div",{className:"mt-4 bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 rounded p-3",children:(0,r.jsx)("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"‚ö†Ô∏è Critical: Device performance degraded. Consider maintenance."})}),s.score<70&&s.score>=50&&(0,r.jsx)("div",{className:"mt-4 bg-yellow-100 dark:bg-yellow-900 border border-yellow-300 dark:border-yellow-700 rounded p-3",children:(0,r.jsx)("p",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-200",children:"‚ö° Warning: Some metrics need attention."})})]},e.id)})})]})}e.s(["default",()=>m],54678)}]);