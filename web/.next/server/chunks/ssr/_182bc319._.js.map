{"version":3,"sources":["../../../../../node_modules/.pnpm/next%4016.0.11_%40babel%2Bcore%407._2c2d61b4ce987e30ba34ffda50ec852c/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../../web/src/components/LoadingSpinner.tsx","../../../../../web/src/components/Button.tsx","../../../../../web/src/app/%28auth%29/login-content.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","export default function LoadingSpinner({ size = 'md' }: { size?: 'sm' | 'md' | 'lg' }) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  return (\n    <div className=\"flex items-center justify-center\" role=\"status\" aria-live=\"polite\" aria-label=\"Loading\">\n      <div\n        className={`${sizeClasses[size]} border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin`}\n        aria-hidden=\"true\"\n      />\n    </div>\n  );\n}\n","'use client';\n\nimport { ButtonHTMLAttributes } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'success';\n  size?: 'sm' | 'md' | 'lg';\n  loading?: boolean;\n  children: React.ReactNode;\n}\n\nexport default function Button({\n  variant = 'primary',\n  size = 'md',\n  loading = false,\n  disabled,\n  children,\n  className = '',\n  ...props\n}: ButtonProps) {\n  const baseClasses = 'font-semibold rounded-lg transition-all duration-200 focus:outline-2 focus:outline-offset-2 focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 active:scale-95 hover:scale-105';\n  \n  const variantClasses = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',\n    secondary: 'bg-gray-200 text-gray-700 hover:bg-gray-300 focus:ring-gray-500',\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\n    success: 'bg-green-600 text-white hover:bg-green-700 focus:ring-green-500',\n  };\n  \n  const sizeClasses = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-sm',\n    lg: 'px-6 py-3 text-base',\n  };\n\n  return (\n    <button\n      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading && <LoadingSpinner size=\"sm\" />}\n      {children}\n    </button>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { apiClient } from '@/lib/api';\nimport { loginSchema } from '@/lib/validation';\nimport Button from '@/components/Button';\nimport { z } from 'zod';\n\nexport default function LoginContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const redirectUrl = searchParams.get('redirect') || '/dashboard';\n\n  const [formData, setFormData] = useState({ email: '', password: '' });\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setErrors({});\n\n    // Validate form with Zod\n    try {\n      loginSchema.parse(formData);\n    } catch (err) {\n      if (err instanceof z.ZodError) {\n        const fieldErrors: Record<string, string> = {};\n        err.errors.forEach((error) => {\n          if (error.path[0]) {\n            fieldErrors[error.path[0].toString()] = error.message;\n          }\n        });\n        setErrors(fieldErrors);\n      }\n      setLoading(false);\n      return;\n    }\n\n    try {\n      await apiClient.login(formData.email, formData.password);\n      console.log('[LOGIN] Login successful, redirecting to:', redirectUrl);\n      router.push(redirectUrl);\n      console.log('[LOGIN] Router.push called');\n    } catch (err: any) {\n      console.error('[LOGIN] Login error:', err);\n      setError(err.message || 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md\">\n        <h1 className=\"text-3xl font-bold text-center mb-6\">Login to Vizora</h1>\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => {\n                setFormData({ ...formData, email: e.target.value });\n                if (errors.email) setErrors({ ...errors, email: '' });\n              }}\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 text-gray-900 ${\n                errors.email ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'\n              }`}\n              placeholder=\"you@example.com\"\n              aria-label=\"Email address\"\n              aria-invalid={!!errors.email}\n              aria-describedby={errors.email ? 'email-error' : undefined}\n            />\n            {errors.email && (\n              <p id=\"email-error\" className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n                {errors.email}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              value={formData.password}\n              onChange={(e) => {\n                setFormData({ ...formData, password: e.target.value });\n                if (errors.password) setErrors({ ...errors, password: '' });\n              }}\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 text-gray-900 ${\n                errors.password ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'\n              }`}\n              placeholder=\"••••••••\"\n              aria-label=\"Password\"\n              aria-invalid={!!errors.password}\n              aria-describedby={errors.password ? 'password-error' : undefined}\n            />\n            {errors.password && (\n              <p id=\"password-error\" className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n                {errors.password}\n              </p>\n            )}\n          </div>\n\n          <Button\n            type=\"submit\"\n            loading={loading}\n            className=\"w-full\"\n            aria-label=\"Log in to your account\"\n          >\n            Login\n          </Button>\n        </form>\n\n        <p className=\"text-center mt-6 text-gray-600\">\n          Don't have an account?{' '}\n          {/* @ts-expect-error React 19 Link compatibility */}\n          <Link href=\"/register\" className=\"text-blue-600 hover:underline\">\n            Sign up\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}